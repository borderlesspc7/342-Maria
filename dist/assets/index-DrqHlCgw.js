(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function EA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Am={exports:{}},Bl={};var q_;function TA(){if(q_)return Bl;q_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:f,ref:o!==void 0?o:null,props:u}}return Bl.Fragment=e,Bl.jsx=n,Bl.jsxs=n,Bl}var F_;function SA(){return F_||(F_=1,Am.exports=TA()),Am.exports}var y=SA(),wm={exports:{}},Ae={};var G_;function bA(){if(G_)return Ae;G_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),R=Symbol.iterator;function w(M){return M===null||typeof M!="object"?null:(M=R&&M[R]||M["@@iterator"],typeof M=="function"?M:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,F={};function ne(M,Z,oe){this.props=M,this.context=Z,this.refs=F,this.updater=oe||P}ne.prototype.isReactComponent={},ne.prototype.setState=function(M,Z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Z,"setState")},ne.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ie(){}ie.prototype=ne.prototype;function re(M,Z,oe){this.props=M,this.context=Z,this.refs=F,this.updater=oe||P}var ve=re.prototype=new ie;ve.constructor=re,K(ve,ne.prototype),ve.isPureReactComponent=!0;var Se=Array.isArray;function Re(){}var x={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function N(M,Z,oe){var ce=oe.ref;return{$$typeof:r,type:M,key:Z,ref:ce!==void 0?ce:null,props:oe}}function C(M,Z){return N(M.type,Z,M.props)}function V(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function k(M){var Z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(oe){return Z[oe]})}var D=/\/+/g;function nt(M,Z){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):Z.toString(36)}function dt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Re,Re):(M.status="pending",M.then(function(Z){M.status==="pending"&&(M.status="fulfilled",M.value=Z)},function(Z){M.status==="pending"&&(M.status="rejected",M.reason=Z)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Y(M,Z,oe,ce,Te){var Ne=typeof M;(Ne==="undefined"||Ne==="boolean")&&(M=null);var Ue=!1;if(M===null)Ue=!0;else switch(Ne){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(M.$$typeof){case r:case e:Ue=!0;break;case T:return Ue=M._init,Y(Ue(M._payload),Z,oe,ce,Te)}}if(Ue)return Te=Te(M),Ue=ce===""?"."+nt(M,0):ce,Se(Te)?(oe="",Ue!=null&&(oe=Ue.replace(D,"$&/")+"/"),Y(Te,Z,oe,"",function(_a){return _a})):Te!=null&&(V(Te)&&(Te=C(Te,oe+(Te.key==null||M&&M.key===Te.key?"":(""+Te.key).replace(D,"$&/")+"/")+Ue)),Z.push(Te)),1;Ue=0;var Ot=ce===""?".":ce+":";if(Se(M))for(var st=0;st<M.length;st++)ce=M[st],Ne=Ot+nt(ce,st),Ue+=Y(ce,Z,oe,Ne,Te);else if(st=w(M),typeof st=="function")for(M=st.call(M),st=0;!(ce=M.next()).done;)ce=ce.value,Ne=Ot+nt(ce,st++),Ue+=Y(ce,Z,oe,Ne,Te);else if(Ne==="object"){if(typeof M.then=="function")return Y(dt(M),Z,oe,ce,Te);throw Z=String(M),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function ae(M,Z,oe){if(M==null)return M;var ce=[],Te=0;return Y(M,ce,"","",function(Ne){return Z.call(oe,Ne,Te++)}),ce}function me(M){if(M._status===-1){var Z=M._result;Z=Z(),Z.then(function(oe){(M._status===0||M._status===-1)&&(M._status=1,M._result=oe)},function(oe){(M._status===0||M._status===-1)&&(M._status=2,M._result=oe)}),M._status===-1&&(M._status=0,M._result=Z)}if(M._status===1)return M._result.default;throw M._result}var ee=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},fe={map:ae,forEach:function(M,Z,oe){ae(M,function(){Z.apply(this,arguments)},oe)},count:function(M){var Z=0;return ae(M,function(){Z++}),Z},toArray:function(M){return ae(M,function(Z){return Z})||[]},only:function(M){if(!V(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ae.Activity=S,Ae.Children=fe,Ae.Component=ne,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=re,Ae.StrictMode=a,Ae.Suspense=g,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(M){return x.H.useMemoCache(M)}},Ae.cache=function(M){return function(){return M.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(M,Z,oe){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ce=K({},M.props),Te=M.key;if(Z!=null)for(Ne in Z.key!==void 0&&(Te=""+Z.key),Z)!I.call(Z,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&Z.ref===void 0||(ce[Ne]=Z[Ne]);var Ne=arguments.length-2;if(Ne===1)ce.children=oe;else if(1<Ne){for(var Ue=Array(Ne),Ot=0;Ot<Ne;Ot++)Ue[Ot]=arguments[Ot+2];ce.children=Ue}return N(M.type,Te,ce)},Ae.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ae.createElement=function(M,Z,oe){var ce,Te={},Ne=null;if(Z!=null)for(ce in Z.key!==void 0&&(Ne=""+Z.key),Z)I.call(Z,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Te[ce]=Z[ce]);var Ue=arguments.length-2;if(Ue===1)Te.children=oe;else if(1<Ue){for(var Ot=Array(Ue),st=0;st<Ue;st++)Ot[st]=arguments[st+2];Te.children=Ot}if(M&&M.defaultProps)for(ce in Ue=M.defaultProps,Ue)Te[ce]===void 0&&(Te[ce]=Ue[ce]);return N(M,Ne,Te)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(M){return{$$typeof:m,render:M}},Ae.isValidElement=V,Ae.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:me}},Ae.memo=function(M,Z){return{$$typeof:p,type:M,compare:Z===void 0?null:Z}},Ae.startTransition=function(M){var Z=x.T,oe={};x.T=oe;try{var ce=M(),Te=x.S;Te!==null&&Te(oe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Re,ee)}catch(Ne){ee(Ne)}finally{Z!==null&&oe.types!==null&&(Z.types=oe.types),x.T=Z}},Ae.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Ae.use=function(M){return x.H.use(M)},Ae.useActionState=function(M,Z,oe){return x.H.useActionState(M,Z,oe)},Ae.useCallback=function(M,Z){return x.H.useCallback(M,Z)},Ae.useContext=function(M){return x.H.useContext(M)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(M,Z){return x.H.useDeferredValue(M,Z)},Ae.useEffect=function(M,Z){return x.H.useEffect(M,Z)},Ae.useEffectEvent=function(M){return x.H.useEffectEvent(M)},Ae.useId=function(){return x.H.useId()},Ae.useImperativeHandle=function(M,Z,oe){return x.H.useImperativeHandle(M,Z,oe)},Ae.useInsertionEffect=function(M,Z){return x.H.useInsertionEffect(M,Z)},Ae.useLayoutEffect=function(M,Z){return x.H.useLayoutEffect(M,Z)},Ae.useMemo=function(M,Z){return x.H.useMemo(M,Z)},Ae.useOptimistic=function(M,Z){return x.H.useOptimistic(M,Z)},Ae.useReducer=function(M,Z,oe){return x.H.useReducer(M,Z,oe)},Ae.useRef=function(M){return x.H.useRef(M)},Ae.useState=function(M){return x.H.useState(M)},Ae.useSyncExternalStore=function(M,Z,oe){return x.H.useSyncExternalStore(M,Z,oe)},Ae.useTransition=function(){return x.H.useTransition()},Ae.version="19.2.0",Ae}var Q_;function Ap(){return Q_||(Q_=1,wm.exports=bA()),wm.exports}var z=Ap();const Za=EA(z);var Rm={exports:{}},Hl={},Cm={exports:{}},Im={};var K_;function AA(){return K_||(K_=1,(function(r){function e(Y,ae){var me=Y.length;Y.push(ae);e:for(;0<me;){var ee=me-1>>>1,fe=Y[ee];if(0<o(fe,ae))Y[ee]=ae,Y[me]=fe,me=ee;else break e}}function n(Y){return Y.length===0?null:Y[0]}function a(Y){if(Y.length===0)return null;var ae=Y[0],me=Y.pop();if(me!==ae){Y[0]=me;e:for(var ee=0,fe=Y.length,M=fe>>>1;ee<M;){var Z=2*(ee+1)-1,oe=Y[Z],ce=Z+1,Te=Y[ce];if(0>o(oe,me))ce<fe&&0>o(Te,oe)?(Y[ee]=Te,Y[ce]=me,ee=ce):(Y[ee]=oe,Y[Z]=me,ee=Z);else if(ce<fe&&0>o(Te,me))Y[ee]=Te,Y[ce]=me,ee=ce;else break e}}return ae}function o(Y,ae){var me=Y.sortIndex-ae.sortIndex;return me!==0?me:Y.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],p=[],T=1,S=null,R=3,w=!1,P=!1,K=!1,F=!1,ne=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function ve(Y){for(var ae=n(p);ae!==null;){if(ae.callback===null)a(p);else if(ae.startTime<=Y)a(p),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=n(p)}}function Se(Y){if(K=!1,ve(Y),!P)if(n(g)!==null)P=!0,Re||(Re=!0,k());else{var ae=n(p);ae!==null&&dt(Se,ae.startTime-Y)}}var Re=!1,x=-1,I=5,N=-1;function C(){return F?!0:!(r.unstable_now()-N<I)}function V(){if(F=!1,Re){var Y=r.unstable_now();N=Y;var ae=!0;try{e:{P=!1,K&&(K=!1,ie(x),x=-1),w=!0;var me=R;try{t:{for(ve(Y),S=n(g);S!==null&&!(S.expirationTime>Y&&C());){var ee=S.callback;if(typeof ee=="function"){S.callback=null,R=S.priorityLevel;var fe=ee(S.expirationTime<=Y);if(Y=r.unstable_now(),typeof fe=="function"){S.callback=fe,ve(Y),ae=!0;break t}S===n(g)&&a(g),ve(Y)}else a(g);S=n(g)}if(S!==null)ae=!0;else{var M=n(p);M!==null&&dt(Se,M.startTime-Y),ae=!1}}break e}finally{S=null,R=me,w=!1}ae=void 0}}finally{ae?k():Re=!1}}}var k;if(typeof re=="function")k=function(){re(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,nt=D.port2;D.port1.onmessage=V,k=function(){nt.postMessage(null)}}else k=function(){ne(V,0)};function dt(Y,ae){x=ne(function(){Y(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(Y){switch(R){case 1:case 2:case 3:var ae=3;break;default:ae=R}var me=R;R=ae;try{return Y()}finally{R=me}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(Y,ae){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var me=R;R=Y;try{return ae()}finally{R=me}},r.unstable_scheduleCallback=function(Y,ae,me){var ee=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ee+me:ee):me=ee,Y){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=me+fe,Y={id:T++,callback:ae,priorityLevel:Y,startTime:me,expirationTime:fe,sortIndex:-1},me>ee?(Y.sortIndex=me,e(p,Y),n(g)===null&&Y===n(p)&&(K?(ie(x),x=-1):K=!0,dt(Se,me-ee))):(Y.sortIndex=fe,e(g,Y),P||w||(P=!0,Re||(Re=!0,k()))),Y},r.unstable_shouldYield=C,r.unstable_wrapCallback=function(Y){var ae=R;return function(){var me=R;R=ae;try{return Y.apply(this,arguments)}finally{R=me}}}})(Im)),Im}var Y_;function wA(){return Y_||(Y_=1,Cm.exports=AA()),Cm.exports}var Nm={exports:{}},$t={};var X_;function RA(){if(X_)return $t;X_=1;var r=Ap();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)p+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:p,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,$t.createPortal=function(g,p){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,T)},$t.flushSync=function(g){var p=f.T,T=a.p;try{if(f.T=null,a.p=2,g)return g()}finally{f.T=p,a.p=T,a.d.f()}},$t.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(g,p))},$t.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},$t.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var T=p.as,S=m(T,p.crossOrigin),R=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;T==="style"?a.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:w}):T==="script"&&a.d.X(g,{crossOrigin:S,integrity:R,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},$t.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var T=m(p.as,p.crossOrigin);a.d.M(g,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(g)},$t.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var T=p.as,S=m(T,p.crossOrigin);a.d.L(g,T,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},$t.preloadModule=function(g,p){if(typeof g=="string")if(p){var T=m(p.as,p.crossOrigin);a.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(g)},$t.requestFormReset=function(g){a.d.r(g)},$t.unstable_batchedUpdates=function(g,p){return g(p)},$t.useFormState=function(g,p,T){return f.H.useFormState(g,p,T)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.0",$t}var $_;function CA(){if($_)return Nm.exports;$_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Nm.exports=RA(),Nm.exports}var J_;function IA(){if(J_)return Hl;J_=1;var r=wA(),e=Ap(),n=CA();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(a(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var _=!1,b=h.child;b;){if(b===s){_=!0,s=h,l=d;break}if(b===l){_=!0,l=h,s=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===s){_=!0,s=d,l=h;break}if(b===l){_=!0,l=d,s=h;break}b=b.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,R=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),re=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function nt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case ne:return"Profiler";case F:return"StrictMode";case Se:return"Suspense";case Re:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case re:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case ve:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:nt(t.type)||"Memo";case I:i=t._payload,t=t._init;try{return nt(t(i))}catch{}}return null}var dt=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ee=[],fe=-1;function M(t){return{current:t}}function Z(t){0>fe||(t.current=ee[fe],ee[fe]=null,fe--)}function oe(t,i){fe++,ee[fe]=t.current,t.current=i}var ce=M(null),Te=M(null),Ne=M(null),Ue=M(null);function Ot(t,i){switch(oe(Ne,i),oe(Te,t),oe(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?f_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=f_(i),t=d_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ce),oe(ce,t)}function st(){Z(ce),Z(Te),Z(Ne)}function _a(t){t.memoizedState!==null&&oe(Ue,t);var i=ce.current,s=d_(i,t.type);i!==s&&(oe(Te,t),oe(ce,s))}function ms(t){Te.current===t&&(Z(ce),Z(Te)),Ue.current===t&&(Z(Ue),Ll._currentValue=me)}var ps,gs;function oi(t){if(ps===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);ps=i&&i[1]||"",gs=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ps+t+gs}var Lo=!1;function Ea(t,i){if(!t||Lo)return"";Lo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Q){var q=Q}Reflect.construct(t,[],W)}else{try{W.call()}catch(Q){q=Q}t.call(W.prototype)}}else{try{throw Error()}catch(Q){q=Q}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Q){if(Q&&q&&typeof Q.stack=="string")return[Q.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var O=_.split(`
`),H=b.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===H.length)for(l=O.length-1,h=H.length-1;1<=l&&0<=h&&O[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==H[h]){var X=`
`+O[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{Lo=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?oi(s):""}function ko(t,i){switch(t.tag){case 26:case 27:case 5:return oi(t.type);case 16:return oi("Lazy");case 13:return t.child!==i&&i!==null?oi("Suspense Fallback"):oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return Ea(t.type,!1);case 11:return Ea(t.type.render,!1);case 1:return Ea(t.type,!0);case 31:return oi("Activity");default:return""}}function Uo(t){try{var i="",s=null;do i+=ko(t,s),s=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,Mt=r.unstable_scheduleCallback,vr=r.unstable_cancelCallback,Rf=r.unstable_shouldYield,ju=r.unstable_requestPaint,tn=r.unstable_now,Ta=r.unstable_getCurrentPriorityLevel,zo=r.unstable_ImmediatePriority,Bo=r.unstable_UserBlockingPriority,_r=r.unstable_NormalPriority,Cf=r.unstable_LowPriority,Pu=r.unstable_IdlePriority,Lu=r.log,ku=r.unstable_setDisableYieldValue,Bn=null,Bt=null;function An(t){if(typeof Lu=="function"&&ku(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Bn,t)}catch{}}var mt=Math.clz32?Math.clz32:zu,Uu=Math.log,ys=Math.LN2;function zu(t){return t>>>=0,t===0?32:31-(Uu(t)/ys|0)|0}var li=256,Sa=262144,Tt=4194304;function ui(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ci(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=ui(l):(_&=b,_!==0?h=ui(_):s||(s=b&~t,s!==0&&(h=ui(s))))):(b=l&~d,b!==0?h=ui(b):_!==0?h=ui(_):s||(s=l&~t,s!==0&&(h=ui(s)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:h}function Hn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function If(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bu(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function hi(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function ba(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Nf(t,i,s,l,h,d){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var b=t.entanglements,O=t.expirationTimes,H=t.hiddenUpdates;for(s=_&~s;0<s;){var X=31-mt(s),W=1<<X;b[X]=0,O[X]=-1;var q=H[X];if(q!==null)for(H[X]=null,X=0;X<q.length;X++){var Q=q[X];Q!==null&&(Q.lane&=-536870913)}s&=~W}l!==0&&Aa(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Aa(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-mt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Ho(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-mt(s),h=1<<l;h&i|t[l]&i&&(t[l]|=i),s&=~h}}function qo(t,i){var s=i&-i;return s=(s&42)!==0?1:wa(s),(s&(t.suspendedLanes|i))!==0?0:s}function wa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ui(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Hu(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:P_(t.type))}function qn(t,i){var s=ae.p;try{return ae.p=t,i()}finally{ae.p=s}}var Fn=Math.random().toString(36).slice(2),St="__reactFiber$"+Fn,Pt="__reactProps$"+Fn,fi="__reactContainer$"+Fn,vs="__reactEvents$"+Fn,xf="__reactListeners$"+Fn,qu="__reactHandles$"+Fn,Fu="__reactResources$"+Fn,di="__reactMarker$"+Fn;function _s(t){delete t[St],delete t[Pt],delete t[vs],delete t[xf],delete t[qu]}function mi(t){var i=t[St];if(i)return i;for(var s=t.parentNode;s;){if(i=s[fi]||s[St]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=E_(t);t!==null;){if(s=t[St])return s;t=E_(t)}return i}t=s,s=t.parentNode}return null}function wn(t){if(t=t[St]||t[fi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function mn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function pi(t){var i=t[Fu];return i||(i=t[Fu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function bt(t){t[di]=!0}var Fo=new Set,Go={};function gi(t,i){yi(t,i),yi(t+"Capture",i)}function yi(t,i){for(Go[t]=i,t=0;t<i.length;t++)Fo.add(i[t])}var Qo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ko={},Yo={};function Gu(t){return Et.call(Yo,t)?!0:Et.call(Ko,t)?!1:Qo.test(t)?Yo[t]=!0:(Ko[t]=!0,!1)}function Es(t,i,s){if(Gu(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function pn(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function At(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Er(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Xo(t,i,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){s=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(_){s=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ye(t){if(!t._valueTracker){var i=Er(t)?"checked":"value";t._valueTracker=Xo(t,i,""+t[i])}}function Ra(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=Er(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function vi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ca=/[\n"\\]/g;function an(t){return t.replace(Ca,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ts(t,i,s,l,h,d,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?$o(t,_,Lt(i)):s!=null?$o(t,_,Lt(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Lt(b):t.removeAttribute("name")}function Qu(t,i,s,l,h,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ye(t);return}s=s!=null?""+Lt(s):"",i=i!=null?""+Lt(i):s,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ye(t)}function $o(t,i,s){i==="number"&&vi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Tr(t,i,s,l){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Lt(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ku(t,i,s){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+Lt(s):""}function Sr(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(dt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=Lt(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Ye(t)}function sn(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var Yu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jo(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||Yu.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Zo(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&Jo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Jo(t,d,i[d])}function Ss(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),br=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bs(t){return br.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gn(){}var Wo=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ar=null,_i=null;function Ia(t){var i=wn(t);if(i&&(t=i.stateNode)){var s=t[Pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ts(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var h=l[Pt]||null;if(!h)throw Error(a(90));Ts(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&Ra(l)}break e;case"textarea":Ku(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Tr(t,!!s.multiple,i,!1)}}}var As=!1;function wr(t,i,s){if(As)return t(i,s);As=!0;try{var l=t(i);return l}finally{if(As=!1,(Ar!==null||_i!==null)&&(Hc(),Ar&&(i=Ar,t=_i,_i=Ar=null,Ia(i),t)))for(i=0;i<t.length;i++)Ia(t[i])}}function Qn(t,i){var s=t.stateNode;if(s===null)return null;var l=s[Pt]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Na=!1;if(Cn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Na=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Na=!1}var Ei=null,el=null,xa=null;function tl(){if(xa)return xa;var t,i=el,s=i.length,l,h="value"in Ei?Ei.value:Ei.textContent,d=h.length;for(t=0;t<s&&i[t]===h[t];t++);var _=s-t;for(l=1;l<=_&&i[s-l]===h[d-l];l++);return xa=h.slice(t,1<l?1-l:void 0)}function Da(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function zi(){return!0}function Kn(){return!1}function Ht(t){function i(s,l,h,d,_){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(s=t[b],this[b]=s?s(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?zi:Kn,this.isPropagationStopped=Kn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),i}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=Ht(Bi),Rr=S({},Bi,{view:0,detail:0}),nl=Ht(Rr),Cr,ws,Si,Rs=S({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ir,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Si&&(Si&&t.type==="mousemove"?(Cr=t.screenX-Si.screenX,ws=t.screenY-Si.screenY):ws=Cr=0,Si=t),Cr)},movementY:function(t){return"movementY"in t?t.movementY:ws}}),il=Ht(Rs),Oa=S({},Rs,{dataTransfer:0}),$u=Ht(Oa),Ju=S({},Rr,{relatedTarget:0}),Ma=Ht(Ju),rl=S({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Zu=Ht(rl),Cs=S({},Bi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wu=Ht(Cs),ec=S({},Bi,{data:0}),bi=Ht(ec),tc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ic={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ic[t])?!!i[t]:!1}function Ir(){return rc}var nn=S({},Rr,{key:function(t){if(t.key){var i=tc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Da(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ir,charCode:function(t){return t.type==="keypress"?Da(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Da(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ac=Ht(nn),sc=S({},Rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=Ht(sc),c=S({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ir}),v=Ht(c),E=S({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ht(E),U=S({},Rs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Ht(U),se=S({},Bi,{newState:0,oldState:0}),Ce=Ht(se),pt=[9,13,27,32],Fe=Cn&&"CompositionEvent"in window,ot=null;Cn&&"documentMode"in document&&(ot=document.documentMode);var In=Cn&&"TextEvent"in window&&!ot,Ai=Cn&&(!Fe||ot&&8<ot&&11>=ot),Yn=" ",Xn=!1;function Va(t,i){switch(t){case"keyup":return pt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Is(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ns=!1;function FS(t,i){switch(t){case"compositionend":return Is(i);case"keypress":return i.which!==32?null:(Xn=!0,Yn);case"textInput":return t=i.data,t===Yn&&Xn?null:t;default:return null}}function GS(t,i){if(Ns)return t==="compositionend"||!Fe&&Va(t,i)?(t=tl(),xa=el=Ei=null,Ns=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ai&&i.locale!=="ko"?null:i.data;default:return null}}var QS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!QS[t.type]:i==="textarea"}function Ag(t,i,s,l){Ar?_i?_i.push(l):_i=[l]:Ar=l,i=Xc(i,"onChange"),0<i.length&&(s=new Ti("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var al=null,sl=null;function KS(t){s_(t,0)}function oc(t){var i=mn(t);if(Ra(i))return t}function wg(t,i){if(t==="change")return i}var Rg=!1;if(Cn){var Df;if(Cn){var Of="oninput"in document;if(!Of){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),Of=typeof Cg.oninput=="function"}Df=Of}else Df=!1;Rg=Df&&(!document.documentMode||9<document.documentMode)}function Ig(){al&&(al.detachEvent("onpropertychange",Ng),sl=al=null)}function Ng(t){if(t.propertyName==="value"&&oc(sl)){var i=[];Ag(i,sl,t,Rn(t)),wr(KS,i)}}function YS(t,i,s){t==="focusin"?(Ig(),al=i,sl=s,al.attachEvent("onpropertychange",Ng)):t==="focusout"&&Ig()}function XS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return oc(sl)}function $S(t,i){if(t==="click")return oc(i)}function JS(t,i){if(t==="input"||t==="change")return oc(i)}function ZS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var gn=typeof Object.is=="function"?Object.is:ZS;function ol(t,i){if(gn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Et.call(i,h)||!gn(t[h],i[h]))return!1}return!0}function xg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dg(t,i){var s=xg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=xg(s)}}function Og(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Og(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Mg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=vi(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=vi(t.document)}return i}function Mf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var WS=Cn&&"documentMode"in document&&11>=document.documentMode,xs=null,Vf=null,ll=null,jf=!1;function Vg(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;jf||xs==null||xs!==vi(l)||(l=xs,"selectionStart"in l&&Mf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ll&&ol(ll,l)||(ll=l,l=Xc(Vf,"onSelect"),0<l.length&&(i=new Ti("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=xs)))}function ja(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var Ds={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionrun:ja("Transition","TransitionRun"),transitionstart:ja("Transition","TransitionStart"),transitioncancel:ja("Transition","TransitionCancel"),transitionend:ja("Transition","TransitionEnd")},Pf={},jg={};Cn&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function Pa(t){if(Pf[t])return Pf[t];if(!Ds[t])return t;var i=Ds[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in jg)return Pf[t]=i[s];return t}var Pg=Pa("animationend"),Lg=Pa("animationiteration"),kg=Pa("animationstart"),eb=Pa("transitionrun"),tb=Pa("transitionstart"),nb=Pa("transitioncancel"),Ug=Pa("transitionend"),zg=new Map,Lf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lf.push("scrollEnd");function $n(t,i){zg.set(t,i),gi(i,[t])}var lc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Nn=[],Os=0,kf=0;function uc(){for(var t=Os,i=kf=Os=0;i<t;){var s=Nn[i];Nn[i++]=null;var l=Nn[i];Nn[i++]=null;var h=Nn[i];Nn[i++]=null;var d=Nn[i];if(Nn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Bg(s,h,d)}}function cc(t,i,s,l){Nn[Os++]=t,Nn[Os++]=i,Nn[Os++]=s,Nn[Os++]=l,kf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Uf(t,i,s,l){return cc(t,i,s,l),hc(t)}function La(t,i){return cc(t,null,null,i),hc(t)}function Bg(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-mt(s),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=s|536870912),d):null}function hc(t){if(50<xl)throw xl=0,Yd=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ms={};function ib(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,i,s,l){return new ib(t,i,s,l)}function zf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qi(t,i){var s=t.alternate;return s===null?(s=yn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Hg(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function fc(t,i,s,l,h,d){var _=0;if(l=t,typeof t=="function")zf(t)&&(_=1);else if(typeof t=="string")_=lA(t,s,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=yn(31,s,i,h),t.elementType=N,t.lanes=d,t;case K:return ka(s.children,h,d,i);case F:_=8,h|=24;break;case ne:return t=yn(12,s,i,h|2),t.elementType=ne,t.lanes=d,t;case Se:return t=yn(13,s,i,h),t.elementType=Se,t.lanes=d,t;case Re:return t=yn(19,s,i,h),t.elementType=Re,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:_=10;break e;case ie:_=9;break e;case ve:_=11;break e;case x:_=14;break e;case I:_=16,l=null;break e}_=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=yn(_,s,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function ka(t,i,s,l){return t=yn(7,t,l,i),t.lanes=s,t}function Bf(t,i,s){return t=yn(6,t,null,i),t.lanes=s,t}function qg(t){var i=yn(18,null,null,0);return i.stateNode=t,i}function Hf(t,i,s){return i=yn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Fg=new WeakMap;function xn(t,i){if(typeof t=="object"&&t!==null){var s=Fg.get(t);return s!==void 0?s:(i={value:t,source:i,stack:Uo(i)},Fg.set(t,i),i)}return{value:t,source:i,stack:Uo(i)}}var Vs=[],js=0,dc=null,ul=0,Dn=[],On=0,Nr=null,wi=1,Ri="";function Fi(t,i){Vs[js++]=ul,Vs[js++]=dc,dc=t,ul=i}function Gg(t,i,s){Dn[On++]=wi,Dn[On++]=Ri,Dn[On++]=Nr,Nr=t;var l=wi;t=Ri;var h=32-mt(l)-1;l&=~(1<<h),s+=1;var d=32-mt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,wi=1<<32-mt(i)+h|s<<h|l,Ri=d+t}else wi=1<<d|s<<h|l,Ri=t}function qf(t){t.return!==null&&(Fi(t,1),Gg(t,1,0))}function Ff(t){for(;t===dc;)dc=Vs[--js],Vs[js]=null,ul=Vs[--js],Vs[js]=null;for(;t===Nr;)Nr=Dn[--On],Dn[On]=null,Ri=Dn[--On],Dn[On]=null,wi=Dn[--On],Dn[On]=null}function Qg(t,i){Dn[On++]=wi,Dn[On++]=Ri,Dn[On++]=Nr,wi=i.id,Ri=i.overflow,Nr=t}var qt=null,rt=null,ke=!1,xr=null,Mn=!1,Gf=Error(a(519));function Dr(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cl(xn(i,t)),Gf}function Kg(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[St]=t,i[Pt]=l,s){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(s=0;s<Ol.length;s++)Oe(Ol[s],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),Qu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),Sr(i,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||c_(i.textContent,s)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=Gn),i=!0):i=!1,i||Dr(t,!0)}function Yg(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:qt=qt.return}}function Ps(t){if(t!==qt)return!1;if(!ke)return Yg(t),ke=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||um(t.type,t.memoizedProps)),s=!s),s&&rt&&Dr(t),Yg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));rt=__(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));rt=__(t)}else i===27?(i=rt,Gr(t.type)?(t=mm,mm=null,rt=t):rt=i):rt=qt?jn(t.stateNode.nextSibling):null;return!0}function Ua(){rt=qt=null,ke=!1}function Qf(){var t=xr;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),xr=null),t}function cl(t){xr===null?xr=[t]:xr.push(t)}var Kf=M(null),za=null,Gi=null;function Or(t,i,s){oe(Kf,i._currentValue),i._currentValue=s}function Qi(t){t._currentValue=Kf.current,Z(Kf)}function Yf(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function Xf(t,i,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var O=0;O<i.length;O++)if(b.context===i[O]){d.lanes|=s,b=d.alternate,b!==null&&(b.lanes|=s),Yf(d.return,s,t),l||(_=null);break e}d=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),Yf(_,s,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ls(t,i,s,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var b=h.type;gn(h.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(h===Ue.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}h=h.return}t!==null&&Xf(i,t,s,l),i.flags|=262144}function mc(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ba(t){za=t,Gi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Xg(za,t)}function pc(t,i){return za===null&&Ba(t),Xg(t,i)}function Xg(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Gi===null){if(t===null)throw Error(a(308));Gi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Gi=Gi.next=i;return s}var rb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},ab=r.unstable_scheduleCallback,sb=r.unstable_NormalPriority,wt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $f(){return{controller:new rb,data:new Map,refCount:0}}function hl(t){t.refCount--,t.refCount===0&&ab(sb,function(){t.controller.abort()})}var fl=null,Jf=0,ks=0,Us=null;function ob(t,i){if(fl===null){var s=fl=[];Jf=0,ks=em(),Us={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Jf++,i.then($g,$g),i}function $g(){if(--Jf===0&&fl!==null){Us!==null&&(Us.status="fulfilled");var t=fl;fl=null,ks=0,Us=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function lb(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Jg=Y.S;Y.S=function(t,i){Vv=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&ob(t,i),Jg!==null&&Jg(t,i)};var Ha=M(null);function Zf(){var t=Ha.current;return t!==null?t:tt.pooledCache}function gc(t,i){i===null?oe(Ha,Ha.current):oe(Ha,i.pool)}function Zg(){var t=Zf();return t===null?null:{parent:wt._currentValue,pool:t}}var zs=Error(a(460)),Wf=Error(a(474)),yc=Error(a(542)),vc={then:function(){}};function Wg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ey(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Gn,Gn),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ny(t),t;default:if(typeof i.status=="string")i.then(Gn,Gn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ny(t),t}throw Fa=i,zs}}function qa(t){try{var i=t._init;return i(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Fa=s,zs):s}}var Fa=null;function ty(){if(Fa===null)throw Error(a(459));var t=Fa;return Fa=null,t}function ny(t){if(t===zs||t===yc)throw Error(a(483))}var Bs=null,dl=0;function _c(t){var i=dl;return dl+=1,Bs===null&&(Bs=[]),ey(Bs,t,i)}function ml(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ec(t,i){throw i.$$typeof===R?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function iy(t){function i(L,j){if(t){var B=L.deletions;B===null?(L.deletions=[j],L.flags|=16):B.push(j)}}function s(L,j){if(!t)return null;for(;j!==null;)i(L,j),j=j.sibling;return null}function l(L){for(var j=new Map;L!==null;)L.key!==null?j.set(L.key,L):j.set(L.index,L),L=L.sibling;return j}function h(L,j){return L=qi(L,j),L.index=0,L.sibling=null,L}function d(L,j,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<j?(L.flags|=67108866,j):B):(L.flags|=67108866,j)):(L.flags|=1048576,j)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function b(L,j,B,$){return j===null||j.tag!==6?(j=Bf(B,L.mode,$),j.return=L,j):(j=h(j,B),j.return=L,j)}function O(L,j,B,$){var pe=B.type;return pe===K?X(L,j,B.props.children,$,B.key):j!==null&&(j.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===I&&qa(pe)===j.type)?(j=h(j,B.props),ml(j,B),j.return=L,j):(j=fc(B.type,B.key,B.props,null,L.mode,$),ml(j,B),j.return=L,j)}function H(L,j,B,$){return j===null||j.tag!==4||j.stateNode.containerInfo!==B.containerInfo||j.stateNode.implementation!==B.implementation?(j=Hf(B,L.mode,$),j.return=L,j):(j=h(j,B.children||[]),j.return=L,j)}function X(L,j,B,$,pe){return j===null||j.tag!==7?(j=ka(B,L.mode,$,pe),j.return=L,j):(j=h(j,B),j.return=L,j)}function W(L,j,B){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Bf(""+j,L.mode,B),j.return=L,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case w:return B=fc(j.type,j.key,j.props,null,L.mode,B),ml(B,j),B.return=L,B;case P:return j=Hf(j,L.mode,B),j.return=L,j;case I:return j=qa(j),W(L,j,B)}if(dt(j)||k(j))return j=ka(j,L.mode,B,null),j.return=L,j;if(typeof j.then=="function")return W(L,_c(j),B);if(j.$$typeof===re)return W(L,pc(L,j),B);Ec(L,j)}return null}function q(L,j,B,$){var pe=j!==null?j.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return pe!==null?null:b(L,j,""+B,$);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return B.key===pe?O(L,j,B,$):null;case P:return B.key===pe?H(L,j,B,$):null;case I:return B=qa(B),q(L,j,B,$)}if(dt(B)||k(B))return pe!==null?null:X(L,j,B,$,null);if(typeof B.then=="function")return q(L,j,_c(B),$);if(B.$$typeof===re)return q(L,j,pc(L,B),$);Ec(L,B)}return null}function Q(L,j,B,$,pe){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return L=L.get(B)||null,b(j,L,""+$,pe);if(typeof $=="object"&&$!==null){switch($.$$typeof){case w:return L=L.get($.key===null?B:$.key)||null,O(j,L,$,pe);case P:return L=L.get($.key===null?B:$.key)||null,H(j,L,$,pe);case I:return $=qa($),Q(L,j,B,$,pe)}if(dt($)||k($))return L=L.get(B)||null,X(j,L,$,pe,null);if(typeof $.then=="function")return Q(L,j,B,_c($),pe);if($.$$typeof===re)return Q(L,j,B,pc(j,$),pe);Ec(j,$)}return null}function he(L,j,B,$){for(var pe=null,Be=null,de=j,xe=j=0,Ve=null;de!==null&&xe<B.length;xe++){de.index>xe?(Ve=de,de=null):Ve=de.sibling;var He=q(L,de,B[xe],$);if(He===null){de===null&&(de=Ve);break}t&&de&&He.alternate===null&&i(L,de),j=d(He,j,xe),Be===null?pe=He:Be.sibling=He,Be=He,de=Ve}if(xe===B.length)return s(L,de),ke&&Fi(L,xe),pe;if(de===null){for(;xe<B.length;xe++)de=W(L,B[xe],$),de!==null&&(j=d(de,j,xe),Be===null?pe=de:Be.sibling=de,Be=de);return ke&&Fi(L,xe),pe}for(de=l(de);xe<B.length;xe++)Ve=Q(de,L,xe,B[xe],$),Ve!==null&&(t&&Ve.alternate!==null&&de.delete(Ve.key===null?xe:Ve.key),j=d(Ve,j,xe),Be===null?pe=Ve:Be.sibling=Ve,Be=Ve);return t&&de.forEach(function($r){return i(L,$r)}),ke&&Fi(L,xe),pe}function ye(L,j,B,$){if(B==null)throw Error(a(151));for(var pe=null,Be=null,de=j,xe=j=0,Ve=null,He=B.next();de!==null&&!He.done;xe++,He=B.next()){de.index>xe?(Ve=de,de=null):Ve=de.sibling;var $r=q(L,de,He.value,$);if($r===null){de===null&&(de=Ve);break}t&&de&&$r.alternate===null&&i(L,de),j=d($r,j,xe),Be===null?pe=$r:Be.sibling=$r,Be=$r,de=Ve}if(He.done)return s(L,de),ke&&Fi(L,xe),pe;if(de===null){for(;!He.done;xe++,He=B.next())He=W(L,He.value,$),He!==null&&(j=d(He,j,xe),Be===null?pe=He:Be.sibling=He,Be=He);return ke&&Fi(L,xe),pe}for(de=l(de);!He.done;xe++,He=B.next())He=Q(de,L,xe,He.value,$),He!==null&&(t&&He.alternate!==null&&de.delete(He.key===null?xe:He.key),j=d(He,j,xe),Be===null?pe=He:Be.sibling=He,Be=He);return t&&de.forEach(function(_A){return i(L,_A)}),ke&&Fi(L,xe),pe}function et(L,j,B,$){if(typeof B=="object"&&B!==null&&B.type===K&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case w:e:{for(var pe=B.key;j!==null;){if(j.key===pe){if(pe=B.type,pe===K){if(j.tag===7){s(L,j.sibling),$=h(j,B.props.children),$.return=L,L=$;break e}}else if(j.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===I&&qa(pe)===j.type){s(L,j.sibling),$=h(j,B.props),ml($,B),$.return=L,L=$;break e}s(L,j);break}else i(L,j);j=j.sibling}B.type===K?($=ka(B.props.children,L.mode,$,B.key),$.return=L,L=$):($=fc(B.type,B.key,B.props,null,L.mode,$),ml($,B),$.return=L,L=$)}return _(L);case P:e:{for(pe=B.key;j!==null;){if(j.key===pe)if(j.tag===4&&j.stateNode.containerInfo===B.containerInfo&&j.stateNode.implementation===B.implementation){s(L,j.sibling),$=h(j,B.children||[]),$.return=L,L=$;break e}else{s(L,j);break}else i(L,j);j=j.sibling}$=Hf(B,L.mode,$),$.return=L,L=$}return _(L);case I:return B=qa(B),et(L,j,B,$)}if(dt(B))return he(L,j,B,$);if(k(B)){if(pe=k(B),typeof pe!="function")throw Error(a(150));return B=pe.call(B),ye(L,j,B,$)}if(typeof B.then=="function")return et(L,j,_c(B),$);if(B.$$typeof===re)return et(L,j,pc(L,B),$);Ec(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,j!==null&&j.tag===6?(s(L,j.sibling),$=h(j,B),$.return=L,L=$):(s(L,j),$=Bf(B,L.mode,$),$.return=L,L=$),_(L)):s(L,j)}return function(L,j,B,$){try{dl=0;var pe=et(L,j,B,$);return Bs=null,pe}catch(de){if(de===zs||de===yc)throw de;var Be=yn(29,de,null,L.mode);return Be.lanes=$,Be.return=L,Be}finally{}}}var Ga=iy(!0),ry=iy(!1),Mr=!1;function ed(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function td(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function jr(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=hc(t),Bg(t,null,s),i}return cc(t,l,i,s),hc(t)}function pl(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Ho(t,s)}}function nd(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?h=d=i:d=d.next=i}else h=d=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var id=!1;function gl(){if(id){var t=Us;if(t!==null)throw t}}function yl(t,i,s,l){id=!1;var h=t.updateQueue;Mr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var O=b,H=O.next;O.next=null,_===null?d=H:_.next=H,_=O;var X=t.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==_&&(b===null?X.firstBaseUpdate=H:b.next=H,X.lastBaseUpdate=O))}if(d!==null){var W=h.baseState;_=0,X=H=O=null,b=d;do{var q=b.lane&-536870913,Q=q!==b.lane;if(Q?(Me&q)===q:(l&q)===q){q!==0&&q===ks&&(id=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var he=t,ye=b;q=i;var et=s;switch(ye.tag){case 1:if(he=ye.payload,typeof he=="function"){W=he.call(et,W,q);break e}W=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ye.payload,q=typeof he=="function"?he.call(et,W,q):he,q==null)break e;W=S({},W,q);break e;case 2:Mr=!0}}q=b.callback,q!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[q]:Q.push(q))}else Q={lane:q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(H=X=Q,O=W):X=X.next=Q,_|=q;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);X===null&&(O=W),h.baseState=O,h.firstBaseUpdate=H,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),zr|=_,t.lanes=_,t.memoizedState=W}}function ay(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function sy(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)ay(s[t],i)}var Hs=M(null),Tc=M(0);function oy(t,i){t=tr,oe(Tc,t),oe(Hs,i),tr=t|i.baseLanes}function rd(){oe(Tc,tr),oe(Hs,Hs.current)}function ad(){tr=Tc.current,Z(Hs),Z(Tc)}var vn=M(null),Vn=null;function Pr(t){var i=t.alternate;oe(gt,gt.current&1),oe(vn,t),Vn===null&&(i===null||Hs.current!==null||i.memoizedState!==null)&&(Vn=t)}function sd(t){oe(gt,gt.current),oe(vn,t),Vn===null&&(Vn=t)}function ly(t){t.tag===22?(oe(gt,gt.current),oe(vn,t),Vn===null&&(Vn=t)):Lr()}function Lr(){oe(gt,gt.current),oe(vn,vn.current)}function _n(t){Z(vn),Vn===t&&(Vn=null),Z(gt)}var gt=M(0);function Sc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||fm(s)||dm(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ki=0,Ie=null,Ze=null,Rt=null,bc=!1,qs=!1,Qa=!1,Ac=0,vl=0,Fs=null,ub=0;function ht(){throw Error(a(321))}function od(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!gn(t[s],i[s]))return!1;return!0}function ld(t,i,s,l,h,d){return Ki=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?Gy:bd,Qa=!1,d=s(l,h),Qa=!1,qs&&(d=cy(i,s,l,h)),uy(t),d}function uy(t){Y.H=Tl;var i=Ze!==null&&Ze.next!==null;if(Ki=0,Rt=Ze=Ie=null,bc=!1,vl=0,Fs=null,i)throw Error(a(300));t===null||Ct||(t=t.dependencies,t!==null&&mc(t)&&(Ct=!0))}function cy(t,i,s,l){Ie=t;var h=0;do{if(qs&&(Fs=null),vl=0,qs=!1,25<=h)throw Error(a(301));if(h+=1,Rt=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=Qy,d=i(s,l)}while(qs);return d}function cb(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?_l(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ie.flags|=1024),i}function ud(){var t=Ac!==0;return Ac=0,t}function cd(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function hd(t){if(bc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}bc=!1}Ki=0,Rt=Ze=Ie=null,qs=!1,vl=Ac=0,Fs=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ie.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function yt(){if(Ze===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=Rt===null?Ie.memoizedState:Rt.next;if(i!==null)Rt=i,Ze=t;else{if(t===null)throw Ie.alternate===null?Error(a(467)):Error(a(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Rt===null?Ie.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function wc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(t){var i=vl;return vl+=1,Fs===null&&(Fs=[]),t=ey(Fs,t,i),i=Ie,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?Gy:bd),t}function Rc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _l(t);if(t.$$typeof===re)return Ft(t)}throw Error(a(438,String(t)))}function fd(t){var i=null,s=Ie.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=wc(),Ie.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=C;return i.index++,s}function Yi(t,i){return typeof i=="function"?i(t):i}function Cc(t){var i=yt();return dd(i,Ze,t)}function dd(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var b=_=null,O=null,H=i,X=!1;do{var W=H.lane&-536870913;if(W!==H.lane?(Me&W)===W:(Ki&W)===W){var q=H.revertLane;if(q===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),W===ks&&(X=!0);else if((Ki&q)===q){H=H.next,q===ks&&(X=!0);continue}else W={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(b=O=W,_=d):O=O.next=W,Ie.lanes|=q,zr|=q;W=H.action,Qa&&s(d,W),d=H.hasEagerState?H.eagerState:s(d,W)}else q={lane:W,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(b=O=q,_=d):O=O.next=q,Ie.lanes|=W,zr|=W;H=H.next}while(H!==null&&H!==i);if(O===null?_=d:O.next=b,!gn(d,t.memoizedState)&&(Ct=!0,X&&(s=Us,s!==null)))throw s;t.memoizedState=d,t.baseState=_,t.baseQueue=O,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function md(t){var i=yt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=i.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);gn(d,i.memoizedState)||(Ct=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function hy(t,i,s){var l=Ie,h=yt(),d=ke;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var _=!gn((Ze||h).memoizedState,s);if(_&&(h.memoizedState=s,Ct=!0),h=h.queue,yd(my.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,Gs(9,{destroy:void 0},dy.bind(null,l,h,s,i),null),tt===null)throw Error(a(349));d||(Ki&127)!==0||fy(l,i,s)}return s}function fy(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Ie.updateQueue,i===null?(i=wc(),Ie.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function dy(t,i,s,l){i.value=s,i.getSnapshot=l,py(i)&&gy(t)}function my(t,i,s){return s(function(){py(i)&&gy(t)})}function py(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!gn(t,s)}catch{return!0}}function gy(t){var i=La(t,2);i!==null&&hn(i,t,2)}function pd(t){var i=rn();if(typeof t=="function"){var s=t;if(t=s(),Qa){An(!0);try{s()}finally{An(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:t},i}function yy(t,i,s,l){return t.baseState=s,dd(t,Ze,typeof l=="function"?l:Yi)}function hb(t,i,s,l,h){if(xc(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,vy(i,d)):(d.next=s.next,i.pending=s.next=d)}}function vy(t,i){var s=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Y.T,_={};Y.T=_;try{var b=s(h,l),O=Y.S;O!==null&&O(_,b),_y(t,i,b)}catch(H){gd(t,i,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),Y.T=d}}else try{d=s(h,l),_y(t,i,d)}catch(H){gd(t,i,H)}}function _y(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Ey(t,i,l)},function(l){return gd(t,i,l)}):Ey(t,i,s)}function Ey(t,i,s){i.status="fulfilled",i.value=s,Ty(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,vy(t,s)))}function gd(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,Ty(i),i=i.next;while(i!==l)}t.action=null}function Ty(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Sy(t,i){return i}function by(t,i){if(ke){var s=tt.formState;if(s!==null){e:{var l=Ie;if(ke){if(rt){t:{for(var h=rt,d=Mn;h.nodeType!==8;){if(!d){h=null;break t}if(h=jn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){rt=jn(h.nextSibling),l=h.data==="F!";break e}}Dr(l)}l=!1}l&&(i=s[0])}}return s=rn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sy,lastRenderedState:i},s.queue=l,s=Hy.bind(null,Ie,l),l.dispatch=s,l=pd(!1),d=Sd.bind(null,Ie,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,s=hb.bind(null,Ie,h,d,s),h.dispatch=s,l.memoizedState=t,[i,s,!1]}function Ay(t){var i=yt();return wy(i,Ze,t)}function wy(t,i,s){if(i=dd(t,i,Sy)[0],t=Cc(Yi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=_l(i)}catch(_){throw _===zs?yc:_}else l=i;i=yt();var h=i.queue,d=h.dispatch;return s!==i.memoizedState&&(Ie.flags|=2048,Gs(9,{destroy:void 0},fb.bind(null,h,s),null)),[l,d,t]}function fb(t,i){t.action=i}function Ry(t){var i=yt(),s=Ze;if(s!==null)return wy(i,s,t);yt(),i=i.memoizedState,s=yt();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function Gs(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=wc(),Ie.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function Cy(){return yt().memoizedState}function Ic(t,i,s,l){var h=rn();Ie.flags|=t,h.memoizedState=Gs(1|i,{destroy:void 0},s,l===void 0?null:l)}function Nc(t,i,s,l){var h=yt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ze!==null&&l!==null&&od(l,Ze.memoizedState.deps)?h.memoizedState=Gs(i,d,s,l):(Ie.flags|=t,h.memoizedState=Gs(1|i,d,s,l))}function Iy(t,i){Ic(8390656,8,t,i)}function yd(t,i){Nc(2048,8,t,i)}function db(t){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=wc(),Ie.updateQueue=i,i.events=[t];else{var s=i.events;s===null?i.events=[t]:s.push(t)}}function Ny(t){var i=yt().memoizedState;return db({ref:i,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function xy(t,i){return Nc(4,2,t,i)}function Dy(t,i){return Nc(4,4,t,i)}function Oy(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function My(t,i,s){s=s!=null?s.concat([t]):null,Nc(4,4,Oy.bind(null,i,t),s)}function vd(){}function Vy(t,i){var s=yt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&od(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function jy(t,i){var s=yt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&od(i,l[1]))return l[0];if(l=t(),Qa){An(!0);try{t()}finally{An(!1)}}return s.memoizedState=[l,i],l}function _d(t,i,s){return s===void 0||(Ki&1073741824)!==0&&(Me&261930)===0?t.memoizedState=i:(t.memoizedState=s,t=Pv(),Ie.lanes|=t,zr|=t,s)}function Py(t,i,s,l){return gn(s,i)?s:Hs.current!==null?(t=_d(t,s,l),gn(t,i)||(Ct=!0),t):(Ki&42)===0||(Ki&1073741824)!==0&&(Me&261930)===0?(Ct=!0,t.memoizedState=s):(t=Pv(),Ie.lanes|=t,zr|=t,i)}function Ly(t,i,s,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=Y.T,b={};Y.T=b,Sd(t,!1,i,s);try{var O=h(),H=Y.S;if(H!==null&&H(b,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var X=lb(O,l);El(t,i,X,Sn(t))}else El(t,i,l,Sn(t))}catch(W){El(t,i,{then:function(){},status:"rejected",reason:W},Sn())}finally{ae.p=d,_!==null&&b.types!==null&&(_.types=b.types),Y.T=_}}function mb(){}function Ed(t,i,s,l){if(t.tag!==5)throw Error(a(476));var h=ky(t).queue;Ly(t,h,i,me,s===null?mb:function(){return Uy(t),s(l)})}function ky(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:me},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Uy(t){var i=ky(t);i.next===null&&(i=t.alternate.memoizedState),El(t,i.next.queue,{},Sn())}function Td(){return Ft(Ll)}function zy(){return yt().memoizedState}function By(){return yt().memoizedState}function pb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Sn();t=Vr(s);var l=jr(i,t,s);l!==null&&(hn(l,i,s),pl(l,i,s)),i={cache:$f()},t.payload=i;return}i=i.return}}function gb(t,i,s){var l=Sn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},xc(t)?qy(i,s):(s=Uf(t,i,s,l),s!==null&&(hn(s,t,l),Fy(s,i,l)))}function Hy(t,i,s){var l=Sn();El(t,i,s,l)}function El(t,i,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(xc(t))qy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,b=d(_,s);if(h.hasEagerState=!0,h.eagerState=b,gn(b,_))return cc(t,i,h,0),tt===null&&uc(),!1}catch{}finally{}if(s=Uf(t,i,h,l),s!==null)return hn(s,t,l),Fy(s,i,l),!0}return!1}function Sd(t,i,s,l){if(l={lane:2,revertLane:em(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},xc(t)){if(i)throw Error(a(479))}else i=Uf(t,s,l,2),i!==null&&hn(i,t,2)}function xc(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function qy(t,i){qs=bc=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function Fy(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Ho(t,s)}}var Tl={readContext:Ft,use:Rc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};Tl.useEffectEvent=ht;var Gy={readContext:Ft,use:Rc,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:Iy,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Ic(4194308,4,Oy.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Ic(4194308,4,t,i)},useInsertionEffect:function(t,i){Ic(4,2,t,i)},useMemo:function(t,i){var s=rn();i=i===void 0?null:i;var l=t();if(Qa){An(!0);try{t()}finally{An(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=rn();if(s!==void 0){var h=s(i);if(Qa){An(!0);try{s(i)}finally{An(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=gb.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=pd(t);var i=t.queue,s=Hy.bind(null,Ie,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:vd,useDeferredValue:function(t,i){var s=rn();return _d(s,t,i)},useTransition:function(){var t=pd(!1);return t=Ly.bind(null,Ie,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Ie,h=rn();if(ke){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),tt===null)throw Error(a(349));(Me&127)!==0||fy(l,i,s)}h.memoizedState=s;var d={value:s,getSnapshot:i};return h.queue=d,Iy(my.bind(null,l,d,t),[t]),l.flags|=2048,Gs(9,{destroy:void 0},dy.bind(null,l,d,s,i),null),s},useId:function(){var t=rn(),i=tt.identifierPrefix;if(ke){var s=Ri,l=wi;s=(l&~(1<<32-mt(l)-1)).toString(32)+s,i="_"+i+"R_"+s,s=Ac++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=ub++,i="_"+i+"r_"+s.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Td,useFormState:by,useActionState:by,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Sd.bind(null,Ie,!0,s),s.dispatch=i,[t,i]},useMemoCache:fd,useCacheRefresh:function(){return rn().memoizedState=pb.bind(null,Ie)},useEffectEvent:function(t){var i=rn(),s={impl:t};return i.memoizedState=s,function(){if((Ge&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},bd={readContext:Ft,use:Rc,useCallback:Vy,useContext:Ft,useEffect:yd,useImperativeHandle:My,useInsertionEffect:xy,useLayoutEffect:Dy,useMemo:jy,useReducer:Cc,useRef:Cy,useState:function(){return Cc(Yi)},useDebugValue:vd,useDeferredValue:function(t,i){var s=yt();return Py(s,Ze.memoizedState,t,i)},useTransition:function(){var t=Cc(Yi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:_l(t),i]},useSyncExternalStore:hy,useId:zy,useHostTransitionStatus:Td,useFormState:Ay,useActionState:Ay,useOptimistic:function(t,i){var s=yt();return yy(s,Ze,t,i)},useMemoCache:fd,useCacheRefresh:By};bd.useEffectEvent=Ny;var Qy={readContext:Ft,use:Rc,useCallback:Vy,useContext:Ft,useEffect:yd,useImperativeHandle:My,useInsertionEffect:xy,useLayoutEffect:Dy,useMemo:jy,useReducer:md,useRef:Cy,useState:function(){return md(Yi)},useDebugValue:vd,useDeferredValue:function(t,i){var s=yt();return Ze===null?_d(s,t,i):Py(s,Ze.memoizedState,t,i)},useTransition:function(){var t=md(Yi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:_l(t),i]},useSyncExternalStore:hy,useId:zy,useHostTransitionStatus:Td,useFormState:Ry,useActionState:Ry,useOptimistic:function(t,i){var s=yt();return Ze!==null?yy(s,Ze,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:fd,useCacheRefresh:By};Qy.useEffectEvent=Ny;function Ad(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:S({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var wd={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=Sn(),h=Vr(l);h.payload=i,s!=null&&(h.callback=s),i=jr(t,h,l),i!==null&&(hn(i,t,l),pl(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=Sn(),h=Vr(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=jr(t,h,l),i!==null&&(hn(i,t,l),pl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Sn(),l=Vr(s);l.tag=2,i!=null&&(l.callback=i),i=jr(t,l,s),i!==null&&(hn(i,t,s),pl(i,t,s))}};function Ky(t,i,s,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!ol(s,l)||!ol(h,d):!0}function Yy(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&wd.enqueueReplaceState(i,i.state,null)}function Ka(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=S({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Xy(t){lc(t)}function $y(t){console.error(t)}function Jy(t){lc(t)}function Dc(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Zy(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Rd(t,i,s){return s=Vr(s),s.tag=3,s.payload={element:null},s.callback=function(){Dc(t,i)},s}function Wy(t){return t=Vr(t),t.tag=3,t}function ev(t,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Zy(i,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Zy(i,s,l),typeof h!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function yb(t,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&Ls(i,s,h,!0),s=vn.current,s!==null){switch(s.tag){case 31:case 13:return Vn===null?qc():s.alternate===null&&ft===0&&(ft=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===vc?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),Jd(t,l,h)),!1;case 22:return s.flags|=65536,l===vc?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),Jd(t,l,h)),!1}throw Error(a(435,s.tag))}return Jd(t,l,h),qc(),!1}if(ke)return i=vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Gf&&(t=Error(a(422),{cause:l}),cl(xn(t,s)))):(l!==Gf&&(i=Error(a(423),{cause:l}),cl(xn(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=xn(l,s),h=Rd(t.stateNode,l,h),nd(t,h),ft!==4&&(ft=2)),!1;var d=Error(a(520),{cause:l});if(d=xn(d,s),Nl===null?Nl=[d]:Nl.push(d),ft!==4&&(ft=2),i===null)return!0;l=xn(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Rd(s.stateNode,l,t),nd(s,t),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Br===null||!Br.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Wy(h),ev(h,t,s,l),nd(s,h),!1}s=s.return}while(s!==null);return!1}var Cd=Error(a(461)),Ct=!1;function Gt(t,i,s,l){i.child=t===null?ry(i,null,s,l):Ga(i,t.child,s,l)}function tv(t,i,s,l,h){s=s.render;var d=i.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return Ba(i),l=ld(t,i,s,_,d,h),b=ud(),t!==null&&!Ct?(cd(t,i,h),Xi(t,i,h)):(ke&&b&&qf(i),i.flags|=1,Gt(t,i,l,h),i.child)}function nv(t,i,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!zf(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,iv(t,i,d,l,h)):(t=fc(s.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!jd(t,h)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:ol,s(_,l)&&t.ref===i.ref)return Xi(t,i,h)}return i.flags|=1,t=qi(d,l),t.ref=i.ref,t.return=i,i.child=t}function iv(t,i,s,l,h){if(t!==null){var d=t.memoizedProps;if(ol(d,l)&&t.ref===i.ref)if(Ct=!1,i.pendingProps=l=d,jd(t,h))(t.flags&131072)!==0&&(Ct=!0);else return i.lanes=t.lanes,Xi(t,i,h)}return Id(t,i,s,l,h)}function rv(t,i,s,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return av(t,i,d,s,l)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&gc(i,d!==null?d.cachePool:null),d!==null?oy(i,d):rd(),ly(i);else return l=i.lanes=536870912,av(t,i,d!==null?d.baseLanes|s:s,s,l)}else d!==null?(gc(i,d.cachePool),oy(i,d),Lr(),i.memoizedState=null):(t!==null&&gc(i,null),rd(),Lr());return Gt(t,i,h,s),i.child}function Sl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function av(t,i,s,l,h){var d=Zf();return d=d===null?null:{parent:wt._currentValue,pool:d},i.memoizedState={baseLanes:s,cachePool:d},t!==null&&gc(i,null),rd(),ly(i),t!==null&&Ls(t,i,l,!0),i.childLanes=h,null}function Oc(t,i){return i=Vc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function sv(t,i,s){return Ga(i,t.child,null,s),t=Oc(i,i.pendingProps),t.flags|=2,_n(i),i.memoizedState=null,t}function vb(t,i,s){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ke){if(l.mode==="hidden")return t=Oc(i,l),i.lanes=536870912,Sl(null,t);if(sd(i),(t=rt)?(t=v_(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Nr!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},s=qg(t),s.return=i,i.child=s,qt=i,rt=null)):t=null,t===null)throw Dr(i);return i.lanes=536870912,null}return Oc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(sd(i),h)if(i.flags&256)i.flags&=-257,i=sv(t,i,s);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(Ct||Ls(t,i,s,!1),h=(s&t.childLanes)!==0,Ct||h){if(l=tt,l!==null&&(_=qo(l,s),_!==0&&_!==d.retryLane))throw d.retryLane=_,La(t,_),hn(l,t,_),Cd;qc(),i=sv(t,i,s)}else t=d.treeContext,rt=jn(_.nextSibling),qt=i,ke=!0,xr=null,Mn=!1,t!==null&&Qg(i,t),i=Oc(i,l),i.flags|=4096;return i}return t=qi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Mc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Id(t,i,s,l,h){return Ba(i),s=ld(t,i,s,l,void 0,h),l=ud(),t!==null&&!Ct?(cd(t,i,h),Xi(t,i,h)):(ke&&l&&qf(i),i.flags|=1,Gt(t,i,s,h),i.child)}function ov(t,i,s,l,h,d){return Ba(i),i.updateQueue=null,s=cy(i,l,s,h),uy(t),l=ud(),t!==null&&!Ct?(cd(t,i,d),Xi(t,i,d)):(ke&&l&&qf(i),i.flags|=1,Gt(t,i,s,d),i.child)}function lv(t,i,s,l,h){if(Ba(i),i.stateNode===null){var d=Ms,_=s.contextType;typeof _=="object"&&_!==null&&(d=Ft(_)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=wd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},ed(i),_=s.contextType,d.context=typeof _=="object"&&_!==null?Ft(_):Ms,d.state=i.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Ad(i,s,_,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&wd.enqueueReplaceState(d,d.state,null),yl(i,l,d,h),gl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,O=Ka(s,b);d.props=O;var H=d.context,X=s.contextType;_=Ms,typeof X=="object"&&X!==null&&(_=Ft(X));var W=s.getDerivedStateFromProps;X=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||H!==_)&&Yy(i,d,l,_),Mr=!1;var q=i.memoizedState;d.state=q,yl(i,l,d,h),gl(),H=i.memoizedState,b||q!==H||Mr?(typeof W=="function"&&(Ad(i,s,W,l),H=i.memoizedState),(O=Mr||Ky(i,s,O,l,q,H,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=_,l=O):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,td(t,i),_=i.memoizedProps,X=Ka(s,_),d.props=X,W=i.pendingProps,q=d.context,H=s.contextType,O=Ms,typeof H=="object"&&H!==null&&(O=Ft(H)),b=s.getDerivedStateFromProps,(H=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==W||q!==O)&&Yy(i,d,l,O),Mr=!1,q=i.memoizedState,d.state=q,yl(i,l,d,h),gl();var Q=i.memoizedState;_!==W||q!==Q||Mr||t!==null&&t.dependencies!==null&&mc(t.dependencies)?(typeof b=="function"&&(Ad(i,s,b,l),Q=i.memoizedState),(X=Mr||Ky(i,s,X,l,q,Q,O)||t!==null&&t.dependencies!==null&&mc(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,O)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=O,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Mc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ga(i,t.child,null,h),i.child=Ga(i,null,s,h)):Gt(t,i,s,h),i.memoizedState=d.state,t=i.child):t=Xi(t,i,h),t}function uv(t,i,s,l){return Ua(),i.flags|=256,Gt(t,i,s,l),i.child}var Nd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xd(t){return{baseLanes:t,cachePool:Zg()}}function Dd(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=Tn),t}function cv(t,i,s){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(ke){if(h?Pr(i):Lr(),(t=rt)?(t=v_(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Nr!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},s=qg(t),s.return=i,i.child=s,qt=i,rt=null)):t=null,t===null)throw Dr(i);return dm(t)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(Lr(),h=i.mode,b=Vc({mode:"hidden",children:b},h),l=ka(l,h,s,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=xd(s),l.childLanes=Dd(t,_,s),i.memoizedState=Nd,Sl(null,l)):(Pr(i),Od(i,b))}var O=t.memoizedState;if(O!==null&&(b=O.dehydrated,b!==null)){if(d)i.flags&256?(Pr(i),i.flags&=-257,i=Md(t,i,s)):i.memoizedState!==null?(Lr(),i.child=t.child,i.flags|=128,i=null):(Lr(),b=l.fallback,h=i.mode,l=Vc({mode:"visible",children:l.children},h),b=ka(b,h,s,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,Ga(i,t.child,null,s),l=i.child,l.memoizedState=xd(s),l.childLanes=Dd(t,_,s),i.memoizedState=Nd,i=Sl(null,l));else if(Pr(i),dm(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(a(419)),l.stack="",l.digest=_,cl({value:l,source:null,stack:null}),i=Md(t,i,s)}else if(Ct||Ls(t,i,s,!1),_=(s&t.childLanes)!==0,Ct||_){if(_=tt,_!==null&&(l=qo(_,s),l!==0&&l!==O.retryLane))throw O.retryLane=l,La(t,l),hn(_,t,l),Cd;fm(b)||qc(),i=Md(t,i,s)}else fm(b)?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,rt=jn(b.nextSibling),qt=i,ke=!0,xr=null,Mn=!1,t!==null&&Qg(i,t),i=Od(i,l.children),i.flags|=4096);return i}return h?(Lr(),b=l.fallback,h=i.mode,O=t.child,H=O.sibling,l=qi(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,H!==null?b=qi(H,b):(b=ka(b,h,s,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,Sl(null,l),l=i.child,b=t.child.memoizedState,b===null?b=xd(s):(h=b.cachePool,h!==null?(O=wt._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=Zg(),b={baseLanes:b.baseLanes|s,cachePool:h}),l.memoizedState=b,l.childLanes=Dd(t,_,s),i.memoizedState=Nd,Sl(t.child,l)):(Pr(i),s=t.child,t=s.sibling,s=qi(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=s,i.memoizedState=null,s)}function Od(t,i){return i=Vc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Vc(t,i){return t=yn(22,t,null,i),t.lanes=0,t}function Md(t,i,s){return Ga(i,t.child,null,s),t=Od(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function hv(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Yf(t.return,i,s)}function Vd(t,i,s,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=s,_.tailMode=h,_.treeForkCount=d)}function fv(t,i,s){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=gt.current,b=(_&2)!==0;if(b?(_=_&1|2,i.flags|=128):_&=1,oe(gt,_),Gt(t,i,l,s),l=ke?ul:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hv(t,s,i);else if(t.tag===19)hv(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&Sc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),Vd(i,!1,h,s,d,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Sc(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Vd(i,!0,s,null,d,l);break;case"together":Vd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Xi(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),zr|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(Ls(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=qi(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=qi(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function jd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&mc(t)))}function _b(t,i,s){switch(i.tag){case 3:Ot(i,i.stateNode.containerInfo),Or(i,wt,t.memoizedState.cache),Ua();break;case 27:case 5:_a(i);break;case 4:Ot(i,i.stateNode.containerInfo);break;case 10:Or(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,sd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Pr(i),i.flags|=128,null):(s&i.child.childLanes)!==0?cv(t,i,s):(Pr(i),t=Xi(t,i,s),t!==null?t.sibling:null);Pr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(Ls(t,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return fv(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(gt,gt.current),l)break;return null;case 22:return i.lanes=0,rv(t,i,s,i.pendingProps);case 24:Or(i,wt,t.memoizedState.cache)}return Xi(t,i,s)}function dv(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ct=!0;else{if(!jd(t,s)&&(i.flags&128)===0)return Ct=!1,_b(t,i,s);Ct=(t.flags&131072)!==0}else Ct=!1,ke&&(i.flags&1048576)!==0&&Gg(i,ul,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=qa(i.elementType),i.type=t,typeof t=="function")zf(t)?(l=Ka(t,l),i.tag=1,i=lv(null,i,t,l,s)):(i.tag=0,i=Id(null,i,t,l,s));else{if(t!=null){var h=t.$$typeof;if(h===ve){i.tag=11,i=tv(null,i,t,l,s);break e}else if(h===x){i.tag=14,i=nv(null,i,t,l,s);break e}}throw i=nt(t)||t,Error(a(306,i,""))}}return i;case 0:return Id(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=Ka(l,i.pendingProps),lv(t,i,l,h,s);case 3:e:{if(Ot(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,td(t,i),yl(i,l,null,s);var _=i.memoizedState;if(l=_.cache,Or(i,wt,l),l!==d.cache&&Xf(i,[wt],s,!0),gl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=uv(t,i,l,s);break e}else if(l!==h){h=xn(Error(a(424)),i),cl(h),i=uv(t,i,l,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(rt=jn(t.firstChild),qt=i,ke=!0,xr=null,Mn=!0,s=ry(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ua(),l===h){i=Xi(t,i,s);break e}Gt(t,i,l,s)}i=i.child}return i;case 26:return Mc(t,i),t===null?(s=A_(i.type,null,i.pendingProps,null))?i.memoizedState=s:ke||(s=i.type,t=i.pendingProps,l=$c(Ne.current).createElement(s),l[St]=i,l[Pt]=t,Qt(l,s,t),bt(l),i.stateNode=l):i.memoizedState=A_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return _a(i),t===null&&ke&&(l=i.stateNode=T_(i.type,i.pendingProps,Ne.current),qt=i,Mn=!0,h=rt,Gr(i.type)?(mm=h,rt=jn(l.firstChild)):rt=h),Gt(t,i,i.pendingProps.children,s),Mc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ke&&((h=l=rt)&&(l=Xb(l,i.type,i.pendingProps,Mn),l!==null?(i.stateNode=l,qt=i,rt=jn(l.firstChild),Mn=!1,h=!0):h=!1),h||Dr(i)),_a(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,um(h,d)?l=null:_!==null&&um(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=ld(t,i,cb,null,null,s),Ll._currentValue=h),Mc(t,i),Gt(t,i,l,s),i.child;case 6:return t===null&&ke&&((t=s=rt)&&(s=$b(s,i.pendingProps,Mn),s!==null?(i.stateNode=s,qt=i,rt=null,t=!0):t=!1),t||Dr(i)),null;case 13:return cv(t,i,s);case 4:return Ot(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ga(i,null,l,s):Gt(t,i,l,s),i.child;case 11:return tv(t,i,i.type,i.pendingProps,s);case 7:return Gt(t,i,i.pendingProps,s),i.child;case 8:return Gt(t,i,i.pendingProps.children,s),i.child;case 12:return Gt(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,Or(i,i.type,l.value),Gt(t,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ba(i),h=Ft(h),l=l(h),i.flags|=1,Gt(t,i,l,s),i.child;case 14:return nv(t,i,i.type,i.pendingProps,s);case 15:return iv(t,i,i.type,i.pendingProps,s);case 19:return fv(t,i,s);case 31:return vb(t,i,s);case 22:return rv(t,i,s,i.pendingProps);case 24:return Ba(i),l=Ft(wt),t===null?(h=Zf(),h===null&&(h=tt,d=$f(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),i.memoizedState={parent:l,cache:h},ed(i),Or(i,wt,h)):((t.lanes&s)!==0&&(td(t,i),yl(i,null,null,s),gl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Or(i,wt,l)):(l=d.cache,Or(i,wt,l),l!==h.cache&&Xf(i,[wt],s,!0))),Gt(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function $i(t){t.flags|=4}function Pd(t,i,s,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(zv())t.flags|=8192;else throw Fa=vc,Wf}else t.flags&=-16777217}function mv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!N_(i))if(zv())t.flags|=8192;else throw Fa=vc,Wf}function jc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Bu():536870912,t.lanes|=i,Xs|=i)}function bl(t,i){if(!ke)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function Eb(t,i,s){var l=i.pendingProps;switch(Ff(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Qi(wt),st(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ps(i)?$i(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Qf())),at(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?($i(i),d!==null?(at(i),mv(i,d)):(at(i),Pd(i,h,null,l,s))):d?d!==t.memoizedState?($i(i),at(i),mv(i,d)):(at(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&$i(i),at(i),Pd(i,h,t,l,s)),null;case 27:if(ms(i),s=Ne.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&$i(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return at(i),null}t=ce.current,Ps(i)?Kg(i):(t=T_(h,l,s),i.stateNode=t,$i(i))}return at(i),null;case 5:if(ms(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&$i(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return at(i),null}if(d=ce.current,Ps(i))Kg(i);else{var _=$c(Ne.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[St]=i,d[Pt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Qt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&$i(i)}}return at(i),Pd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,s),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&$i(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=Ne.current,Ps(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[St]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||c_(t.nodeValue,s)),t||Dr(i,!0)}else t=$c(t).createTextNode(l),t[St]=i,i.stateNode=t}return at(i),null;case 31:if(s=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ps(i),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[St]=i}else Ua(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),t=!1}else s=Qf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return i.flags&256?(_n(i),i):(_n(i),null);if((i.flags&128)!==0)throw Error(a(558))}return at(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ps(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[St]=i}else Ua(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),h=!1}else h=Qf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(_n(i),i):(_n(i),null)}return _n(i),(i.flags&128)!==0?(i.lanes=s,i):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),s!==t&&s&&(i.child.flags|=8192),jc(i,i.updateQueue),at(i),null);case 4:return st(),t===null&&rm(i.stateNode.containerInfo),at(i),null;case 10:return Qi(i.type),at(i),null;case 19:if(Z(gt),l=i.memoizedState,l===null)return at(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)bl(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Sc(t),d!==null){for(i.flags|=128,bl(l,!1),t=d.updateQueue,i.updateQueue=t,jc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)Hg(s,t),s=s.sibling;return oe(gt,gt.current&1|2),ke&&Fi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&tn()>zc&&(i.flags|=128,h=!0,bl(l,!1),i.lanes=4194304)}else{if(!h)if(t=Sc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,jc(i,t),bl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ke)return at(i),null}else 2*tn()-l.renderingStartTime>zc&&s!==536870912&&(i.flags|=128,h=!0,bl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,s=gt.current,oe(gt,h?s&1|2:s&1),ke&&Fi(i,l.treeForkCount),t):(at(i),null);case 22:case 23:return _n(i),ad(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),s=i.updateQueue,s!==null&&jc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&Z(Ha),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Qi(wt),at(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function Tb(t,i){switch(Ff(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Qi(wt),st(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ms(i),null;case 31:if(i.memoizedState!==null){if(_n(i),i.alternate===null)throw Error(a(340));Ua()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(_n(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Ua()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Z(gt),null;case 4:return st(),null;case 10:return Qi(i.type),null;case 22:case 23:return _n(i),ad(),t!==null&&Z(Ha),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Qi(wt),null;case 25:return null;default:return null}}function pv(t,i){switch(Ff(i),i.tag){case 3:Qi(wt),st();break;case 26:case 27:case 5:ms(i);break;case 4:st();break;case 31:i.memoizedState!==null&&_n(i);break;case 13:_n(i);break;case 19:Z(gt);break;case 10:Qi(i.type);break;case 22:case 23:_n(i),ad(),t!==null&&Z(Ha);break;case 24:Qi(wt)}}function Al(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,_=s.inst;l=d(),_.destroy=l}s=s.next}while(s!==h)}}catch(b){$e(i,i.return,b)}}function kr(t,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=i;var O=s,H=b;try{H()}catch(X){$e(h,O,X)}}}l=l.next}while(l!==d)}}catch(X){$e(i,i.return,X)}}function gv(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{sy(i,s)}catch(l){$e(t,t.return,l)}}}function yv(t,i,s){s.props=Ka(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){$e(t,i,l)}}function wl(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){$e(t,i,h)}}function Ci(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){$e(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){$e(t,i,h)}else s.current=null}function vv(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){$e(t,t.return,h)}}function Ld(t,i,s){try{var l=t.stateNode;qb(l,t.type,s,i),l[Pt]=i}catch(h){$e(t,t.return,h)}}function _v(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Gr(t.type)||t.tag===4}function kd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_v(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Gr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ud(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Gn));else if(l!==4&&(l===27&&Gr(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(Ud(t,i,s),t=t.sibling;t!==null;)Ud(t,i,s),t=t.sibling}function Pc(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&Gr(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Pc(t,i,s),t=t.sibling;t!==null;)Pc(t,i,s),t=t.sibling}function Ev(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Qt(i,l,s),i[St]=t,i[Pt]=s}catch(d){$e(t,t.return,d)}}var Ji=!1,It=!1,zd=!1,Tv=typeof WeakSet=="function"?WeakSet:Set,kt=null;function Sb(t,i){if(t=t.containerInfo,om=ih,t=Mg(t),Mf(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var _=0,b=-1,O=-1,H=0,X=0,W=t,q=null;t:for(;;){for(var Q;W!==s||h!==0&&W.nodeType!==3||(b=_+h),W!==d||l!==0&&W.nodeType!==3||(O=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(Q=W.firstChild)!==null;)q=W,W=Q;for(;;){if(W===t)break t;if(q===s&&++H===h&&(b=_),q===d&&++X===l&&(O=_),(Q=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=Q}s=b===-1||O===-1?null:{start:b,end:O}}else s=null}s=s||{start:0,end:0}}else s=null;for(lm={focusedElem:t,selectionRange:s},ih=!1,kt=i;kt!==null;)if(i=kt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,kt=t;else for(;kt!==null;){switch(i=kt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=i,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var he=Ka(s.type,h);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){$e(s,s.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)hm(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,kt=t;break}kt=i.return}}function Sv(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Wi(t,s),l&4&&Al(5,s);break;case 1:if(Wi(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(_){$e(s,s.return,_)}else{var h=Ka(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){$e(s,s.return,_)}}l&64&&gv(s),l&512&&wl(s,s.return);break;case 3:if(Wi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{sy(t,i)}catch(_){$e(s,s.return,_)}}break;case 27:i===null&&l&4&&Ev(s);case 26:case 5:Wi(t,s),i===null&&l&4&&vv(s),l&512&&wl(s,s.return);break;case 12:Wi(t,s);break;case 31:Wi(t,s),l&4&&wv(t,s);break;case 13:Wi(t,s),l&4&&Rv(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Db.bind(null,s),Jb(t,s))));break;case 22:if(l=s.memoizedState!==null||Ji,!l){i=i!==null&&i.memoizedState!==null||It,h=Ji;var d=It;Ji=l,(It=i)&&!d?er(t,s,(s.subtreeFlags&8772)!==0):Wi(t,s),Ji=h,It=d}break;case 30:break;default:Wi(t,s)}}function bv(t){var i=t.alternate;i!==null&&(t.alternate=null,bv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&_s(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,on=!1;function Zi(t,i,s){for(s=s.child;s!==null;)Av(t,i,s),s=s.sibling}function Av(t,i,s){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Bn,s)}catch{}switch(s.tag){case 26:It||Ci(s,i),Zi(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:It||Ci(s,i);var l=lt,h=on;Gr(s.type)&&(lt=s.stateNode,on=!1),Zi(t,i,s),Vl(s.stateNode),lt=l,on=h;break;case 5:It||Ci(s,i);case 6:if(l=lt,h=on,lt=null,Zi(t,i,s),lt=l,on=h,lt!==null)if(on)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(s.stateNode)}catch(d){$e(s,i,d)}else try{lt.removeChild(s.stateNode)}catch(d){$e(s,i,d)}break;case 18:lt!==null&&(on?(t=lt,g_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),io(t)):g_(lt,s.stateNode));break;case 4:l=lt,h=on,lt=s.stateNode.containerInfo,on=!0,Zi(t,i,s),lt=l,on=h;break;case 0:case 11:case 14:case 15:kr(2,s,i),It||kr(4,s,i),Zi(t,i,s);break;case 1:It||(Ci(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&yv(s,i,l)),Zi(t,i,s);break;case 21:Zi(t,i,s);break;case 22:It=(l=It)||s.memoizedState!==null,Zi(t,i,s),It=l;break;default:Zi(t,i,s)}}function wv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{io(t)}catch(s){$e(i,i.return,s)}}}function Rv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{io(t)}catch(s){$e(i,i.return,s)}}function bb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Tv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Tv),i;default:throw Error(a(435,t.tag))}}function Lc(t,i){var s=bb(t);i.forEach(function(l){if(!s.has(l)){s.add(l);var h=Ob.bind(null,t,l);l.then(h,h)}})}function ln(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,_=i,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(Gr(b.type)){lt=b.stateNode,on=!1;break e}break;case 5:lt=b.stateNode,on=!1;break e;case 3:case 4:lt=b.stateNode.containerInfo,on=!0;break e}b=b.return}if(lt===null)throw Error(a(160));Av(d,_,h),lt=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Cv(i,t),i=i.sibling}var Jn=null;function Cv(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(i,t),un(t),l&4&&(kr(3,t,t.return),Al(3,t),kr(5,t,t.return));break;case 1:ln(i,t),un(t),l&512&&(It||s===null||Ci(s,s.return)),l&64&&Ji&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Jn;if(ln(i,t),un(t),l&512&&(It||s===null||Ci(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[di]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Qt(d,l,s),d[St]=t,bt(d),l=d;break e;case"link":var _=C_("link","href",h).get(l+(s.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(b,1);break t}}d=h.createElement(l),Qt(d,l,s),h.head.appendChild(d);break;case"meta":if(_=C_("meta","content",h).get(l+(s.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(b,1);break t}}d=h.createElement(l),Qt(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[St]=t,bt(d),l=d}t.stateNode=l}else I_(h,t.type,t.stateNode);else t.stateNode=R_(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?I_(h,t.type,t.stateNode):R_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ld(t,t.memoizedProps,s.memoizedProps)}break;case 27:ln(i,t),un(t),l&512&&(It||s===null||Ci(s,s.return)),s!==null&&l&4&&Ld(t,t.memoizedProps,s.memoizedProps);break;case 5:if(ln(i,t),un(t),l&512&&(It||s===null||Ci(s,s.return)),t.flags&32){h=t.stateNode;try{sn(h,"")}catch(he){$e(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ld(t,h,s!==null?s.memoizedProps:h)),l&1024&&(zd=!0);break;case 6:if(ln(i,t),un(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(he){$e(t,t.return,he)}}break;case 3:if(Wc=null,h=Jn,Jn=Jc(i.containerInfo),ln(i,t),Jn=h,un(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{io(i.containerInfo)}catch(he){$e(t,t.return,he)}zd&&(zd=!1,Iv(t));break;case 4:l=Jn,Jn=Jc(t.stateNode.containerInfo),ln(i,t),un(t),Jn=l;break;case 12:ln(i,t),un(t);break;case 31:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lc(t,l)));break;case 13:ln(i,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Uc=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lc(t,l)));break;case 22:h=t.memoizedState!==null;var O=s!==null&&s.memoizedState!==null,H=Ji,X=It;if(Ji=H||h,It=X||O,ln(i,t),It=X,Ji=H,un(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||O||Ji||It||Ya(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){O=s=i;try{if(d=O.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=O.stateNode;var W=O.memoizedProps.style,q=W!=null&&W.hasOwnProperty("display")?W.display:null;b.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(he){$e(O,O.return,he)}}}else if(i.tag===6){if(s===null){O=i;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(he){$e(O,O.return,he)}}}else if(i.tag===18){if(s===null){O=i;try{var Q=O.stateNode;h?y_(Q,!0):y_(O.stateNode,!1)}catch(he){$e(O,O.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Lc(t,s))));break;case 19:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lc(t,l)));break;case 30:break;case 21:break;default:ln(i,t),un(t)}}function un(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(_v(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,d=kd(t);Pc(t,d,h);break;case 5:var _=s.stateNode;s.flags&32&&(sn(_,""),s.flags&=-33);var b=kd(t);Pc(t,b,_);break;case 3:case 4:var O=s.stateNode.containerInfo,H=kd(t);Ud(t,H,O);break;default:throw Error(a(161))}}catch(X){$e(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Iv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Iv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Wi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Sv(t,i.alternate,i),i=i.sibling}function Ya(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:kr(4,i,i.return),Ya(i);break;case 1:Ci(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&yv(i,i.return,s),Ya(i);break;case 27:Vl(i.stateNode);case 26:case 5:Ci(i,i.return),Ya(i);break;case 22:i.memoizedState===null&&Ya(i);break;case 30:Ya(i);break;default:Ya(i)}t=t.sibling}}function er(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:er(h,d,s),Al(4,d);break;case 1:if(er(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){$e(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)ay(O[h],b)}catch(H){$e(l,l.return,H)}}s&&_&64&&gv(d),wl(d,d.return);break;case 27:Ev(d);case 26:case 5:er(h,d,s),s&&l===null&&_&4&&vv(d),wl(d,d.return);break;case 12:er(h,d,s);break;case 31:er(h,d,s),s&&_&4&&wv(h,d);break;case 13:er(h,d,s),s&&_&4&&Rv(h,d);break;case 22:d.memoizedState===null&&er(h,d,s),wl(d,d.return);break;case 30:break;default:er(h,d,s)}i=i.sibling}}function Bd(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&hl(s))}function Hd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&hl(t))}function Zn(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Nv(t,i,s,l),i=i.sibling}function Nv(t,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Zn(t,i,s,l),h&2048&&Al(9,i);break;case 1:Zn(t,i,s,l);break;case 3:Zn(t,i,s,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&hl(t)));break;case 12:if(h&2048){Zn(t,i,s,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){$e(i,i.return,O)}}else Zn(t,i,s,l);break;case 31:Zn(t,i,s,l);break;case 13:Zn(t,i,s,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Zn(t,i,s,l):Rl(t,i):d._visibility&2?Zn(t,i,s,l):(d._visibility|=2,Qs(t,i,s,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Bd(_,i);break;case 24:Zn(t,i,s,l),h&2048&&Hd(i.alternate,i);break;default:Zn(t,i,s,l)}}function Qs(t,i,s,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,b=s,O=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:Qs(d,_,b,O,h),Al(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?Qs(d,_,b,O,h):Rl(d,_):(X._visibility|=2,Qs(d,_,b,O,h)),h&&H&2048&&Bd(_.alternate,_);break;case 24:Qs(d,_,b,O,h),h&&H&2048&&Hd(_.alternate,_);break;default:Qs(d,_,b,O,h)}i=i.sibling}}function Rl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,h=l.flags;switch(l.tag){case 22:Rl(s,l),h&2048&&Bd(l.alternate,l);break;case 24:Rl(s,l),h&2048&&Hd(l.alternate,l);break;default:Rl(s,l)}i=i.sibling}}var Cl=8192;function Ks(t,i,s){if(t.subtreeFlags&Cl)for(t=t.child;t!==null;)xv(t,i,s),t=t.sibling}function xv(t,i,s){switch(t.tag){case 26:Ks(t,i,s),t.flags&Cl&&t.memoizedState!==null&&uA(s,Jn,t.memoizedState,t.memoizedProps);break;case 5:Ks(t,i,s);break;case 3:case 4:var l=Jn;Jn=Jc(t.stateNode.containerInfo),Ks(t,i,s),Jn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Cl,Cl=16777216,Ks(t,i,s),Cl=l):Ks(t,i,s));break;default:Ks(t,i,s)}}function Dv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Il(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];kt=l,Mv(l,t)}Dv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ov(t),t=t.sibling}function Ov(t){switch(t.tag){case 0:case 11:case 15:Il(t),t.flags&2048&&kr(9,t,t.return);break;case 3:Il(t);break;case 12:Il(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,kc(t)):Il(t);break;default:Il(t)}}function kc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];kt=l,Mv(l,t)}Dv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:kr(8,i,i.return),kc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,kc(i));break;default:kc(i)}t=t.sibling}}function Mv(t,i){for(;kt!==null;){var s=kt;switch(s.tag){case 0:case 11:case 15:kr(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,kt=l;else e:for(s=t;kt!==null;){l=kt;var h=l.sibling,d=l.return;if(bv(l),l===s){kt=null;break e}if(h!==null){h.return=d,kt=h;break e}kt=d}}}var Ab={getCacheForType:function(t){var i=Ft(wt),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s},cacheSignal:function(){return Ft(wt).controller.signal}},wb=typeof WeakMap=="function"?WeakMap:Map,Ge=0,tt=null,De=null,Me=0,Xe=0,En=null,Ur=!1,Ys=!1,qd=!1,tr=0,ft=0,zr=0,Xa=0,Fd=0,Tn=0,Xs=0,Nl=null,cn=null,Gd=!1,Uc=0,Vv=0,zc=1/0,Bc=null,Br=null,Vt=0,Hr=null,$s=null,nr=0,Qd=0,Kd=null,jv=null,xl=0,Yd=null;function Sn(){return(Ge&2)!==0&&Me!==0?Me&-Me:Y.T!==null?em():Hu()}function Pv(){if(Tn===0)if((Me&536870912)===0||ke){var t=Sa;Sa<<=1,(Sa&3932160)===0&&(Sa=262144),Tn=t}else Tn=536870912;return t=vn.current,t!==null&&(t.flags|=32),Tn}function hn(t,i,s){(t===tt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Js(t,0),qr(t,Me,Tn,!1)),ba(t,s),((Ge&2)===0||t!==tt)&&(t===tt&&((Ge&2)===0&&(Xa|=s),ft===4&&qr(t,Me,Tn,!1)),Ii(t))}function Lv(t,i,s){if((Ge&6)!==0)throw Error(a(327));var l=!s&&(i&127)===0&&(i&t.expiredLanes)===0||Hn(t,i),h=l?Ib(t,i):$d(t,i,!0),d=l;do{if(h===0){Ys&&!l&&qr(t,i,0,!1);break}else{if(s=t.current.alternate,d&&!Rb(s)){h=$d(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var b=t;h=Nl;var O=b.current.memoizedState.isDehydrated;if(O&&(Js(b,_).flags|=256),_=$d(b,_,!1),_!==2){if(qd&&!O){b.errorRecoveryDisabledLanes|=d,Xa|=d,h=4;break e}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Js(t,0),qr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:qr(l,i,Tn,!Ur);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=Uc+300-tn(),10<h)){if(qr(l,i,Tn,!Ur),ci(l,0,!0)!==0)break e;nr=i,l.timeoutHandle=m_(kv.bind(null,l,s,cn,Bc,Gd,i,Tn,Xa,Xs,Ur,d,"Throttled",-0,0),h);break e}kv(l,s,cn,Bc,Gd,i,Tn,Xa,Xs,Ur,d,null,-0,0)}}break}while(!0);Ii(t)}function kv(t,i,s,l,h,d,_,b,O,H,X,W,q,Q){if(t.timeoutHandle=-1,W=i.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},xv(i,d,W);var he=(d&62914560)===d?Uc-tn():(d&4194048)===d?Vv-tn():0;if(he=cA(W,he),he!==null){nr=d,t.cancelPendingCommit=he(Qv.bind(null,t,i,d,s,l,h,_,b,O,X,W,null,q,Q)),qr(t,d,_,!H);return}}Qv(t,i,d,s,l,h,_,b,O)}function Rb(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!gn(d(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function qr(t,i,s,l){i&=~Fd,i&=~Xa,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-mt(h),_=1<<d;l[d]=-1,h&=~_}s!==0&&Aa(t,s,i)}function Hc(){return(Ge&6)===0?(Dl(0),!1):!0}function Xd(){if(De!==null){if(Xe===0)var t=De.return;else t=De,Gi=za=null,hd(t),Bs=null,dl=0,t=De;for(;t!==null;)pv(t.alternate,t),t=t.return;De=null}}function Js(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Qb(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),nr=0,Xd(),tt=t,De=s=qi(t.current,null),Me=i,Xe=0,En=null,Ur=!1,Ys=Hn(t,i),qd=!1,Xs=Tn=Fd=Xa=zr=ft=0,cn=Nl=null,Gd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-mt(l),d=1<<h;i|=t[h],l&=~d}return tr=i,uc(),s}function Uv(t,i){Ie=null,Y.H=Tl,i===zs||i===yc?(i=ty(),Xe=3):i===Wf?(i=ty(),Xe=4):Xe=i===Cd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,En=i,De===null&&(ft=1,Dc(t,xn(i,t.current)))}function zv(){var t=vn.current;return t===null?!0:(Me&4194048)===Me?Vn===null:(Me&62914560)===Me||(Me&536870912)!==0?t===Vn:!1}function Bv(){var t=Y.H;return Y.H=Tl,t===null?Tl:t}function Hv(){var t=Y.A;return Y.A=Ab,t}function qc(){ft=4,Ur||(Me&4194048)!==Me&&vn.current!==null||(Ys=!0),(zr&134217727)===0&&(Xa&134217727)===0||tt===null||qr(tt,Me,Tn,!1)}function $d(t,i,s){var l=Ge;Ge|=2;var h=Bv(),d=Hv();(tt!==t||Me!==i)&&(Bc=null,Js(t,i)),i=!1;var _=ft;e:do try{if(Xe!==0&&De!==null){var b=De,O=En;switch(Xe){case 8:Xd(),_=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(i=!0);var H=Xe;if(Xe=0,En=null,Zs(t,b,O,H),s&&Ys){_=0;break e}break;default:H=Xe,Xe=0,En=null,Zs(t,b,O,H)}}Cb(),_=ft;break}catch(X){Uv(t,X)}while(!0);return i&&t.shellSuspendCounter++,Gi=za=null,Ge=l,Y.H=h,Y.A=d,De===null&&(tt=null,Me=0,uc()),_}function Cb(){for(;De!==null;)qv(De)}function Ib(t,i){var s=Ge;Ge|=2;var l=Bv(),h=Hv();tt!==t||Me!==i?(Bc=null,zc=tn()+500,Js(t,i)):Ys=Hn(t,i);e:do try{if(Xe!==0&&De!==null){i=De;var d=En;t:switch(Xe){case 1:Xe=0,En=null,Zs(t,i,d,1);break;case 2:case 9:if(Wg(d)){Xe=0,En=null,Fv(i);break}i=function(){Xe!==2&&Xe!==9||tt!==t||(Xe=7),Ii(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Wg(d)?(Xe=0,En=null,Fv(i)):(Xe=0,En=null,Zs(t,i,d,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var b=De;if(_?N_(_):b.stateNode.complete){Xe=0,En=null;var O=b.sibling;if(O!==null)De=O;else{var H=b.return;H!==null?(De=H,Fc(H)):De=null}break t}}Xe=0,En=null,Zs(t,i,d,5);break;case 6:Xe=0,En=null,Zs(t,i,d,6);break;case 8:Xd(),ft=6;break e;default:throw Error(a(462))}}Nb();break}catch(X){Uv(t,X)}while(!0);return Gi=za=null,Y.H=l,Y.A=h,Ge=s,De!==null?0:(tt=null,Me=0,uc(),ft)}function Nb(){for(;De!==null&&!Rf();)qv(De)}function qv(t){var i=dv(t.alternate,t,tr);t.memoizedProps=t.pendingProps,i===null?Fc(t):De=i}function Fv(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=ov(s,i,i.pendingProps,i.type,void 0,Me);break;case 11:i=ov(s,i,i.pendingProps,i.type.render,i.ref,Me);break;case 5:hd(i);default:pv(s,i),i=De=Hg(i,tr),i=dv(s,i,tr)}t.memoizedProps=t.pendingProps,i===null?Fc(t):De=i}function Zs(t,i,s,l){Gi=za=null,hd(i),Bs=null,dl=0;var h=i.return;try{if(yb(t,h,i,s,Me)){ft=1,Dc(t,xn(s,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ft=1,Dc(t,xn(s,t.current)),De=null;return}i.flags&32768?(ke||l===1?t=!0:Ys||(Me&536870912)!==0?t=!1:(Ur=t=!0,(l===2||l===9||l===3||l===6)&&(l=vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Gv(i,t)):Fc(i)}function Fc(t){var i=t;do{if((i.flags&32768)!==0){Gv(i,Ur);return}t=i.return;var s=Eb(i.alternate,i,tr);if(s!==null){De=s;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ft===0&&(ft=5)}function Gv(t,i){do{var s=Tb(t.alternate,t);if(s!==null){s.flags&=32767,De=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=s}while(t!==null);ft=6,De=null}function Qv(t,i,s,l,h,d,_,b,O){t.cancelPendingCommit=null;do Gc();while(Vt!==0);if((Ge&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=kf,Nf(t,s,d,_,b,O),t===tt&&(De=tt=null,Me=0),$s=i,Hr=t,nr=s,Qd=d,Kd=h,jv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Mb(_r,function(){return Jv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=ae.p,ae.p=2,_=Ge,Ge|=4;try{Sb(t,i,s)}finally{Ge=_,ae.p=h,Y.T=l}}Vt=1,Kv(),Yv(),Xv()}}function Kv(){if(Vt===1){Vt=0;var t=Hr,i=$s,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=Y.T,Y.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{Cv(i,t);var d=lm,_=Mg(t.containerInfo),b=d.focusedElem,O=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&Og(b.ownerDocument.documentElement,b)){if(O!==null&&Mf(b)){var H=O.start,X=O.end;if(X===void 0&&(X=H),"selectionStart"in b)b.selectionStart=H,b.selectionEnd=Math.min(X,b.value.length);else{var W=b.ownerDocument||document,q=W&&W.defaultView||window;if(q.getSelection){var Q=q.getSelection(),he=b.textContent.length,ye=Math.min(O.start,he),et=O.end===void 0?ye:Math.min(O.end,he);!Q.extend&&ye>et&&(_=et,et=ye,ye=_);var L=Dg(b,ye),j=Dg(b,et);if(L&&j&&(Q.rangeCount!==1||Q.anchorNode!==L.node||Q.anchorOffset!==L.offset||Q.focusNode!==j.node||Q.focusOffset!==j.offset)){var B=W.createRange();B.setStart(L.node,L.offset),Q.removeAllRanges(),ye>et?(Q.addRange(B),Q.extend(j.node,j.offset)):(B.setEnd(j.node,j.offset),Q.addRange(B))}}}}for(W=[],Q=b;Q=Q.parentNode;)Q.nodeType===1&&W.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<W.length;b++){var $=W[b];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}ih=!!om,lm=om=null}finally{Ge=h,ae.p=l,Y.T=s}}t.current=i,Vt=2}}function Yv(){if(Vt===2){Vt=0;var t=Hr,i=$s,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=Y.T,Y.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{Sv(t,i.alternate,i)}finally{Ge=h,ae.p=l,Y.T=s}}Vt=3}}function Xv(){if(Vt===4||Vt===3){Vt=0,ju();var t=Hr,i=$s,s=nr,l=jv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,$s=Hr=null,$v(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Br=null),Ui(s),i=i.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Bn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=ae.p,ae.p=2,Y.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{Y.T=i,ae.p=h}}(nr&3)!==0&&Gc(),Ii(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===Yd?xl++:(xl=0,Yd=t):xl=0,Dl(0)}}function $v(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,hl(i)))}function Gc(){return Kv(),Yv(),Xv(),Jv()}function Jv(){if(Vt!==5)return!1;var t=Hr,i=Qd;Qd=0;var s=Ui(nr),l=Y.T,h=ae.p;try{ae.p=32>s?32:s,Y.T=null,s=Kd,Kd=null;var d=Hr,_=nr;if(Vt=0,$s=Hr=null,nr=0,(Ge&6)!==0)throw Error(a(331));var b=Ge;if(Ge|=4,Ov(d.current),Nv(d,d.current,_,s),Ge=b,Dl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Bn,d)}catch{}return!0}finally{ae.p=h,Y.T=l,$v(t,i)}}function Zv(t,i,s){i=xn(s,i),i=Rd(t.stateNode,i,2),t=jr(t,i,2),t!==null&&(ba(t,2),Ii(t))}function $e(t,i,s){if(t.tag===3)Zv(t,t,s);else for(;i!==null;){if(i.tag===3){Zv(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Br===null||!Br.has(l))){t=xn(s,t),s=Wy(2),l=jr(i,s,2),l!==null&&(ev(s,l,i,t),ba(l,2),Ii(l));break}}i=i.return}}function Jd(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new wb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(qd=!0,h.add(s),t=xb.bind(null,t,i,s),i.then(t,t))}function xb(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,tt===t&&(Me&s)===s&&(ft===4||ft===3&&(Me&62914560)===Me&&300>tn()-Uc?(Ge&2)===0&&Js(t,0):Fd|=s,Xs===Me&&(Xs=0)),Ii(t)}function Wv(t,i){i===0&&(i=Bu()),t=La(t,i),t!==null&&(ba(t,i),Ii(t))}function Db(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),Wv(t,s)}function Ob(t,i){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),Wv(t,s)}function Mb(t,i){return Mt(t,i)}var Qc=null,Ws=null,Zd=!1,Kc=!1,Wd=!1,Fr=0;function Ii(t){t!==Ws&&t.next===null&&(Ws===null?Qc=Ws=t:Ws=Ws.next=t),Kc=!0,Zd||(Zd=!0,jb())}function Dl(t,i){if(!Wd&&Kc){Wd=!0;do for(var s=!1,l=Qc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-mt(42|t)+1)-1,d&=h&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,i_(l,d))}else d=Me,d=ci(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Hn(l,d)||(s=!0,i_(l,d));l=l.next}while(s);Wd=!1}}function Vb(){e_()}function e_(){Kc=Zd=!1;var t=0;Fr!==0&&Gb()&&(t=Fr);for(var i=tn(),s=null,l=Qc;l!==null;){var h=l.next,d=t_(l,i);d===0?(l.next=null,s===null?Qc=h:s.next=h,h===null&&(Ws=s)):(s=l,(t!==0||(d&3)!==0)&&(Kc=!0)),l=h}Vt!==0&&Vt!==5||Dl(t),Fr!==0&&(Fr=0)}function t_(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-mt(d),b=1<<_,O=h[_];O===-1?((b&s)===0||(b&l)!==0)&&(h[_]=If(b,i)):O<=i&&(t.expiredLanes|=b),d&=~b}if(i=tt,s=Me,s=ci(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&vr(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Hn(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&vr(l),Ui(s)){case 2:case 8:s=Bo;break;case 32:s=_r;break;case 268435456:s=Pu;break;default:s=_r}return l=n_.bind(null,t),s=Mt(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&vr(l),t.callbackPriority=2,t.callbackNode=null,2}function n_(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Gc()&&t.callbackNode!==s)return null;var l=Me;return l=ci(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Lv(t,l,i),t_(t,tn()),t.callbackNode!=null&&t.callbackNode===s?n_.bind(null,t):null)}function i_(t,i){if(Gc())return null;Lv(t,i,!0)}function jb(){Kb(function(){(Ge&6)!==0?Mt(zo,Vb):e_()})}function em(){if(Fr===0){var t=ks;t===0&&(t=li,li<<=1,(li&261888)===0&&(li=256)),Fr=t}return Fr}function r_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:bs(""+t)}function a_(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function Pb(t,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var d=r_((h[Pt]||null).action),_=l.submitter;_&&(i=(i=_[Pt]||null)?r_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var b=new Ti("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fr!==0){var O=_?a_(h,_):new FormData(h);Ed(s,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(b.preventDefault(),O=_?a_(h,_):new FormData(h),Ed(s,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var tm=0;tm<Lf.length;tm++){var nm=Lf[tm],Lb=nm.toLowerCase(),kb=nm[0].toUpperCase()+nm.slice(1);$n(Lb,"on"+kb)}$n(Pg,"onAnimationEnd"),$n(Lg,"onAnimationIteration"),$n(kg,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(eb,"onTransitionRun"),$n(tb,"onTransitionStart"),$n(nb,"onTransitionCancel"),$n(Ug,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ub=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function s_(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var b=l[_],O=b.instance,H=b.currentTarget;if(b=b.listener,O!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=H;try{d(h)}catch(X){lc(X)}h.currentTarget=null,d=O}else for(_=0;_<l.length;_++){if(b=l[_],O=b.instance,H=b.currentTarget,b=b.listener,O!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=H;try{d(h)}catch(X){lc(X)}h.currentTarget=null,d=O}}}}function Oe(t,i){var s=i[vs];s===void 0&&(s=i[vs]=new Set);var l=t+"__bubble";s.has(l)||(o_(i,t,2,!1),s.add(l))}function im(t,i,s){var l=0;i&&(l|=4),o_(s,t,l,i)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function rm(t){if(!t[Yc]){t[Yc]=!0,Fo.forEach(function(s){s!=="selectionchange"&&(Ub.has(s)||im(s,!1,t),im(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Yc]||(i[Yc]=!0,im("selectionchange",!1,i))}}function o_(t,i,s,l){switch(P_(i)){case 2:var h=dA;break;case 8:h=mA;break;default:h=_m}s=h.bind(null,i,s,t),h=void 0,!Na||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function am(t,i,s,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=mi(b),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=d=_;continue e}b=b.parentNode}}l=l.return}wr(function(){var H=d,X=Rn(s),W=[];e:{var q=zg.get(t);if(q!==void 0){var Q=Ti,he=t;switch(t){case"keypress":if(Da(s)===0)break e;case"keydown":case"keyup":Q=ac;break;case"focusin":he="focus",Q=Ma;break;case"focusout":he="blur",Q=Ma;break;case"beforeblur":case"afterblur":Q=Ma;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=$u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=v;break;case Pg:case Lg:case kg:Q=Zu;break;case Ug:Q=A;break;case"scroll":case"scrollend":Q=nl;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=Wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Hi;break;case"toggle":case"beforetoggle":Q=Ce}var ye=(i&4)!==0,et=!ye&&(t==="scroll"||t==="scrollend"),L=ye?q!==null?q+"Capture":null:q;ye=[];for(var j=H,B;j!==null;){var $=j;if(B=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||B===null||L===null||($=Qn(j,L),$!=null&&ye.push(Ml(j,$,B))),et)break;j=j.return}0<ye.length&&(q=new Q(q,he,null,s,X),W.push({event:q,listeners:ye}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",q&&s!==Wo&&(he=s.relatedTarget||s.fromElement)&&(mi(he)||he[fi]))break e;if((Q||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,Q?(he=s.relatedTarget||s.toElement,Q=H,he=he?mi(he):null,he!==null&&(et=u(he),ye=he.tag,he!==et||ye!==5&&ye!==27&&ye!==6)&&(he=null)):(Q=null,he=H),Q!==he)){if(ye=il,$="onMouseLeave",L="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Hi,$="onPointerLeave",L="onPointerEnter",j="pointer"),et=Q==null?q:mn(Q),B=he==null?q:mn(he),q=new ye($,j+"leave",Q,s,X),q.target=et,q.relatedTarget=B,$=null,mi(X)===H&&(ye=new ye(L,j+"enter",he,s,X),ye.target=B,ye.relatedTarget=et,$=ye),et=$,Q&&he)t:{for(ye=zb,L=Q,j=he,B=0,$=L;$;$=ye($))B++;$=0;for(var pe=j;pe;pe=ye(pe))$++;for(;0<B-$;)L=ye(L),B--;for(;0<$-B;)j=ye(j),$--;for(;B--;){if(L===j||j!==null&&L===j.alternate){ye=L;break t}L=ye(L),j=ye(j)}ye=null}else ye=null;Q!==null&&l_(W,q,Q,ye,!1),he!==null&&et!==null&&l_(W,et,he,ye,!0)}}e:{if(q=H?mn(H):window,Q=q.nodeName&&q.nodeName.toLowerCase(),Q==="select"||Q==="input"&&q.type==="file")var Be=wg;else if(bg(q))if(Rg)Be=JS;else{Be=XS;var de=YS}else Q=q.nodeName,!Q||Q.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?H&&Ss(H.elementType)&&(Be=wg):Be=$S;if(Be&&(Be=Be(t,H))){Ag(W,Be,s,X);break e}de&&de(t,q,H),t==="focusout"&&H&&q.type==="number"&&H.memoizedProps.value!=null&&$o(q,"number",q.value)}switch(de=H?mn(H):window,t){case"focusin":(bg(de)||de.contentEditable==="true")&&(xs=de,Vf=H,ll=null);break;case"focusout":ll=Vf=xs=null;break;case"mousedown":jf=!0;break;case"contextmenu":case"mouseup":case"dragend":jf=!1,Vg(W,s,X);break;case"selectionchange":if(WS)break;case"keydown":case"keyup":Vg(W,s,X)}var xe;if(Fe)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Ns?Va(t,s)&&(Ve="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ve="onCompositionStart");Ve&&(Ai&&s.locale!=="ko"&&(Ns||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Ns&&(xe=tl()):(Ei=X,el="value"in Ei?Ei.value:Ei.textContent,Ns=!0)),de=Xc(H,Ve),0<de.length&&(Ve=new bi(Ve,t,null,s,X),W.push({event:Ve,listeners:de}),xe?Ve.data=xe:(xe=Is(s),xe!==null&&(Ve.data=xe)))),(xe=In?FS(t,s):GS(t,s))&&(Ve=Xc(H,"onBeforeInput"),0<Ve.length&&(de=new bi("onBeforeInput","beforeinput",null,s,X),W.push({event:de,listeners:Ve}),de.data=xe)),Pb(W,t,H,s,X)}s_(W,i)})}function Ml(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Xc(t,i){for(var s=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Qn(t,s),h!=null&&l.unshift(Ml(t,h,d)),h=Qn(t,i),h!=null&&l.push(Ml(t,h,d))),t.tag===3)return l;t=t.return}return[]}function zb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function l_(t,i,s,l,h){for(var d=i._reactName,_=[];s!==null&&s!==l;){var b=s,O=b.alternate,H=b.stateNode;if(b=b.tag,O!==null&&O===l)break;b!==5&&b!==26&&b!==27||H===null||(O=H,h?(H=Qn(s,d),H!=null&&_.unshift(Ml(s,H,O))):h||(H=Qn(s,d),H!=null&&_.push(Ml(s,H,O)))),s=s.return}_.length!==0&&t.push({event:i,listeners:_})}var Bb=/\r\n?/g,Hb=/\u0000|\uFFFD/g;function u_(t){return(typeof t=="string"?t:""+t).replace(Bb,`
`).replace(Hb,"")}function c_(t,i){return i=u_(i),u_(t)===i}function We(t,i,s,l,h,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||sn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&sn(t,""+l);break;case"className":pn(t,"class",l);break;case"tabIndex":pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(t,s,l);break;case"style":Zo(t,l,d);break;case"data":if(i!=="object"){pn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=bs(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=bs(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=bs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),Es(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Es(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Xu.get(s)||s,Es(t,s,l))}}function sm(t,i,s,l,h,d){switch(s){case"style":Zo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?sn(t,l):(typeof l=="number"||typeof l=="bigint")&&sn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Go.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),d=t[Pt]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Es(t,s,l)}}}function Qt(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:We(t,i,d,_,s,null)}}h&&We(t,i,"srcSet",s.srcSet,s,null),l&&We(t,i,"src",s.src,s,null);return;case"input":Oe("invalid",t);var b=d=_=h=null,O=null,H=null;for(l in s)if(s.hasOwnProperty(l)){var X=s[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":O=X;break;case"defaultChecked":H=X;break;case"value":d=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,i));break;default:We(t,i,l,X,s,null)}}Qu(t,d,b,O,H,_,h,!1);return;case"select":Oe("invalid",t),l=_=d=null;for(h in s)if(s.hasOwnProperty(h)&&(b=s[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:We(t,i,h,b,s,null)}i=d,s=_,t.multiple=!!l,i!=null?Tr(t,!!l,i,!1):s!=null&&Tr(t,!!l,s,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(b=s[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:We(t,i,_,b,s,null)}Sr(t,l,h,d);return;case"option":for(O in s)if(s.hasOwnProperty(O)&&(l=s[O],l!=null))switch(O){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,i,O,l,s,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<Ol.length;l++)Oe(Ol[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in s)if(s.hasOwnProperty(H)&&(l=s[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:We(t,i,H,l,s,null)}return;default:if(Ss(i)){for(X in s)s.hasOwnProperty(X)&&(l=s[X],l!==void 0&&sm(t,i,X,l,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(l=s[b],l!=null&&We(t,i,b,l,s,null))}function qb(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,b=null,O=null,H=null,X=null;for(Q in s){var W=s[Q];if(s.hasOwnProperty(Q)&&W!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":O=W;default:l.hasOwnProperty(Q)||We(t,i,Q,null,l,W)}}for(var q in l){var Q=l[q];if(W=s[q],l.hasOwnProperty(q)&&(Q!=null||W!=null))switch(q){case"type":d=Q;break;case"name":h=Q;break;case"checked":H=Q;break;case"defaultChecked":X=Q;break;case"value":_=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,i));break;default:Q!==W&&We(t,i,q,Q,l,W)}}Ts(t,_,b,O,H,X,d,h);return;case"select":Q=_=b=q=null;for(d in s)if(O=s[d],s.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":Q=O;default:l.hasOwnProperty(d)||We(t,i,d,null,l,O)}for(h in l)if(d=l[h],O=s[h],l.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":q=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==O&&We(t,i,h,d,l,O)}i=b,s=_,l=Q,q!=null?Tr(t,!!s,q,!1):!!l!=!!s&&(i!=null?Tr(t,!!s,i,!0):Tr(t,!!s,s?[]:"",!1));return;case"textarea":Q=q=null;for(b in s)if(h=s[b],s.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:We(t,i,b,null,l,h)}for(_ in l)if(h=l[_],d=s[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":q=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&We(t,i,_,h,l,d)}Ku(t,q,Q);return;case"option":for(var he in s)if(q=s[he],s.hasOwnProperty(he)&&q!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:We(t,i,he,null,l,q)}for(O in l)if(q=l[O],Q=s[O],l.hasOwnProperty(O)&&q!==Q&&(q!=null||Q!=null))switch(O){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:We(t,i,O,q,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in s)q=s[ye],s.hasOwnProperty(ye)&&q!=null&&!l.hasOwnProperty(ye)&&We(t,i,ye,null,l,q);for(H in l)if(q=l[H],Q=s[H],l.hasOwnProperty(H)&&q!==Q&&(q!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,i));break;default:We(t,i,H,q,l,Q)}return;default:if(Ss(i)){for(var et in s)q=s[et],s.hasOwnProperty(et)&&q!==void 0&&!l.hasOwnProperty(et)&&sm(t,i,et,void 0,l,q);for(X in l)q=l[X],Q=s[X],!l.hasOwnProperty(X)||q===Q||q===void 0&&Q===void 0||sm(t,i,X,q,l,Q);return}}for(var L in s)q=s[L],s.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&We(t,i,L,null,l,q);for(W in l)q=l[W],Q=s[W],!l.hasOwnProperty(W)||q===Q||q==null&&Q==null||We(t,i,W,q,l,Q)}function h_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Fb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],d=h.transferSize,_=h.initiatorType,b=h.duration;if(d&&b&&h_(_)){for(_=0,b=h.responseEnd,l+=1;l<s.length;l++){var O=s[l],H=O.startTime;if(H>b)break;var X=O.transferSize,W=O.initiatorType;X&&h_(W)&&(O=O.responseEnd,_+=X*(O<b?1:(b-H)/(O-H)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var om=null,lm=null;function $c(t){return t.nodeType===9?t:t.ownerDocument}function f_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function d_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function um(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var cm=null;function Gb(){var t=window.event;return t&&t.type==="popstate"?t===cm?!1:(cm=t,!0):(cm=null,!1)}var m_=typeof setTimeout=="function"?setTimeout:void 0,Qb=typeof clearTimeout=="function"?clearTimeout:void 0,p_=typeof Promise=="function"?Promise:void 0,Kb=typeof queueMicrotask=="function"?queueMicrotask:typeof p_<"u"?function(t){return p_.resolve(null).then(t).catch(Yb)}:m_;function Yb(t){setTimeout(function(){throw t})}function Gr(t){return t==="head"}function g_(t,i){var s=i,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(h),io(i);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Vl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Vl(s);for(var d=s.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[di]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=_}}else s==="body"&&Vl(t.ownerDocument.body);s=h}while(s);io(i)}function y_(t,i){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function hm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":hm(s),_s(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Xb(t,i,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[di])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function $b(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=jn(t.nextSibling),t===null))return null;return t}function v_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=jn(t.nextSibling),t===null))return null;return t}function fm(t){return t.data==="$?"||t.data==="$~"}function dm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Jb(t,i){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||s.readyState!=="loading")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function jn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var mm=null;function __(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(i===0)return jn(t.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}t=t.nextSibling}return null}function E_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return t;i--}else s!=="/$"&&s!=="/&"||i++}t=t.previousSibling}return null}function T_(t,i,s){switch(i=$c(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Vl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);_s(t)}var Pn=new Map,S_=new Set;function Jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ir=ae.d;ae.d={f:Zb,r:Wb,D:eA,C:tA,L:nA,m:iA,X:aA,S:rA,M:sA};function Zb(){var t=ir.f(),i=Hc();return t||i}function Wb(t){var i=wn(t);i!==null&&i.tag===5&&i.type==="form"?Uy(i):ir.r(t)}var eo=typeof document>"u"?null:document;function b_(t,i,s){var l=eo;if(l&&typeof i=="string"&&i){var h=an(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),S_.has(h)||(S_.add(h),t={rel:t,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Qt(i,"link",t),bt(i),l.head.appendChild(i)))}}function eA(t){ir.D(t),b_("dns-prefetch",t,null)}function tA(t,i){ir.C(t,i),b_("preconnect",t,i)}function nA(t,i,s){ir.L(t,i,s);var l=eo;if(l&&t&&i){var h='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+an(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+an(s.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var d=h;switch(i){case"style":d=to(t);break;case"script":d=no(t)}Pn.has(d)||(t=S({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),Pn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(jl(d))||i==="script"&&l.querySelector(Pl(d))||(i=l.createElement("link"),Qt(i,"link",t),bt(i),l.head.appendChild(i)))}}function iA(t,i){ir.m(t,i);var s=eo;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=no(t)}if(!Pn.has(d)&&(t=S({rel:"modulepreload",href:t},i),Pn.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Pl(d)))return}l=s.createElement("link"),Qt(l,"link",t),bt(l),s.head.appendChild(l)}}}function rA(t,i,s){ir.S(t,i,s);var l=eo;if(l&&t){var h=pi(l).hoistableStyles,d=to(t);i=i||"default";var _=h.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(jl(d)))b.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},s),(s=Pn.get(d))&&pm(t,s);var O=_=l.createElement("link");bt(O),Qt(O,"link",t),O._p=new Promise(function(H,X){O.onload=H,O.onerror=X}),O.addEventListener("load",function(){b.loading|=1}),O.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Zc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(d,_)}}}function aA(t,i){ir.X(t,i);var s=eo;if(s&&t){var l=pi(s).hoistableScripts,h=no(t),d=l.get(h);d||(d=s.querySelector(Pl(h)),d||(t=S({src:t,async:!0},i),(i=Pn.get(h))&&gm(t,i),d=s.createElement("script"),bt(d),Qt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function sA(t,i){ir.M(t,i);var s=eo;if(s&&t){var l=pi(s).hoistableScripts,h=no(t),d=l.get(h);d||(d=s.querySelector(Pl(h)),d||(t=S({src:t,async:!0,type:"module"},i),(i=Pn.get(h))&&gm(t,i),d=s.createElement("script"),bt(d),Qt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function A_(t,i,s,l){var h=(h=Ne.current)?Jc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=to(s.href),s=pi(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=to(s.href);var d=pi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(jl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Pn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Pn.set(t,s),d||oA(h,t,s,_.state))),i&&l===null)throw Error(a(528,""));return _}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=no(s),s=pi(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function to(t){return'href="'+an(t)+'"'}function jl(t){return'link[rel="stylesheet"]['+t+"]"}function w_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function oA(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Qt(i,"link",s),bt(i),t.head.appendChild(i))}function no(t){return'[src="'+an(t)+'"]'}function Pl(t){return"script[async]"+t}function R_(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+an(s.href)+'"]');if(l)return i.instance=l,bt(l),l;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),bt(l),Qt(l,"style",h),Zc(l,s.precedence,t),i.instance=l;case"stylesheet":h=to(s.href);var d=t.querySelector(jl(h));if(d)return i.state.loading|=4,i.instance=d,bt(d),d;l=w_(s),(h=Pn.get(h))&&pm(l,h),d=(t.ownerDocument||t).createElement("link"),bt(d);var _=d;return _._p=new Promise(function(b,O){_.onload=b,_.onerror=O}),Qt(d,"link",l),i.state.loading|=4,Zc(d,s.precedence,t),i.instance=d;case"script":return d=no(s.src),(h=t.querySelector(Pl(d)))?(i.instance=h,bt(h),h):(l=s,(h=Pn.get(d))&&(l=S({},s),gm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),bt(h),Qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Zc(l,s.precedence,t));return i.instance}function Zc(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function pm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function gm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Wc=null;function C_(t,i,s){if(Wc===null){var l=new Map,h=Wc=new Map;h.set(s,l)}else h=Wc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[di]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function I_(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function lA(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function N_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function uA(t,i,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=to(l.href),d=i.querySelector(jl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=eh.bind(t),i.then(t,t)),s.state.loading|=4,s.instance=d,bt(d);return}d=i.ownerDocument||i,l=w_(l),(h=Pn.get(h))&&pm(l,h),d=d.createElement("link"),bt(d);var _=d;_._p=new Promise(function(b,O){_.onload=b,_.onerror=O}),Qt(d,"link",l),s.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=eh.bind(t),i.addEventListener("load",s),i.addEventListener("error",s))}}var ym=0;function cA(t,i){return t.stylesheets&&t.count===0&&nh(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&nh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&ym===0&&(ym=62500*Fb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&nh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>ym?50:800)+i);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function eh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var th=null;function nh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,th=new Map,i.forEach(hA,t),th=null,eh.call(t))}function hA(t,i){if(!(i.state.loading&4)){var s=th.get(t);if(s)var l=s.get(null);else{s=new Map,th.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=s.get(_)||l,d===l&&s.set(null,h),s.set(_,h),this.count++,l=eh.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Ll={$$typeof:re,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function fA(t,i,s,l,h,d,_,b,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function x_(t,i,s,l,h,d,_,b,O,H,X,W){return t=new fA(t,i,s,_,O,H,X,W,b),i=1,d===!0&&(i|=24),d=yn(3,null,null,i),t.current=d,d.stateNode=t,i=$f(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},ed(d),t}function D_(t){return t?(t=Ms,t):Ms}function O_(t,i,s,l,h,d){h=D_(h),l.context===null?l.context=h:l.pendingContext=h,l=Vr(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=jr(t,l,i),s!==null&&(hn(s,t,i),pl(s,t,i))}function M_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function vm(t,i){M_(t,i),(t=t.alternate)&&M_(t,i)}function V_(t){if(t.tag===13||t.tag===31){var i=La(t,67108864);i!==null&&hn(i,t,67108864),vm(t,67108864)}}function j_(t){if(t.tag===13||t.tag===31){var i=Sn();i=wa(i);var s=La(t,i);s!==null&&hn(s,t,i),vm(t,i)}}var ih=!0;function dA(t,i,s,l){var h=Y.T;Y.T=null;var d=ae.p;try{ae.p=2,_m(t,i,s,l)}finally{ae.p=d,Y.T=h}}function mA(t,i,s,l){var h=Y.T;Y.T=null;var d=ae.p;try{ae.p=8,_m(t,i,s,l)}finally{ae.p=d,Y.T=h}}function _m(t,i,s,l){if(ih){var h=Em(l);if(h===null)am(t,i,l,rh,s),L_(t,l);else if(gA(h,t,i,s,l))l.stopPropagation();else if(L_(t,l),i&4&&-1<pA.indexOf(t)){for(;h!==null;){var d=wn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ui(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var O=1<<31-mt(_);b.entanglements[1]|=O,_&=~O}Ii(d),(Ge&6)===0&&(zc=tn()+500,Dl(0))}}break;case 31:case 13:b=La(d,2),b!==null&&hn(b,d,2),Hc(),vm(d,2)}if(d=Em(l),d===null&&am(t,i,l,rh,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else am(t,i,l,null,s)}}function Em(t){return t=Rn(t),Tm(t)}var rh=null;function Tm(t){if(rh=null,t=mi(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=f(i),t!==null)return t;t=null}else if(s===31){if(t=m(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return rh=t,null}function P_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ta()){case zo:return 2;case Bo:return 8;case _r:case Cf:return 32;case Pu:return 268435456;default:return 32}default:return 32}}var Sm=!1,Qr=null,Kr=null,Yr=null,kl=new Map,Ul=new Map,Xr=[],pA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function L_(t,i){switch(t){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":kl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(i.pointerId)}}function zl(t,i,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=wn(i),i!==null&&V_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function gA(t,i,s,l,h){switch(i){case"focusin":return Qr=zl(Qr,t,i,s,l,h),!0;case"dragenter":return Kr=zl(Kr,t,i,s,l,h),!0;case"mouseover":return Yr=zl(Yr,t,i,s,l,h),!0;case"pointerover":var d=h.pointerId;return kl.set(d,zl(kl.get(d)||null,t,i,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ul.set(d,zl(Ul.get(d)||null,t,i,s,l,h)),!0}return!1}function k_(t){var i=mi(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=f(s),i!==null){t.blockedOn=i,qn(t.priority,function(){j_(s)});return}}else if(i===31){if(i=m(s),i!==null){t.blockedOn=i,qn(t.priority,function(){j_(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ah(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=Em(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Wo=l,s.target.dispatchEvent(l),Wo=null}else return i=wn(s),i!==null&&V_(i),t.blockedOn=s,!1;i.shift()}return!0}function U_(t,i,s){ah(t)&&s.delete(i)}function yA(){Sm=!1,Qr!==null&&ah(Qr)&&(Qr=null),Kr!==null&&ah(Kr)&&(Kr=null),Yr!==null&&ah(Yr)&&(Yr=null),kl.forEach(U_),Ul.forEach(U_)}function sh(t,i){t.blockedOn===i&&(t.blockedOn=null,Sm||(Sm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,yA)))}var oh=null;function z_(t){oh!==t&&(oh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){oh===t&&(oh=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Tm(l||s)===null)continue;break}var d=wn(s);d!==null&&(t.splice(i,3),i-=3,Ed(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function io(t){function i(O){return sh(O,t)}Qr!==null&&sh(Qr,t),Kr!==null&&sh(Kr,t),Yr!==null&&sh(Yr,t),kl.forEach(i),Ul.forEach(i);for(var s=0;s<Xr.length;s++){var l=Xr[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Xr.length&&(s=Xr[0],s.blockedOn===null);)k_(s),s.blockedOn===null&&Xr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],_=h[Pt]||null;if(typeof d=="function")_||z_(s);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Pt]||null)b=_.formAction;else if(Tm(h)!==null)continue}else b=_.action;typeof b=="function"?s[l+1]=b:(s.splice(l,3),l-=3),z_(s)}}}function B_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function bm(t){this._internalRoot=t}lh.prototype.render=bm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=Sn();O_(s,l,t,i,null,null)},lh.prototype.unmount=bm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;O_(t.current,2,null,t,null,null),Hc(),i[fi]=null}};function lh(t){this._internalRoot=t}lh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Hu();t={blockedOn:null,target:t,priority:i};for(var s=0;s<Xr.length&&i!==0&&i<Xr[s].priority;s++);Xr.splice(s,0,t),s===0&&k_(t)}};var H_=e.version;if(H_!=="19.2.0")throw Error(a(527,H_,"19.2.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var vA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uh.isDisabled&&uh.supportsFiber)try{Bn=uh.inject(vA),Bt=uh}catch{}}return Hl.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",h=Xy,d=$y,_=Jy;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=x_(t,1,!1,null,null,s,l,null,h,d,_,B_),t[fi]=i.current,rm(t),new bm(i)},Hl.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,h="",d=Xy,_=$y,b=Jy,O=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.formState!==void 0&&(O=s.formState)),i=x_(t,1,!0,i,s??null,l,h,O,d,_,b,B_),i.context=D_(null),s=i.current,l=Sn(),l=wa(l),h=Vr(l),h.callback=null,jr(s,h,l),s=l,i.current.lanes=s,ba(i,s),Ii(i),t[fi]=i.current,rm(t),new lh(i)},Hl.version="19.2.0",Hl}var Z_;function NA(){if(Z_)return Rm.exports;Z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Rm.exports=IA(),Rm.exports}var xA=NA();const DA=()=>{};var W_={};const H1=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},OA=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},q1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,T=u>>2,S=(u&3)<<4|m>>4;let R=(m&15)<<2|p>>6,w=p&63;g||(w=64,f||(R=64)),a.push(n[T],n[S],n[R],n[w])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(H1(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):OA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||S==null)throw new MA;const R=u<<2|m>>4;if(a.push(R),p!==64){const w=m<<4&240|p>>2;if(a.push(w),S!==64){const P=p<<6&192|S;a.push(P)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class MA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VA=function(r){const e=H1(r);return q1.encodeByteArray(e,!0)},Dh=function(r){return VA(r).replace(/\./g,"")},F1=function(r){try{return q1.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function jA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const PA=()=>jA().__FIREBASE_DEFAULTS__,LA=()=>{if(typeof process>"u"||typeof W_>"u")return;const r=W_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},kA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&F1(r[1]);return e&&JSON.parse(e)},Wh=()=>{try{return DA()||PA()||LA()||kA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},G1=r=>Wh()?.emulatorHosts?.[r],UA=r=>{const e=G1(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},Q1=()=>Wh()?.config,K1=r=>Wh()?.[`_${r}`];class zA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}function Ro(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Y1(r){return(await fetch(r,{credentials:"include"})).ok}function BA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Dh(JSON.stringify(n)),Dh(JSON.stringify(f)),""].join(".")}const tu={};function HA(){const r={prod:[],emulator:[]};for(const e of Object.keys(tu))tu[e]?r.emulator.push(e):r.prod.push(e);return r}function qA(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let e0=!1;function X1(r,e){if(typeof window>"u"||typeof document>"u"||!Ro(window.location.host)||tu[r]===e||tu[r]||e0)return;tu[r]=e;function n(R){return`__firebase__banner__${R}`}const a="__firebase__banner",u=HA().prod.length>0;function f(){const R=document.getElementById(a);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,w){R.setAttribute("width","24"),R.setAttribute("id",w),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function p(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{e0=!0,f()},R}function T(R,w){R.setAttribute("id",w),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function S(){const R=qA(a),w=n("text"),P=document.getElementById(w)||document.createElement("span"),K=n("learnmore"),F=document.getElementById(K)||document.createElement("a"),ne=n("preprendIcon"),ie=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const re=R.element;m(re),T(F,K);const ve=p();g(ie,ne),re.append(ie,P,F,ve),document.body.appendChild(re)}u?(P.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function GA(){const r=Wh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function YA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XA(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function $A(){return!GA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JA(){try{return typeof indexedDB=="object"}catch{return!1}}function ZA(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const WA="FirebaseError";class gr extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=WA,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eu.prototype.create)}}class Eu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?ew(u,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new gr(o,m,a)}}function ew(r,e){return r.replace(tw,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const tw=/\{\$([^}]+)}/g;function nw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ns(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=r[o],f=e[o];if(t0(u)&&t0(f)){if(!ns(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function t0(r){return r!==null&&typeof r=="object"}function Tu(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Kl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Yl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function iw(r,e){const n=new rw(r,e);return n.subscribe.bind(n)}class rw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");aw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=xm),o.error===void 0&&(o.error=xm),o.complete===void 0&&(o.complete=xm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function xm(){}function zt(r){return r&&r._delegate?r._delegate:r}class is{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $a="[DEFAULT]";class sw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new zA;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lw(e))try{this.getOrInitializeService({instanceIdentifier:$a})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=$a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$a){return this.instances.has(e)}getOptions(e=$a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(o)}return o}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:ow(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=$a){return this.component?this.component.multipleInstances?e:$a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ow(r){return r===$a?void 0:r}function lw(r){return r.instantiationMode==="EAGER"}class uw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var je;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(je||(je={}));const cw={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},hw=je.INFO,fw={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},dw=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=fw[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wp{constructor(e){this.name=e,this._logLevel=hw,this._logHandler=dw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const mw=(r,e)=>e.some(n=>r instanceof n);let n0,i0;function pw(){return n0||(n0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gw(){return i0||(i0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $1=new WeakMap,Fm=new WeakMap,J1=new WeakMap,Dm=new WeakMap,Rp=new WeakMap;function yw(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ra(r.result)),o()},f=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&$1.set(n,r)}).catch(()=>{}),Rp.set(e,r),e}function vw(r){if(Fm.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Fm.set(r,e)}let Gm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Fm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||J1.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ra(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function _w(r){Gm=r(Gm)}function Ew(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(Om(this),e,...n);return J1.set(a,e.sort?e.sort():[e]),ra(a)}:gw().includes(r)?function(...e){return r.apply(Om(this),e),ra($1.get(this))}:function(...e){return ra(r.apply(Om(this),e))}}function Tw(r){return typeof r=="function"?Ew(r):(r instanceof IDBTransaction&&vw(r),mw(r,pw())?new Proxy(r,Gm):r)}function ra(r){if(r instanceof IDBRequest)return yw(r);if(Dm.has(r))return Dm.get(r);const e=Tw(r);return e!==r&&(Dm.set(r,e),Rp.set(e,r)),e}const Om=r=>Rp.get(r);function Sw(r,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=ra(f);return a&&f.addEventListener("upgradeneeded",g=>{a(ra(f.result),g.oldVersion,g.newVersion,ra(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const bw=["get","getKey","getAll","getAllKeys","count"],Aw=["put","add","delete","clear"],Mm=new Map;function r0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Mm.get(e))return Mm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=Aw.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||bw.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let p=g.store;return a&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return Mm.set(e,u),u}_w(r=>({...r,get:(e,n,a)=>r0(e,n)||r.get(e,n,a),has:(e,n)=>!!r0(e,n)||r.has(e,n)}));class ww{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Rw(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function Rw(r){return r.getComponent()?.type==="VERSION"}const Qm="@firebase/app",a0="0.14.6";const hr=new wp("@firebase/app"),Cw="@firebase/app-compat",Iw="@firebase/analytics-compat",Nw="@firebase/analytics",xw="@firebase/app-check-compat",Dw="@firebase/app-check",Ow="@firebase/auth",Mw="@firebase/auth-compat",Vw="@firebase/database",jw="@firebase/data-connect",Pw="@firebase/database-compat",Lw="@firebase/functions",kw="@firebase/functions-compat",Uw="@firebase/installations",zw="@firebase/installations-compat",Bw="@firebase/messaging",Hw="@firebase/messaging-compat",qw="@firebase/performance",Fw="@firebase/performance-compat",Gw="@firebase/remote-config",Qw="@firebase/remote-config-compat",Kw="@firebase/storage",Yw="@firebase/storage-compat",Xw="@firebase/firestore",$w="@firebase/ai",Jw="@firebase/firestore-compat",Zw="firebase",Ww="12.6.0";const Km="[DEFAULT]",eR={[Qm]:"fire-core",[Cw]:"fire-core-compat",[Nw]:"fire-analytics",[Iw]:"fire-analytics-compat",[Dw]:"fire-app-check",[xw]:"fire-app-check-compat",[Ow]:"fire-auth",[Mw]:"fire-auth-compat",[Vw]:"fire-rtdb",[jw]:"fire-data-connect",[Pw]:"fire-rtdb-compat",[Lw]:"fire-fn",[kw]:"fire-fn-compat",[Uw]:"fire-iid",[zw]:"fire-iid-compat",[Bw]:"fire-fcm",[Hw]:"fire-fcm-compat",[qw]:"fire-perf",[Fw]:"fire-perf-compat",[Gw]:"fire-rc",[Qw]:"fire-rc-compat",[Kw]:"fire-gcs",[Yw]:"fire-gcs-compat",[Xw]:"fire-fst",[Jw]:"fire-fst-compat",[$w]:"fire-vertex","fire-js":"fire-js",[Zw]:"fire-js-all"};const Oh=new Map,tR=new Map,Ym=new Map;function s0(r,e){try{r.container.addComponent(e)}catch(n){hr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function _o(r){const e=r.name;if(Ym.has(e))return hr.debug(`There were multiple attempts to register component ${e}.`),!1;Ym.set(e,r);for(const n of Oh.values())s0(n,r);for(const n of tR.values())s0(n,r);return!0}function Cp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Ln(r){return r==null?!1:r.settings!==void 0}const nR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},aa=new Eu("app","Firebase",nR);class iR{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw aa.create("app-deleted",{appName:this._name})}}const Co=Ww;function Z1(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a={name:Km,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw aa.create("bad-app-name",{appName:String(o)});if(n||(n=Q1()),!n)throw aa.create("no-options");const u=Oh.get(o);if(u){if(ns(n,u.options)&&ns(a,u.config))return u;throw aa.create("duplicate-app",{appName:o})}const f=new uw(o);for(const g of Ym.values())f.addComponent(g);const m=new iR(n,a,f);return Oh.set(o,m),m}function W1(r=Km){const e=Oh.get(r);if(!e&&r===Km&&Q1())return Z1();if(!e)throw aa.create("no-app",{appName:r});return e}function sa(r,e,n){let a=eR[r]??r;n&&(a+=`-${n}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${a}" with version "${e}":`];o&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hr.warn(f.join(" "));return}_o(new is(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const rR="firebase-heartbeat-database",aR=1,lu="firebase-heartbeat-store";let Vm=null;function eE(){return Vm||(Vm=Sw(rR,aR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(lu)}catch(n){console.warn(n)}}}}).catch(r=>{throw aa.create("idb-open",{originalErrorMessage:r.message})})),Vm}async function sR(r){try{const n=(await eE()).transaction(lu),a=await n.objectStore(lu).get(tE(r));return await n.done,a}catch(e){if(e instanceof gr)hr.warn(e.message);else{const n=aa.create("idb-get",{originalErrorMessage:e?.message});hr.warn(n.message)}}}async function o0(r,e){try{const a=(await eE()).transaction(lu,"readwrite");await a.objectStore(lu).put(e,tE(r)),await a.done}catch(n){if(n instanceof gr)hr.warn(n.message);else{const a=aa.create("idb-set",{originalErrorMessage:n?.message});hr.warn(a.message)}}}function tE(r){return`${r.name}!${r.options.appId}`}const oR=1024,lR=30;class uR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hR(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=l0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>lR){const o=fR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){hr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=l0(),{heartbeatsToSend:n,unsentEntries:a}=cR(this._heartbeatsCache.heartbeats),o=Dh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return hr.warn(e),""}}}function l0(){return new Date().toISOString().substring(0,10)}function cR(r,e=oR){const n=[];let a=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),u0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),u0(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class hR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JA()?ZA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return o0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return o0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function u0(r){return Dh(JSON.stringify({version:2,heartbeats:r})).length}function fR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}function dR(r){_o(new is("platform-logger",e=>new ww(e),"PRIVATE")),_o(new is("heartbeat",e=>new uR(e),"PRIVATE")),sa(Qm,a0,r),sa(Qm,a0,"esm2020"),sa("fire-js","")}dR("");var mR="firebase",pR="12.6.0";sa(mR,pR,"app");var c0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var oa,nE;(function(){var r;function e(x,I){function N(){}N.prototype=I.prototype,x.F=I.prototype,x.prototype=new N,x.prototype.constructor=x,x.D=function(C,V,k){for(var D=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)D[nt-2]=arguments[nt];return I.prototype[V].apply(C,D)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,I,N){N||(N=0);const C=Array(16);if(typeof I=="string")for(var V=0;V<16;++V)C[V]=I.charCodeAt(N++)|I.charCodeAt(N++)<<8|I.charCodeAt(N++)<<16|I.charCodeAt(N++)<<24;else for(V=0;V<16;++V)C[V]=I[N++]|I[N++]<<8|I[N++]<<16|I[N++]<<24;I=x.g[0],N=x.g[1],V=x.g[2];let k=x.g[3],D;D=I+(k^N&(V^k))+C[0]+3614090360&4294967295,I=N+(D<<7&4294967295|D>>>25),D=k+(V^I&(N^V))+C[1]+3905402710&4294967295,k=I+(D<<12&4294967295|D>>>20),D=V+(N^k&(I^N))+C[2]+606105819&4294967295,V=k+(D<<17&4294967295|D>>>15),D=N+(I^V&(k^I))+C[3]+3250441966&4294967295,N=V+(D<<22&4294967295|D>>>10),D=I+(k^N&(V^k))+C[4]+4118548399&4294967295,I=N+(D<<7&4294967295|D>>>25),D=k+(V^I&(N^V))+C[5]+1200080426&4294967295,k=I+(D<<12&4294967295|D>>>20),D=V+(N^k&(I^N))+C[6]+2821735955&4294967295,V=k+(D<<17&4294967295|D>>>15),D=N+(I^V&(k^I))+C[7]+4249261313&4294967295,N=V+(D<<22&4294967295|D>>>10),D=I+(k^N&(V^k))+C[8]+1770035416&4294967295,I=N+(D<<7&4294967295|D>>>25),D=k+(V^I&(N^V))+C[9]+2336552879&4294967295,k=I+(D<<12&4294967295|D>>>20),D=V+(N^k&(I^N))+C[10]+4294925233&4294967295,V=k+(D<<17&4294967295|D>>>15),D=N+(I^V&(k^I))+C[11]+2304563134&4294967295,N=V+(D<<22&4294967295|D>>>10),D=I+(k^N&(V^k))+C[12]+1804603682&4294967295,I=N+(D<<7&4294967295|D>>>25),D=k+(V^I&(N^V))+C[13]+4254626195&4294967295,k=I+(D<<12&4294967295|D>>>20),D=V+(N^k&(I^N))+C[14]+2792965006&4294967295,V=k+(D<<17&4294967295|D>>>15),D=N+(I^V&(k^I))+C[15]+1236535329&4294967295,N=V+(D<<22&4294967295|D>>>10),D=I+(V^k&(N^V))+C[1]+4129170786&4294967295,I=N+(D<<5&4294967295|D>>>27),D=k+(N^V&(I^N))+C[6]+3225465664&4294967295,k=I+(D<<9&4294967295|D>>>23),D=V+(I^N&(k^I))+C[11]+643717713&4294967295,V=k+(D<<14&4294967295|D>>>18),D=N+(k^I&(V^k))+C[0]+3921069994&4294967295,N=V+(D<<20&4294967295|D>>>12),D=I+(V^k&(N^V))+C[5]+3593408605&4294967295,I=N+(D<<5&4294967295|D>>>27),D=k+(N^V&(I^N))+C[10]+38016083&4294967295,k=I+(D<<9&4294967295|D>>>23),D=V+(I^N&(k^I))+C[15]+3634488961&4294967295,V=k+(D<<14&4294967295|D>>>18),D=N+(k^I&(V^k))+C[4]+3889429448&4294967295,N=V+(D<<20&4294967295|D>>>12),D=I+(V^k&(N^V))+C[9]+568446438&4294967295,I=N+(D<<5&4294967295|D>>>27),D=k+(N^V&(I^N))+C[14]+3275163606&4294967295,k=I+(D<<9&4294967295|D>>>23),D=V+(I^N&(k^I))+C[3]+4107603335&4294967295,V=k+(D<<14&4294967295|D>>>18),D=N+(k^I&(V^k))+C[8]+1163531501&4294967295,N=V+(D<<20&4294967295|D>>>12),D=I+(V^k&(N^V))+C[13]+2850285829&4294967295,I=N+(D<<5&4294967295|D>>>27),D=k+(N^V&(I^N))+C[2]+4243563512&4294967295,k=I+(D<<9&4294967295|D>>>23),D=V+(I^N&(k^I))+C[7]+1735328473&4294967295,V=k+(D<<14&4294967295|D>>>18),D=N+(k^I&(V^k))+C[12]+2368359562&4294967295,N=V+(D<<20&4294967295|D>>>12),D=I+(N^V^k)+C[5]+4294588738&4294967295,I=N+(D<<4&4294967295|D>>>28),D=k+(I^N^V)+C[8]+2272392833&4294967295,k=I+(D<<11&4294967295|D>>>21),D=V+(k^I^N)+C[11]+1839030562&4294967295,V=k+(D<<16&4294967295|D>>>16),D=N+(V^k^I)+C[14]+4259657740&4294967295,N=V+(D<<23&4294967295|D>>>9),D=I+(N^V^k)+C[1]+2763975236&4294967295,I=N+(D<<4&4294967295|D>>>28),D=k+(I^N^V)+C[4]+1272893353&4294967295,k=I+(D<<11&4294967295|D>>>21),D=V+(k^I^N)+C[7]+4139469664&4294967295,V=k+(D<<16&4294967295|D>>>16),D=N+(V^k^I)+C[10]+3200236656&4294967295,N=V+(D<<23&4294967295|D>>>9),D=I+(N^V^k)+C[13]+681279174&4294967295,I=N+(D<<4&4294967295|D>>>28),D=k+(I^N^V)+C[0]+3936430074&4294967295,k=I+(D<<11&4294967295|D>>>21),D=V+(k^I^N)+C[3]+3572445317&4294967295,V=k+(D<<16&4294967295|D>>>16),D=N+(V^k^I)+C[6]+76029189&4294967295,N=V+(D<<23&4294967295|D>>>9),D=I+(N^V^k)+C[9]+3654602809&4294967295,I=N+(D<<4&4294967295|D>>>28),D=k+(I^N^V)+C[12]+3873151461&4294967295,k=I+(D<<11&4294967295|D>>>21),D=V+(k^I^N)+C[15]+530742520&4294967295,V=k+(D<<16&4294967295|D>>>16),D=N+(V^k^I)+C[2]+3299628645&4294967295,N=V+(D<<23&4294967295|D>>>9),D=I+(V^(N|~k))+C[0]+4096336452&4294967295,I=N+(D<<6&4294967295|D>>>26),D=k+(N^(I|~V))+C[7]+1126891415&4294967295,k=I+(D<<10&4294967295|D>>>22),D=V+(I^(k|~N))+C[14]+2878612391&4294967295,V=k+(D<<15&4294967295|D>>>17),D=N+(k^(V|~I))+C[5]+4237533241&4294967295,N=V+(D<<21&4294967295|D>>>11),D=I+(V^(N|~k))+C[12]+1700485571&4294967295,I=N+(D<<6&4294967295|D>>>26),D=k+(N^(I|~V))+C[3]+2399980690&4294967295,k=I+(D<<10&4294967295|D>>>22),D=V+(I^(k|~N))+C[10]+4293915773&4294967295,V=k+(D<<15&4294967295|D>>>17),D=N+(k^(V|~I))+C[1]+2240044497&4294967295,N=V+(D<<21&4294967295|D>>>11),D=I+(V^(N|~k))+C[8]+1873313359&4294967295,I=N+(D<<6&4294967295|D>>>26),D=k+(N^(I|~V))+C[15]+4264355552&4294967295,k=I+(D<<10&4294967295|D>>>22),D=V+(I^(k|~N))+C[6]+2734768916&4294967295,V=k+(D<<15&4294967295|D>>>17),D=N+(k^(V|~I))+C[13]+1309151649&4294967295,N=V+(D<<21&4294967295|D>>>11),D=I+(V^(N|~k))+C[4]+4149444226&4294967295,I=N+(D<<6&4294967295|D>>>26),D=k+(N^(I|~V))+C[11]+3174756917&4294967295,k=I+(D<<10&4294967295|D>>>22),D=V+(I^(k|~N))+C[2]+718787259&4294967295,V=k+(D<<15&4294967295|D>>>17),D=N+(k^(V|~I))+C[9]+3951481745&4294967295,x.g[0]=x.g[0]+I&4294967295,x.g[1]=x.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,x.g[2]=x.g[2]+V&4294967295,x.g[3]=x.g[3]+k&4294967295}a.prototype.v=function(x,I){I===void 0&&(I=x.length);const N=I-this.blockSize,C=this.C;let V=this.h,k=0;for(;k<I;){if(V==0)for(;k<=N;)o(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<I;)if(C[V++]=x.charCodeAt(k++),V==this.blockSize){o(this,C),V=0;break}}else for(;k<I;)if(C[V++]=x[k++],V==this.blockSize){o(this,C),V=0;break}}this.h=V,this.o+=I},a.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var I=1;I<x.length-8;++I)x[I]=0;I=this.o*8;for(var N=x.length-8;N<x.length;++N)x[N]=I&255,I/=256;for(this.v(x),x=Array(16),I=0,N=0;N<4;++N)for(let C=0;C<32;C+=8)x[I++]=this.g[N]>>>C&255;return x};function u(x,I){var N=m;return Object.prototype.hasOwnProperty.call(N,x)?N[x]:N[x]=I(x)}function f(x,I){this.h=I;const N=[];let C=!0;for(let V=x.length-1;V>=0;V--){const k=x[V]|0;C&&k==I||(N[V]=k,C=!1)}this.g=N}var m={};function g(x){return-128<=x&&x<128?u(x,function(I){return new f([I|0],I<0?-1:0)}):new f([x|0],x<0?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return S;if(x<0)return F(p(-x));const I=[];let N=1;for(let C=0;x>=N;C++)I[C]=x/N|0,N*=4294967296;return new f(I,0)}function T(x,I){if(x.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(x.charAt(0)=="-")return F(T(x.substring(1),I));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=p(Math.pow(I,8));let C=S;for(let k=0;k<x.length;k+=8){var V=Math.min(8,x.length-k);const D=parseInt(x.substring(k,k+V),I);V<8?(V=p(Math.pow(I,V)),C=C.j(V).add(p(D))):(C=C.j(N),C=C.add(p(D)))}return C}var S=g(0),R=g(1),w=g(16777216);r=f.prototype,r.m=function(){if(K(this))return-F(this).m();let x=0,I=1;for(let N=0;N<this.g.length;N++){const C=this.i(N);x+=(C>=0?C:4294967296+C)*I,I*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(P(this))return"0";if(K(this))return"-"+F(this).toString(x);const I=p(Math.pow(x,6));var N=this;let C="";for(;;){const V=ve(N,I).g;N=ne(N,V.j(I));let k=((N.g.length>0?N.g[0]:N.h)>>>0).toString(x);if(N=V,P(N))return k+C;for(;k.length<6;)k="0"+k;C=k+C}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function P(x){if(x.h!=0)return!1;for(let I=0;I<x.g.length;I++)if(x.g[I]!=0)return!1;return!0}function K(x){return x.h==-1}r.l=function(x){return x=ne(this,x),K(x)?-1:P(x)?0:1};function F(x){const I=x.g.length,N=[];for(let C=0;C<I;C++)N[C]=~x.g[C];return new f(N,~x.h).add(R)}r.abs=function(){return K(this)?F(this):this},r.add=function(x){const I=Math.max(this.g.length,x.g.length),N=[];let C=0;for(let V=0;V<=I;V++){let k=C+(this.i(V)&65535)+(x.i(V)&65535),D=(k>>>16)+(this.i(V)>>>16)+(x.i(V)>>>16);C=D>>>16,k&=65535,D&=65535,N[V]=D<<16|k}return new f(N,N[N.length-1]&-2147483648?-1:0)};function ne(x,I){return x.add(F(I))}r.j=function(x){if(P(this)||P(x))return S;if(K(this))return K(x)?F(this).j(F(x)):F(F(this).j(x));if(K(x))return F(this.j(F(x)));if(this.l(w)<0&&x.l(w)<0)return p(this.m()*x.m());const I=this.g.length+x.g.length,N=[];for(var C=0;C<2*I;C++)N[C]=0;for(C=0;C<this.g.length;C++)for(let V=0;V<x.g.length;V++){const k=this.i(C)>>>16,D=this.i(C)&65535,nt=x.i(V)>>>16,dt=x.i(V)&65535;N[2*C+2*V]+=D*dt,ie(N,2*C+2*V),N[2*C+2*V+1]+=k*dt,ie(N,2*C+2*V+1),N[2*C+2*V+1]+=D*nt,ie(N,2*C+2*V+1),N[2*C+2*V+2]+=k*nt,ie(N,2*C+2*V+2)}for(x=0;x<I;x++)N[x]=N[2*x+1]<<16|N[2*x];for(x=I;x<2*I;x++)N[x]=0;return new f(N,0)};function ie(x,I){for(;(x[I]&65535)!=x[I];)x[I+1]+=x[I]>>>16,x[I]&=65535,I++}function re(x,I){this.g=x,this.h=I}function ve(x,I){if(P(I))throw Error("division by zero");if(P(x))return new re(S,S);if(K(x))return I=ve(F(x),I),new re(F(I.g),F(I.h));if(K(I))return I=ve(x,F(I)),new re(F(I.g),I.h);if(x.g.length>30){if(K(x)||K(I))throw Error("slowDivide_ only works with positive integers.");for(var N=R,C=I;C.l(x)<=0;)N=Se(N),C=Se(C);var V=Re(N,1),k=Re(C,1);for(C=Re(C,2),N=Re(N,2);!P(C);){var D=k.add(C);D.l(x)<=0&&(V=V.add(N),k=D),C=Re(C,1),N=Re(N,1)}return I=ne(x,V.j(I)),new re(V,I)}for(V=S;x.l(I)>=0;){for(N=Math.max(1,Math.floor(x.m()/I.m())),C=Math.ceil(Math.log(N)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),k=p(N),D=k.j(I);K(D)||D.l(x)>0;)N-=C,k=p(N),D=k.j(I);P(k)&&(k=R),V=V.add(k),x=ne(x,D)}return new re(V,x)}r.B=function(x){return ve(this,x).h},r.and=function(x){const I=Math.max(this.g.length,x.g.length),N=[];for(let C=0;C<I;C++)N[C]=this.i(C)&x.i(C);return new f(N,this.h&x.h)},r.or=function(x){const I=Math.max(this.g.length,x.g.length),N=[];for(let C=0;C<I;C++)N[C]=this.i(C)|x.i(C);return new f(N,this.h|x.h)},r.xor=function(x){const I=Math.max(this.g.length,x.g.length),N=[];for(let C=0;C<I;C++)N[C]=this.i(C)^x.i(C);return new f(N,this.h^x.h)};function Se(x){const I=x.g.length+1,N=[];for(let C=0;C<I;C++)N[C]=x.i(C)<<1|x.i(C-1)>>>31;return new f(N,x.h)}function Re(x,I){const N=I>>5;I%=32;const C=x.g.length-N,V=[];for(let k=0;k<C;k++)V[k]=I>0?x.i(k+N)>>>I|x.i(k+N+1)<<32-I:x.i(k+N);return new f(V,x.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,nE=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=T,oa=f}).apply(typeof c0<"u"?c0:typeof self<"u"?self:typeof window<"u"?window:{});var ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var iE,Xl,rE,_h,Xm,aE,sE,oE;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ch=="object"&&ch];for(var v=0;v<c.length;++v){var E=c[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var a=n(this);function o(c,v){if(v)e:{var E=a;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in E))break e;E=E[U]}c=c[c.length-1],A=E[c],v=v(A),v!=A&&v!=null&&e(E,c,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(v){var E=[],A;for(A in v)Object.prototype.hasOwnProperty.call(v,A)&&E.push([A,v[A]]);return E}});var u=u||{},f=this||self;function m(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function g(c,v,E){return c.call.apply(c.bind,arguments)}function p(c,v,E){return p=g,p.apply(null,arguments)}function T(c,v){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,v){function E(){}E.prototype=v.prototype,c.Z=v.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(A,U,G){for(var se=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)se[Ce-2]=arguments[Ce];return v.prototype[U].apply(A,se)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function w(c){const v=c.length;if(v>0){const E=Array(v);for(let A=0;A<v;A++)E[A]=c[A];return E}return[]}function P(c,v){for(let A=1;A<arguments.length;A++){const U=arguments[A];var E=typeof U;if(E=E!="object"?E:U?Array.isArray(U)?"array":E:"null",E=="array"||E=="object"&&typeof U.length=="number"){E=c.length||0;const G=U.length||0;c.length=E+G;for(let se=0;se<G;se++)c[E+se]=U[se]}else c.push(U)}}class K{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function F(c){f.setTimeout(()=>{throw c},0)}function ne(){var c=x;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class ie{constructor(){this.h=this.g=null}add(v,E){const A=re.get();A.set(v,E),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new K(()=>new ve,c=>c.reset());class ve{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,Re=!1,x=new ie,I=()=>{const c=Promise.resolve(void 0);Se=()=>{c.then(N)}};function N(){for(var c;c=ne();){try{c.h.call(c.g)}catch(E){F(E)}var v=re;v.j(c),v.h<100&&(v.h++,c.next=v.g,v.g=c)}Re=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};f.addEventListener("test",E,v),f.removeEventListener("test",E,v)}catch{}return c})();function D(c){return/^[\s\xa0]*$/.test(c)}function nt(c,v){V.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,v)}S(nt,V),nt.prototype.init=function(c,v){const E=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget,v||(E=="mouseover"?v=c.fromElement:E=="mouseout"&&(v=c.toElement)),this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&nt.Z.h.call(this)},nt.prototype.h=function(){nt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var dt="closure_listenable_"+(Math.random()*1e6|0),Y=0;function ae(c,v,E,A,U){this.listener=c,this.proxy=null,this.src=v,this.type=E,this.capture=!!A,this.ha=U,this.key=++Y,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ee(c,v,E){for(const A in c)v.call(E,c[A],A,c)}function fe(c,v){for(const E in c)v.call(void 0,c[E],E,c)}function M(c){const v={};for(const E in c)v[E]=c[E];return v}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,v){let E,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(E in A)c[E]=A[E];for(let G=0;G<Z.length;G++)E=Z[G],Object.prototype.hasOwnProperty.call(A,E)&&(c[E]=A[E])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,v,E,A,U){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const se=Ne(c,v,A,U);return se>-1?(v=c[se],E||(v.fa=!1)):(v=new ae(v,this.src,G,!!A,U),v.fa=E,c.push(v)),v};function Te(c,v){const E=v.type;if(E in c.g){var A=c.g[E],U=Array.prototype.indexOf.call(A,v,void 0),G;(G=U>=0)&&Array.prototype.splice.call(A,U,1),G&&(me(v),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Ne(c,v,E,A){for(let U=0;U<c.length;++U){const G=c[U];if(!G.da&&G.listener==v&&G.capture==!!E&&G.ha==A)return U}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Ot={};function st(c,v,E,A,U){if(Array.isArray(v)){for(let G=0;G<v.length;G++)st(c,v[G],E,A,U);return null}return E=Uo(E),c&&c[dt]?c.J(v,E,m(A)?!!A.capture:!1,U):_a(c,v,E,!1,A,U)}function _a(c,v,E,A,U,G){if(!v)throw Error("Invalid event type");const se=m(U)?!!U.capture:!!U;let Ce=Ea(c);if(Ce||(c[Ue]=Ce=new ce(c)),E=Ce.add(v,E,A,se,G),E.proxy)return E;if(A=ms(),E.proxy=A,A.src=c,A.listener=E,c.addEventListener)k||(U=se),U===void 0&&(U=!1),c.addEventListener(v.toString(),A,U);else if(c.attachEvent)c.attachEvent(oi(v.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ms(){function c(E){return v.call(c.src,c.listener,E)}const v=Lo;return c}function ps(c,v,E,A,U){if(Array.isArray(v))for(var G=0;G<v.length;G++)ps(c,v[G],E,A,U);else A=m(A)?!!A.capture:!!A,E=Uo(E),c&&c[dt]?(c=c.i,G=String(v).toString(),G in c.g&&(v=c.g[G],E=Ne(v,E,A,U),E>-1&&(me(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete c.g[G],c.h--)))):c&&(c=Ea(c))&&(v=c.g[v.toString()],c=-1,v&&(c=Ne(v,E,A,U)),(E=c>-1?v[c]:null)&&gs(E))}function gs(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[dt])Te(v.i,c);else{var E=c.type,A=c.proxy;v.removeEventListener?v.removeEventListener(E,A,c.capture):v.detachEvent?v.detachEvent(oi(E),A):v.addListener&&v.removeListener&&v.removeListener(A),(E=Ea(v))?(Te(E,c),E.h==0&&(E.src=null,v[Ue]=null)):me(c)}}}function oi(c){return c in Ot?Ot[c]:Ot[c]="on"+c}function Lo(c,v){if(c.da)c=!0;else{v=new nt(v,this);const E=c.listener,A=c.ha||c.src;c.fa&&gs(c),c=E.call(A,v)}return c}function Ea(c){return c=c[Ue],c instanceof ce?c:null}var ko="__closure_events_fn_"+(Math.random()*1e9>>>0);function Uo(c){return typeof c=="function"?c:(c[ko]||(c[ko]=function(v){return c.handleEvent(v)}),c[ko])}function Et(){C.call(this),this.i=new ce(this),this.M=this,this.G=null}S(Et,C),Et.prototype[dt]=!0,Et.prototype.removeEventListener=function(c,v,E,A){ps(this,c,v,E,A)};function Mt(c,v){var E,A=c.G;if(A)for(E=[];A;A=A.G)E.push(A);if(c=c.M,A=v.type||v,typeof v=="string")v=new V(v,c);else if(v instanceof V)v.target=v.target||c;else{var U=v;v=new V(A,c),oe(v,U)}U=!0;let G,se;if(E)for(se=E.length-1;se>=0;se--)G=v.g=E[se],U=vr(G,A,!0,v)&&U;if(G=v.g=c,U=vr(G,A,!0,v)&&U,U=vr(G,A,!1,v)&&U,E)for(se=0;se<E.length;se++)G=v.g=E[se],U=vr(G,A,!1,v)&&U}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const v in c.g){const E=c.g[v];for(let A=0;A<E.length;A++)me(E[A]);delete c.g[v],c.h--}}this.G=null},Et.prototype.J=function(c,v,E,A){return this.i.add(String(c),v,!1,E,A)},Et.prototype.K=function(c,v,E,A){return this.i.add(String(c),v,!0,E,A)};function vr(c,v,E,A){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();let U=!0;for(let G=0;G<v.length;++G){const se=v[G];if(se&&!se.da&&se.capture==E){const Ce=se.listener,pt=se.ha||se.src;se.fa&&Te(c.i,se),U=Ce.call(pt,A)!==!1&&U}}return U&&!A.defaultPrevented}function Rf(c,v){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:f.setTimeout(c,v||0)}function ju(c){c.g=Rf(()=>{c.g=null,c.i&&(c.i=!1,ju(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class tn extends C{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ju(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ta(c){C.call(this),this.h=c,this.g={}}S(Ta,C);var zo=[];function Bo(c){ee(c.g,function(v,E){this.g.hasOwnProperty(E)&&gs(v)},c),c.g={}}Ta.prototype.N=function(){Ta.Z.N.call(this),Bo(this)},Ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _r=f.JSON.stringify,Cf=f.JSON.parse,Pu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Lu(){}function ku(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){V.call(this,"d")}S(Bt,V);function An(){V.call(this,"c")}S(An,V);var mt={},Uu=null;function ys(){return Uu=Uu||new Et}mt.Ia="serverreachability";function zu(c){V.call(this,mt.Ia,c)}S(zu,V);function li(c){const v=ys();Mt(v,new zu(v))}mt.STAT_EVENT="statevent";function Sa(c,v){V.call(this,mt.STAT_EVENT,c),this.stat=v}S(Sa,V);function Tt(c){const v=ys();Mt(v,new Sa(v,c))}mt.Ja="timingevent";function ui(c,v){V.call(this,mt.Ja,c),this.size=v}S(ui,V);function ci(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},v)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function If(c,v,E,A,U,G){c.info(function(){if(c.g)if(G){var se="",Ce=G.split("&");for(let Fe=0;Fe<Ce.length;Fe++){var pt=Ce[Fe].split("=");if(pt.length>1){const ot=pt[0];pt=pt[1];const In=ot.split("_");se=In.length>=2&&In[1]=="type"?se+(ot+"="+pt+"&"):se+(ot+"=redacted&")}}}else se=null;else se=G;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+v+`
`+E+`
`+se})}function Bu(c,v,E,A,U,G,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+v+`
`+E+`
`+G+" "+se})}function hi(c,v,E,A){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+Nf(c,E)+(A?" "+A:"")})}function ba(c,v){c.info(function(){return"TIMEOUT: "+v})}Hn.prototype.info=function(){};function Nf(c,v){if(!c.g)return v;if(!v)return null;try{const G=JSON.parse(v);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var E=G[c];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let se=1;se<A.length;se++)A[se]=""}}}}return _r(G)}catch{return v}}var Aa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ho={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qo;function wa(){}S(wa,Lu),wa.prototype.g=function(){return new XMLHttpRequest},qo=new wa;function Ui(c){return encodeURIComponent(String(c))}function Hu(c){var v=1;c=c.split(":");const E=[];for(;v>0&&c.length;)E.push(c.shift()),v--;return c.length&&E.push(c.join(":")),E}function qn(c,v,E,A){this.j=c,this.i=v,this.l=E,this.S=A||1,this.V=new Ta(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var St={},Pt={};function fi(c,v,E){c.M=1,c.A=Ra(At(v)),c.u=E,c.R=!0,vs(c,null)}function vs(c,v){c.F=Date.now(),di(c),c.B=At(c.A);var E=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Ss(E.i,"t",A),c.C=0,E=c.j.L,c.h=new Fn,c.g=ic(c.j,E?v:null,!c.u),c.P>0&&(c.O=new tn(p(c.Y,c,c.g),c.P)),v=c.V,E=c.g,A=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(zo[0]=U.toString()),U=zo);for(let G=0;G<U.length;G++){const se=st(E,U[G],A||v.handleEvent,!1,v.h||v);if(!se)break;v.g[se.key]=se}v=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,v)):(c.v="GET",c.g.ea(c.B,c.v,null,v)),li(),If(c.i,c.v,c.B,c.l,c.S,c.u)}qn.prototype.ba=function(c){c=c.target;const v=this.O;v&&Kn(c)==3?v.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=Kn(this.g),pt=this.g.ya(),Fe=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||Ce!=4||pt==7||(pt==8||Fe<=0?li(3):li(2)),mi(this);var v=this.g.ca();this.X=v;var E=xf(this);if(this.o=v==200,Bu(this.i,this.v,this.B,this.l,this.S,Ce,v),this.o){if(this.U&&!this.L){t:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var G=A;break t}}G=null}if(c=G)hi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,c);else{this.o=!1,this.m=3,Tt(12),mn(this),wn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<E.length;)if(ot=Fu(this,E),ot==Pt){Ce==4&&(this.m=4,Tt(14),c=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==St){this.m=4,Tt(15),hi(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else hi(this.i,this.l,ot,null),pi(this,ot);if(qu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||E.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)hi(this.i,this.l,E,"[Invalid Chunked Response]"),mn(this),wn(this);else if(E.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),rl(se),se.P=!0,Tt(11))}}else hi(this.i,this.l,E,null),pi(this,E);Ce==4&&mn(this),this.o&&!this.K&&(Ce==4?Wu(this.j,this):(this.o=!1,di(this)))}else Bi(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),mn(this),wn(this)}}}catch{}finally{}};function xf(c){if(!qu(c))return c.g.la();const v=Ht(c.g);if(v==="")return"";let E="";const A=v.length,U=Kn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return mn(c),wn(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<A;G++)c.h.h=!0,E+=c.h.i.decode(v[G],{stream:!(U&&G==A-1)});return v.length=0,c.h.g+=E,c.C=0,c.h.g}function qu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Fu(c,v){var E=c.C,A=v.indexOf(`
`,E);return A==-1?Pt:(E=Number(v.substring(E,A)),isNaN(E)?St:(A+=1,A+E>v.length?Pt:(v=v.slice(A,A+E),c.C=A+E,v)))}qn.prototype.cancel=function(){this.K=!0,mn(this)};function di(c){c.T=Date.now()+c.H,_s(c,c.H)}function _s(c,v){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ci(p(c.aa,c),v)}function mi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ba(this.i,this.B),this.M!=2&&(li(),Tt(17)),mn(this),this.m=2,wn(this)):_s(this,this.T-c)};function wn(c){c.j.I==0||c.K||Wu(c.j,c)}function mn(c){mi(c);var v=c.O;v&&typeof v.dispose=="function"&&v.dispose(),c.O=null,Bo(c.V),c.g&&(v=c.g,c.g=null,v.abort(),v.dispose())}function pi(c,v){try{var E=c.j;if(E.I!=0&&(E.g==c||yi(E.h,c))){if(!c.L&&yi(E.h,c)&&E.I==3){try{var A=E.Ba.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Cs(E),Cr(E);else break e;Ma(E),Tt(18)}}else E.xa=U[1],0<E.xa-E.K&&U[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=ci(p(E.Va,E),6e3));gi(E.h)<=1&&E.ta&&(E.ta=void 0)}else bi(E,11)}else if((c.L||E.g==c)&&Cs(E),!D(v))for(U=E.Ba.g.parse(v),v=0;v<U.length;v++){let Fe=U[v];const ot=Fe[0];if(!(ot<=E.K))if(E.K=ot,Fe=Fe[1],E.I==2)if(Fe[0]=="c"){E.M=Fe[1],E.ba=Fe[2];const In=Fe[3];In!=null&&(E.ka=In,E.j.info("VER="+E.ka));const Ai=Fe[4];Ai!=null&&(E.za=Ai,E.j.info("SVER="+E.za));const Yn=Fe[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(A=1.5*Yn,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Xn=c.g;if(Xn){const Va=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Va){var G=A.h;G.g||Va.indexOf("spdy")==-1&&Va.indexOf("quic")==-1&&Va.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Qo(G,G.h),G.h=null))}if(A.G){const Is=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Is&&(A.wa=Is,Ye(A.J,A.G,Is))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var se=c;if(A.na=nc(A,A.L?A.ba:null,A.W),se.L){Ko(A.h,se);var Ce=se,pt=A.O;pt&&(Ce.H=pt),Ce.D&&(mi(Ce),di(Ce)),A.g=se}else Ju(A);E.i.length>0&&Si(E)}else Fe[0]!="stop"&&Fe[0]!="close"||bi(E,7);else E.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?bi(E,7):nl(E):Fe[0]!="noop"&&E.l&&E.l.qa(Fe),E.A=0)}}li(4)}catch{}}var bt=class{constructor(c,v){this.g=c,this.map=v}};function Fo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Go(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gi(c){return c.h?1:c.g?c.g.size:0}function yi(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function Qo(c,v){c.g?c.g.add(v):c.h=v}function Ko(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}Fo.prototype.cancel=function(){if(this.i=Yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Yo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const E of c.g.values())v=v.concat(E.G);return v}return w(c.i)}var Gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Es(c,v){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const A=c[E].indexOf("=");let U,G=null;A>=0?(U=c[E].substring(0,A),G=c[E].substring(A+1)):U=c[E],v(U,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function pn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;c instanceof pn?(this.l=c.l,Lt(this,c.j),this.o=c.o,this.g=c.g,Er(this,c.u),this.h=c.h,Xo(this,Xu(c.i)),this.m=c.m):c&&(v=String(c).match(Gu))?(this.l=!1,Lt(this,v[1]||"",!0),this.o=vi(v[2]||""),this.g=vi(v[3]||"",!0),Er(this,v[4]),this.h=vi(v[5]||"",!0),Xo(this,v[6]||"",!0),this.m=vi(v[7]||"")):(this.l=!1,this.i=new Sr(null,this.l))}pn.prototype.toString=function(){const c=[];var v=this.j;v&&c.push(Ca(v,Ts,!0),":");var E=this.g;return(E||v=="file")&&(c.push("//"),(v=this.o)&&c.push(Ca(v,Ts,!0),"@"),c.push(Ui(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Ca(E,E.charAt(0)=="/"?$o:Qu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Ca(E,Ku)),c.join("")},pn.prototype.resolve=function(c){const v=At(this);let E=!!c.j;E?Lt(v,c.j):E=!!c.o,E?v.o=c.o:E=!!c.g,E?v.g=c.g:E=c.u!=null;var A=c.h;if(E)Er(v,c.u);else if(E=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=v.h.lastIndexOf("/");U!=-1&&(A=v.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const G=[];for(let se=0;se<U.length;){const Ce=U[se++];Ce=="."?A&&se==U.length&&G.push(""):Ce==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),A&&se==U.length&&G.push("")):(G.push(Ce),A=!0)}A=G.join("/")}else A=U}return E?v.h=A:E=c.i.toString()!=="",E?Xo(v,Xu(c.i)):E=!!c.m,E&&(v.m=c.m),v};function At(c){return new pn(c)}function Lt(c,v,E){c.j=E?vi(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function Er(c,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);c.u=v}else c.u=null}function Xo(c,v,E){v instanceof Sr?(c.i=v,bs(c.i,c.l)):(E||(v=Ca(v,Tr)),c.i=new Sr(v,c.l))}function Ye(c,v,E){c.i.set(v,E)}function Ra(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function vi(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ca(c,v,E){return typeof c=="string"?(c=encodeURI(c).replace(v,an),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ts=/[#\/\?@]/g,Qu=/[#\?:]/g,$o=/[#\?]/g,Tr=/[#\?@]/g,Ku=/#/g;function Sr(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&Es(c.i,function(v,E){c.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}r=Sr.prototype,r.add=function(c,v){sn(this),this.i=null,c=br(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(v),this.h+=1,this};function Yu(c,v){sn(c),v=br(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function Jo(c,v){return sn(c),v=br(c,v),c.g.has(v)}r.forEach=function(c,v){sn(this),this.g.forEach(function(E,A){E.forEach(function(U){c.call(v,U,A,this)},this)},this)};function Zo(c,v){sn(c);let E=[];if(typeof v=="string")Jo(c,v)&&(E=E.concat(c.g.get(br(c,v))));else for(c=Array.from(c.g.values()),v=0;v<c.length;v++)E=E.concat(c[v]);return E}r.set=function(c,v){return sn(this),this.i=null,c=br(this,c),Jo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},r.get=function(c,v){return c?(c=Zo(this,c),c.length>0?String(c[0]):v):v};function Ss(c,v,E){Yu(c,v),E.length>0&&(c.i=null,c.g.set(br(c,v),w(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(let A=0;A<v.length;A++){var E=v[A];const U=Ui(E);E=Zo(this,E);for(let G=0;G<E.length;G++){let se=U;E[G]!==""&&(se+="="+Ui(E[G])),c.push(se)}}return this.i=c.join("&")};function Xu(c){const v=new Sr;return v.i=c.i,c.g&&(v.g=new Map(c.g),v.h=c.h),v}function br(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function bs(c,v){v&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(E,A){const U=A.toLowerCase();A!=U&&(Yu(this,A),Ss(this,U,E))},c)),c.j=v}function Gn(c,v){const E=new Hn;if(f.Image){const A=new Image;A.onload=T(Rn,E,"TestLoadImage: loaded",!0,v,A),A.onerror=T(Rn,E,"TestLoadImage: error",!1,v,A),A.onabort=T(Rn,E,"TestLoadImage: abort",!1,v,A),A.ontimeout=T(Rn,E,"TestLoadImage: timeout",!1,v,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else v(!1)}function Wo(c,v){const E=new Hn,A=new AbortController,U=setTimeout(()=>{A.abort(),Rn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(U),G.ok?Rn(E,"TestPingServer: ok",!0,v):Rn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(U),Rn(E,"TestPingServer: error",!1,v)})}function Rn(c,v,E,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(E)}catch{}}function Ar(){this.g=new Pu}function _i(c){this.i=c.Sb||null,this.h=c.ab||!1}S(_i,Lu),_i.prototype.g=function(){return new Ia(this.i,this.h)};function Ia(c,v){Et.call(this),this.H=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Ia,Et),r=Ia.prototype,r.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=v,this.readyState=1,Qn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(v.body=c),(this.H||f).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;As(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function As(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?wr(this):Qn(this),this.readyState==3&&As(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,wr(this))},r.Na=function(c){this.g&&(this.response=c,wr(this))},r.ga=function(){this.g&&wr(this)};function wr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}r.setRequestHeader=function(c,v){this.A.append(c,v)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=v.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ia.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cn(c){let v="";return ee(c,function(E,A){v+=A,v+=":",v+=E,v+=`\r
`}),v}function Na(c,v,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=Cn(E),typeof c=="string"?E!=null&&Ui(E):Ye(c,v,E))}function Je(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Je,Et);var Ei=/^https?$/i,el=["POST","PUT"];r=Je.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,v,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qo.g(),this.g.onreadystatechange=R(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(G){xa(this,G);return}if(c=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)E.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())E.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(G=>G.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(el,v,void 0)>=0)||A||U||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of E)this.g.setRequestHeader(G,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){xa(this,G)}};function xa(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.o=5,tl(c),zi(c)}function tl(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),zi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),Je.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Da(this):this.Xa())},r.Xa=function(){Da(this)};function Da(c){if(c.h&&typeof u<"u"){if(c.v&&Kn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),Kn(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var A;if(A=G===0){let se=String(c.D).match(Gu)[1]||null;!se&&f.self&&f.self.location&&(se=f.self.location.protocol.slice(0,-1)),A=!Ei.test(se?se.toLowerCase():"")}E=A}if(E)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var U=Kn(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",tl(c)}}finally{zi(c)}}}}function zi(c,v){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,v||Mt(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),Cf(v)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(c){const v={};c=(c.g&&Kn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(D(c[A]))continue;var E=Hu(c[A]);const U=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const G=v[U]||[];v[U]=G,G.push(E)}fe(v,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(c,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||v}function Rr(c){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,c),this.Za=Ti("retryDelaySeedMs",1e4,c),this.Ta=Ti("forwardChannelMaxRetries",2,c),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Fo(c&&c.concurrentRequestLimit),this.Ba=new Ar,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Rr.prototype,r.ka=8,r.I=1,r.connect=function(c,v,E,A){Tt(0),this.W=c,this.H=v||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=nc(this,null,this.W),Si(this)};function nl(c){if(ws(c),c.I==3){var v=c.V++,E=At(c.J);if(Ye(E,"SID",c.M),Ye(E,"RID",v),Ye(E,"TYPE","terminate"),Oa(c,E),v=new qn(c,c.j,v),v.M=2,v.A=Ra(At(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&f.Image&&(new Image().src=v.A,E=!0),E||(v.g=ic(v.j,null),v.g.ea(v.A)),v.F=Date.now(),di(v)}tc(c)}function Cr(c){c.g&&(rl(c),c.g.cancel(),c.g=null)}function ws(c){Cr(c),c.v&&(f.clearTimeout(c.v),c.v=null),Cs(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Si(c){if(!Go(c.h)&&!c.m){c.m=!0;var v=c.Ea;Se||I(),Re||(Se(),Re=!0),x.add(v,c),c.D=0}}function Rs(c,v){return gi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=v.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ci(p(c.Ea,c,v),ec(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new qn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=M(G),oe(G,this.U)):G=this.U),this.u!==null||this.R||(U.J=G,G=null),this.S)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,v>4096){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=$u(this,U,v),E=At(this.J),Ye(E,"RID",c),Ye(E,"CVER",22),this.G&&Ye(E,"X-HTTP-Session-Id",this.G),Oa(this,E),G&&(this.R?v="headers="+Ui(Cn(G))+"&"+v:this.u&&Na(E,this.u,G)),Qo(this.h,U),this.Ra&&Ye(E,"TYPE","init"),this.S?(Ye(E,"$req",v),Ye(E,"SID","null"),U.U=!0,fi(U,E,null)):fi(U,E,v),this.I=2}}else this.I==3&&(c?il(this,c):this.i.length==0||Go(this.h)||il(this))};function il(c,v){var E;v?E=v.l:E=c.V++;const A=At(c.J);Ye(A,"SID",c.M),Ye(A,"RID",E),Ye(A,"AID",c.K),Oa(c,A),c.u&&c.o&&Na(A,c.u,c.o),E=new qn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),v&&(c.i=v.G.concat(c.i)),v=$u(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Qo(c.h,E),fi(E,A,v)}function Oa(c,v){c.H&&ee(c.H,function(E,A){Ye(v,A,E)}),c.l&&ee({},function(E,A){Ye(v,A,E)})}function $u(c,v,E){E=Math.min(c.i.length,E);const A=c.l?p(c.l.Ka,c.l,c):null;e:{var U=c.i;let Ce=-1;for(;;){const pt=["count="+E];Ce==-1?E>0?(Ce=U[0].g,pt.push("ofs="+Ce)):Ce=0:pt.push("ofs="+Ce);let Fe=!0;for(let ot=0;ot<E;ot++){var G=U[ot].g;const In=U[ot].map;if(G-=Ce,G<0)Ce=Math.max(0,U[ot].g-100),Fe=!1;else try{G="req"+G+"_"||"";try{var se=In instanceof Map?In:Object.entries(In);for(const[Ai,Yn]of se){let Xn=Yn;m(Yn)&&(Xn=_r(Yn)),pt.push(G+Ai+"="+encodeURIComponent(Xn))}}catch(Ai){throw pt.push(G+"type="+encodeURIComponent("_badmap")),Ai}}catch{A&&A(In)}}if(Fe){se=pt.join("&");break e}}se=void 0}return c=c.i.splice(0,E),v.G=c,se}function Ju(c){if(!c.g&&!c.v){c.Y=1;var v=c.Da;Se||I(),Re||(Se(),Re=!0),x.add(v,c),c.A=0}}function Ma(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ci(p(c.Da,c),ec(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Zu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ci(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Cr(this),Zu(this))};function rl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Zu(c){c.g=new qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var v=At(c.na);Ye(v,"RID","rpc"),Ye(v,"SID",c.M),Ye(v,"AID",c.K),Ye(v,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(v,"TO",c.ia),Ye(v,"TYPE","xmlhttp"),Oa(c,v),c.u&&c.o&&Na(v,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Ra(At(v)),E.u=null,E.R=!0,vs(E,c)}r.Va=function(){this.C!=null&&(this.C=null,Cr(this),Ma(this),Tt(19))};function Cs(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Wu(c,v){var E=null;if(c.g==v){Cs(c),rl(c),c.g=null;var A=2}else if(yi(c.h,v))E=v.G,Ko(c.h,v),A=1;else return;if(c.I!=0){if(v.o)if(A==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var U=c.D;A=ys(),Mt(A,new ui(A,E)),Si(c)}else Ju(c);else if(U=v.m,U==3||U==0&&v.X>0||!(A==1&&Rs(c,v)||A==2&&Ma(c)))switch(E&&E.length>0&&(v=c.h,v.i=v.i.concat(E)),U){case 1:bi(c,5);break;case 4:bi(c,10);break;case 3:bi(c,6);break;default:bi(c,2)}}}function ec(c,v){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*v}function bi(c,v){if(c.j.info("Error code "+v),v==2){var E=p(c.bb,c),A=c.Ua;const U=!A;A=new pn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Lt(A,"https"),Ra(A),U?Gn(A.toString(),E):Wo(A.toString(),E)}else Tt(2);c.I=0,c.l&&c.l.pa(v),tc(c),ws(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function tc(c){if(c.I=0,c.ja=[],c.l){const v=Yo(c.h);(v.length!=0||c.i.length!=0)&&(P(c.ja,v),P(c.ja,c.i),c.h.i.length=0,w(c.i),c.i.length=0),c.l.oa()}}function nc(c,v,E){var A=E instanceof pn?At(E):new pn(E);if(A.g!="")v&&(A.g=v+"."+A.g),Er(A,A.u);else{var U=f.location;A=U.protocol,v=v?v+"."+U.hostname:U.hostname,U=+U.port;const G=new pn(null);A&&Lt(G,A),v&&(G.g=v),U&&Er(G,U),E&&(G.h=E),A=G}return E=c.G,v=c.wa,E&&v&&Ye(A,E,v),Ye(A,"VER",c.ka),Oa(c,A),A}function ic(c,v,E){if(v&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Aa&&!c.ma?new Je(new _i({ab:E})):new Je(c.ma),v.Fa(c.L),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function rc(){}r=rc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ir(){}Ir.prototype.g=function(c,v){return new nn(c,v)};function nn(c,v){Et.call(this),this.g=new Rr(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(c?c["X-WebChannel-Client-Profile"]=v.sa:c={"X-WebChannel-Client-Profile":v.sa}),this.g.U=c,(c=v&&v.Qb)&&!D(c)&&(this.g.u=c),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!D(v)&&(this.g.G=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new Hi(this)}S(nn,Et),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){nl(this.g)},nn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=_r(c),c=E);v.i.push(new bt(v.Ya++,c)),v.I==3&&Si(v)},nn.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,nn.Z.N.call(this)};function ac(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const E in v){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}S(ac,Bt);function sc(){An.call(this),this.status=1}S(sc,An);function Hi(c){this.g=c}S(Hi,rc),Hi.prototype.ra=function(){Mt(this.g,"a")},Hi.prototype.qa=function(c){Mt(this.g,new ac(c))},Hi.prototype.pa=function(c){Mt(this.g,new sc)},Hi.prototype.oa=function(){Mt(this.g,"b")},Ir.prototype.createWebChannel=Ir.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,oE=function(){return new Ir},sE=function(){return ys()},aE=mt,Xm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Aa.NO_ERROR=0,Aa.TIMEOUT=8,Aa.HTTP_ERROR=6,_h=Aa,Ho.COMPLETE="complete",rE=Ho,ku.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Xl=ku,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,iE=Je}).apply(typeof ch<"u"?ch:typeof self<"u"?self:typeof window<"u"?window:{});const h0="@firebase/firestore",f0="4.9.2";class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let Io="12.3.0";const rs=new wp("@firebase/firestore");function ro(){return rs.logLevel}function ue(r,...e){if(rs.logLevel<=je.DEBUG){const n=e.map(Ip);rs.debug(`Firestore (${Io}): ${r}`,...n)}}function fr(r,...e){if(rs.logLevel<=je.ERROR){const n=e.map(Ip);rs.error(`Firestore (${Io}): ${r}`,...n)}}function Eo(r,...e){if(rs.logLevel<=je.WARN){const n=e.map(Ip);rs.warn(`Firestore (${Io}): ${r}`,...n)}}function Ip(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Ee(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,lE(r,a,n)}function lE(r,e,n){let a=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw fr(a),new Error(a)}function Ke(r,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||lE(e,o,a)}function we(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class uE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class yR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class vR{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let a=this.i;const o=g=>this.i!==a?(a=this.i,n(g)):Promise.resolve();let u=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new lr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new lr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ke(typeof a.accessToken=="string",31837,{l:a}),new uE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class _R{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ER{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new _R(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class d0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const a=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new d0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new d0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function SR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}class Np{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=SR(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Pe(r,e){return r<e?-1:r>e?1:0}function $m(r,e){const n=Math.min(r.length,e.length);for(let a=0;a<n;a++){const o=r.charAt(a),u=e.charAt(a);if(o!==u)return jm(o)===jm(u)?Pe(o,u):jm(o)?1:-1}return Pe(r.length,e.length)}const bR=55296,AR=57343;function jm(r){const e=r.charCodeAt(0);return e>=bR&&e<=AR}function To(r,e,n){return r.length===e.length&&r.every(((a,o)=>n(a,e[o])))}const m0="__name__";class xi{constructor(e,n,a){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Ee(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=xi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Pe(e.length,n.length)}static compareSegments(e,n){const a=xi.isNumericId(e),o=xi.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?xi.extractNumericId(e).compare(xi.extractNumericId(n)):$m(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oa.fromString(e.substring(4,e.length-2))}}class it extends xi{construct(e,n,a){return new it(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new le(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((o=>o.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const wR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends xi{construct(e,n,a){return new Yt(e,n,a)}static isValidIdentifier(e){return wR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===m0}static keyField(){return new Yt([m0])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(u(),o++)}if(u(),f)throw new le(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(it.fromString(e))}static fromName(e){return new ge(it.fromString(e).popFirst(5))}static empty(){return new ge(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new it(e.slice()))}}function cE(r,e,n){if(!n)throw new le(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function RR(r,e,n,a){if(e===!0&&a===!0)throw new le(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function p0(r){if(!ge.isDocumentKey(r))throw new le(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function g0(r){if(ge.isDocumentKey(r))throw new le(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function hE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function ef(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function ii(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ef(r);throw new le(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Dt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Su(r,e){if(!hE(r))throw new le(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const f=r[a];if(o&&typeof f!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new le(J.INVALID_ARGUMENT,n);return!0}const y0=-62135596800,v0=1e6;class Qe{static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*v0);return new Qe(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<y0)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/v0}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Su(e,Qe._jsonSchema))return new Qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-y0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:Dt("string",Qe._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new Qe(0,0))}static max(){return new be(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const uu=-1;function CR(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(a===1e9?new Qe(n+1,0):new Qe(n,a));return new ua(o,ge.empty(),e)}function IR(r){return new ua(r.readTime,r.key,uu)}class ua{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new ua(be.min(),ge.empty(),uu)}static max(){return new ua(be.max(),ge.empty(),uu)}}function NR(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Pe(r.largestBatchId,e.largestBatchId))}const xR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function No(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==xR)throw r;ue("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,a)=>{n(e)}))}static reject(e){return new te(((n,a)=>{a(e)}))}static waitFor(e){return new te(((n,a)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>a(g)))})),f=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const a of e)n=n.next((o=>o?te.resolve(o):a()));return n}static forEach(e,n){const a=[];return e.forEach(((o,u)=>{a.push(n.call(this,o,u))})),this.waitFor(a)}static mapArray(e,n){return new te(((a,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((T=>{f[p]=T,++m,m===u&&a(f)}),(T=>o(T)))}}))}static doWhile(e,n){return new te(((a,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):a()};u()}))}}function OR(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xo(r){return r.name==="IndexedDbTransactionError"}class tf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}tf.ce=-1;const xp=-1;function nf(r){return r==null}function Mh(r){return r===0&&1/r==-1/0}function MR(r){return typeof r=="number"&&Number.isInteger(r)&&!Mh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const fE="";function VR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=_0(e)),e=jR(r.get(n),e);return _0(e)}function jR(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case fE:n+="";break;default:n+=u}}return n}function _0(r){return r+fE+""}function E0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function pa(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function dE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ct{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hh(this.root,e,this.comparator,!0)}}class hh{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new Kt(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new T0(this.data.getIterator())}getIteratorFrom(e){return new T0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class T0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new bn([])}unionWith(e){let n=new jt(Yt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return To(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}class mE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new mE("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const PR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ca(r){if(Ke(!!r,39018),typeof r=="string"){let e=0;const n=PR.exec(r);if(Ke(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:vt(r.seconds),nanos:vt(r.nanos)}}function vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ha(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}const pE="server_timestamp",gE="__type__",yE="__previous_value__",vE="__local_write_time__";function Dp(r){return(r?.mapValue?.fields||{})[gE]?.stringValue===pE}function rf(r){const e=r.mapValue.fields[yE];return Dp(e)?rf(e):e}function cu(r){const e=ca(r.mapValue.fields[vE].timestampValue);return new Qe(e.seconds,e.nanos)}class LR{constructor(e,n,a,o,u,f,m,g,p,T){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=T}}const Vh="(default)";class hu{constructor(e,n){this.projectId=e,this.database=n||Vh}static empty(){return new hu("","")}get isDefaultDatabase(){return this.database===Vh}isEqual(e){return e instanceof hu&&e.projectId===this.projectId&&e.database===this.database}}const _E="__type__",kR="__max__",fh={mapValue:{}},EE="__vector__",jh="value";function fa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Dp(r)?4:zR(r)?9007199254740991:UR(r)?10:11:Ee(28295,{value:r})}function Li(r,e){if(r===e)return!0;const n=fa(r);if(n!==fa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return cu(r).isEqual(cu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ca(o.timestampValue),m=ca(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ha(o.bytesValue).isEqual(ha(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=vt(o.doubleValue),m=vt(u.doubleValue);return f===m?Mh(f)===Mh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return To(r.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(E0(f)!==E0(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Li(f[g],m[g])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function fu(r,e){return(r.values||[]).find((n=>Li(n,e)))!==void 0}function So(r,e){if(r===e)return 0;const n=fa(r),a=fa(e);if(n!==a)return Pe(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=vt(u.integerValue||u.doubleValue),g=vt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return S0(r.timestampValue,e.timestampValue);case 4:return S0(cu(r),cu(e));case 5:return $m(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=ha(u),g=ha(f);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let p=0;p<m.length&&p<g.length;p++){const T=Pe(m[p],g[p]);if(T!==0)return T}return Pe(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Pe(vt(u.latitude),vt(f.latitude));return m!==0?m:Pe(vt(u.longitude),vt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return b0(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},p=m[jh]?.arrayValue,T=g[jh]?.arrayValue,S=Pe(p?.values?.length||0,T?.values?.length||0);return S!==0?S:b0(p,T)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===fh.mapValue&&f===fh.mapValue)return 0;if(u===fh.mapValue)return 1;if(f===fh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=f.fields||{},T=Object.keys(p);g.sort(),T.sort();for(let S=0;S<g.length&&S<T.length;++S){const R=$m(g[S],T[S]);if(R!==0)return R;const w=So(m[g[S]],p[T[S]]);if(w!==0)return w}return Pe(g.length,T.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function S0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const n=ca(r),a=ca(e),o=Pe(n.seconds,a.seconds);return o!==0?o:Pe(n.nanos,a.nanos)}function b0(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=So(n[o],a[o]);if(u)return u}return Pe(n.length,a.length)}function bo(r){return Jm(r)}function Jm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const a=ca(n);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ha(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ge.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Jm(u);return a+"]"})(r.arrayValue):"mapValue"in r?(function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${Jm(n.fields[f])}`;return o+"}"})(r.mapValue):Ee(61005,{value:r})}function Eh(r){switch(fa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rf(r);return e?16+Eh(e):16;case 5:return 2*r.stringValue.length;case 6:return ha(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,u)=>o+Eh(u)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return pa(a.fields,((u,f)=>{o+=u.length+Eh(f)})),o})(r.mapValue);default:throw Ee(13486,{value:r})}}function A0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Zm(r){return!!r&&"integerValue"in r}function Op(r){return!!r&&"arrayValue"in r}function w0(r){return!!r&&"nullValue"in r}function R0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Th(r){return!!r&&"mapValue"in r}function UR(r){return(r?.mapValue?.fields||{})[_E]?.stringValue===EE}function nu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return pa(r.mapValue.fields,((n,a)=>e.mapValue.fields[n]=nu(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nu(r.arrayValue.values[n]);return e}return{...r}}function zR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===kR}class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(n)}setAll(e){let n=Yt.emptyPath(),a={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,a,o),a={},o=[],n=m.popLast()}f?a[m.lastSegment()]=nu(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());Th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];Th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){pa(n,((o,u)=>e[o]=u));for(const o of a)delete e[o]}clone(){return new dn(nu(this.value))}}function TE(r){const e=[];return pa(r.fields,((n,a)=>{const o=new Yt([n]);if(Th(a)){const u=TE(a.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new bn(e)}class Wt{constructor(e,n,a,o,u,f,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,be.min(),be.min(),be.min(),dn.empty(),0)}static newFoundDocument(e,n,a,o){return new Wt(e,1,n,be.min(),a,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,be.min(),be.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,be.min(),be.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ph{constructor(e,n){this.position=e,this.inclusive=n}}function C0(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?a=ge.comparator(ge.fromName(f.referenceValue),n.key):a=So(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function I0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Li(r.position[n],e.position[n]))return!1;return!0}class du{constructor(e,n="asc"){this.field=e,this.dir=n}}function BR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class SE{}class xt extends SE{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new qR(e,n,a):n==="array-contains"?new QR(e,a):n==="in"?new KR(e,a):n==="not-in"?new YR(e,a):n==="array-contains-any"?new XR(e,a):new xt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new FR(e,a):new GR(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(So(n,this.value)):n!==null&&fa(this.value)===fa(n)&&this.matchesComparison(So(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends SE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ri(e,n)}matches(e){return bE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bE(r){return r.op==="and"}function AE(r){return HR(r)&&bE(r)}function HR(r){for(const e of r.filters)if(e instanceof ri)return!1;return!0}function Wm(r){if(r instanceof xt)return r.field.canonicalString()+r.op.toString()+bo(r.value);if(AE(r))return r.filters.map((e=>Wm(e))).join(",");{const e=r.filters.map((n=>Wm(n))).join(",");return`${r.op}(${e})`}}function wE(r,e){return r instanceof xt?(function(a,o){return o instanceof xt&&a.op===o.op&&a.field.isEqual(o.field)&&Li(a.value,o.value)})(r,e):r instanceof ri?(function(a,o){return o instanceof ri&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((u,f,m)=>u&&wE(f,o.filters[m])),!0):!1})(r,e):void Ee(19439)}function RE(r){return r instanceof xt?(function(n){return`${n.field.canonicalString()} ${n.op} ${bo(n.value)}`})(r):r instanceof ri?(function(n){return n.op.toString()+" {"+n.getFilters().map(RE).join(" ,")+"}"})(r):"Filter"}class qR extends xt{constructor(e,n,a){super(e,n,a),this.key=ge.fromName(a.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class FR extends xt{constructor(e,n){super(e,"in",n),this.keys=CE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class GR extends xt{constructor(e,n){super(e,"not-in",n),this.keys=CE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function CE(r,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class QR extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Op(n)&&fu(n.arrayValue,this.value)}}class KR extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fu(this.value.arrayValue,n)}}class YR extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fu(this.value.arrayValue,n)}}class XR extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Op(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>fu(this.value.arrayValue,a)))}}class $R{constructor(e,n=null,a=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function N0(r,e=null,n=[],a=[],o=null,u=null,f=null){return new $R(r,e,n,a,o,u,f)}function Mp(r){const e=we(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>Wm(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),nf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>bo(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>bo(a))).join(",")),e.Te=n}return e.Te}function Vp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!BR(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!wE(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!I0(r.startAt,e.startAt)&&I0(r.endAt,e.endAt)}function ep(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Do{constructor(e,n=null,a=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function JR(r,e,n,a,o,u,f,m){return new Do(r,e,n,a,o,u,f,m)}function jp(r){return new Do(r)}function x0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function IE(r){return r.collectionGroup!==null}function iu(r){const e=we(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new jt(Yt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new du(u,a))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new du(Yt.keyField(),a))}return e.Ie}function Di(r){const e=we(r);return e.Ee||(e.Ee=ZR(e,iu(r))),e.Ee}function ZR(r,e){if(r.limitType==="F")return N0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new du(o.field,u)}));const n=r.endAt?new Ph(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Ph(r.startAt.position,r.startAt.inclusive):null;return N0(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function tp(r,e){const n=r.filters.concat([e]);return new Do(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function np(r,e,n){return new Do(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function af(r,e){return Vp(Di(r),Di(e))&&r.limitType===e.limitType}function NE(r){return`${Mp(Di(r))}|lt:${r.limitType}`}function ao(r){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((o=>RE(o))).join(", ")}]`),nf(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((o=>bo(o))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((o=>bo(o))).join(",")),`Target(${a})`})(Di(r))}; limitType=${r.limitType})`}function sf(r,e){return e.isFoundDocument()&&(function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):ge.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(r,e)&&(function(a,o){for(const u of iu(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(f,m,g){const p=C0(f,m,g);return f.inclusive?p<=0:p<0})(a.startAt,iu(a),o)||a.endAt&&!(function(f,m,g){const p=C0(f,m,g);return f.inclusive?p>=0:p>0})(a.endAt,iu(a),o))})(r,e)}function WR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function xE(r){return(e,n)=>{let a=!1;for(const o of iu(r)){const u=e2(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function e2(r,e,n){const a=r.field.isKeyField()?ge.comparator(e.key,n.key):(function(u,f,m){const g=f.data.field(u),p=m.data.field(u);return g!==null&&p!==null?So(g,p):Ee(42886)})(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ee(19790,{direction:r.dir})}}class ls{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){pa(this.inner,((n,a)=>{for(const[o,u]of a)e(o,u)}))}isEmpty(){return dE(this.inner)}size(){return this.innerSize}}const t2=new ct(ge.comparator);function dr(){return t2}const DE=new ct(ge.comparator);function $l(...r){let e=DE;for(const n of r)e=e.insert(n.key,n);return e}function OE(r){let e=DE;return r.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function Ja(){return ru()}function ME(){return ru()}function ru(){return new ls((r=>r.toString()),((r,e)=>r.isEqual(e)))}const n2=new ct(ge.comparator),i2=new jt(ge.comparator);function Le(...r){let e=i2;for(const n of r)e=e.add(n);return e}const r2=new jt(Pe);function a2(){return r2}function Pp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(e)?"-0":e}}function VE(r){return{integerValue:""+r}}function s2(r,e){return MR(e)?VE(e):Pp(r,e)}class of{constructor(){this._=void 0}}function o2(r,e,n){return r instanceof Lh?(function(o,u){const f={fields:{[gE]:{stringValue:pE},[vE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Dp(u)&&(u=rf(u)),u&&(f.fields[yE]=u),{mapValue:f}})(n,e):r instanceof mu?PE(r,e):r instanceof pu?LE(r,e):(function(o,u){const f=jE(o,u),m=D0(f)+D0(o.Ae);return Zm(f)&&Zm(o.Ae)?VE(m):Pp(o.serializer,m)})(r,e)}function l2(r,e,n){return r instanceof mu?PE(r,e):r instanceof pu?LE(r,e):n}function jE(r,e){return r instanceof kh?(function(a){return Zm(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class Lh extends of{}class mu extends of{constructor(e){super(),this.elements=e}}function PE(r,e){const n=kE(e);for(const a of r.elements)n.some((o=>Li(o,a)))||n.push(a);return{arrayValue:{values:n}}}class pu extends of{constructor(e){super(),this.elements=e}}function LE(r,e){let n=kE(e);for(const a of r.elements)n=n.filter((o=>!Li(o,a)));return{arrayValue:{values:n}}}class kh extends of{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function D0(r){return vt(r.integerValue||r.doubleValue)}function kE(r){return Op(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function u2(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof mu&&o instanceof mu||a instanceof pu&&o instanceof pu?To(a.elements,o.elements,Li):a instanceof kh&&o instanceof kh?Li(a.Ae,o.Ae):a instanceof Lh&&o instanceof Lh})(r.transform,e.transform)}class c2{constructor(e,n){this.version=e,this.transformResults=n}}class Un{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Un}static exists(e){return new Un(void 0,e)}static updateTime(e){return new Un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class lf{}function UE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Lp(r.key,Un.none()):new bu(r.key,r.data,Un.none());{const n=r.data,a=dn.empty();let o=new jt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new ga(r.key,a,new bn(o.toArray()),Un.none())}}function h2(r,e,n){r instanceof bu?(function(o,u,f){const m=o.value.clone(),g=M0(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof ga?(function(o,u,f){if(!Sh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=M0(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(zE(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function au(r,e,n,a){return r instanceof bu?(function(u,f,m,g){if(!Sh(u.precondition,f))return m;const p=u.value.clone(),T=V0(u.fieldTransforms,g,f);return p.setAll(T),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null})(r,e,n,a):r instanceof ga?(function(u,f,m,g){if(!Sh(u.precondition,f))return m;const p=V0(u.fieldTransforms,g,f),T=f.data;return T.setAll(zE(u)),T.setAll(p),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,e,n,a):(function(u,f,m){return Sh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function f2(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=jE(a.transform,o||null);u!=null&&(n===null&&(n=dn.empty()),n.set(a.field,u))}return n||null}function O0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&To(a,o,((u,f)=>u2(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class bu extends lf{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ga extends lf{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function zE(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}})),e}function M0(r,e,n){const a=new Map;Ke(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);a.set(u.field,l2(f,m,n[o]))}return a}function V0(r,e,n){const a=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);a.set(o.field,o2(u,f,e))}return a}class Lp extends lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class d2 extends lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class m2{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&h2(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=au(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=au(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=ME();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=UE(f,m);g!==null&&a.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(be.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&To(this.mutations,e.mutations,((n,a)=>O0(n,a)))&&To(this.baseMutations,e.baseMutations,((n,a)=>O0(n,a)))}}class kp{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){Ke(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return n2})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new kp(e,n,a,o)}}class p2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class g2{constructor(e,n){this.count=e,this.unchangedNames=n}}var Nt,ze;function y2(r){switch(r){case J.OK:return Ee(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function BE(r){if(r===void 0)return fr("GRPC error has no .code"),J.UNKNOWN;switch(r){case Nt.OK:return J.OK;case Nt.CANCELLED:return J.CANCELLED;case Nt.UNKNOWN:return J.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return J.INTERNAL;case Nt.UNAVAILABLE:return J.UNAVAILABLE;case Nt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Nt.NOT_FOUND:return J.NOT_FOUND;case Nt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Nt.ABORTED:return J.ABORTED;case Nt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Nt.DATA_LOSS:return J.DATA_LOSS;default:return Ee(39323,{code:r})}}(ze=Nt||(Nt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function v2(){return new TextEncoder}const _2=new oa([4294967295,4294967295],0);function j0(r){const e=v2().encode(r),n=new nE;return n.update(e),new Uint8Array(n.digest())}function P0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new oa([n,a],0),new oa([o,u],0)]}class Up{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Jl(`Invalid padding: ${n}`);if(a<0)throw new Jl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=oa.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(oa.fromNumber(a)));return o.compare(_2)===1&&(o=new oa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=j0(e),[a,o]=P0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,o,u);if(!this.we(f))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Up(u,o,n);return a.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=j0(e),[a,o]=P0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class uf{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,Au.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new uf(be.min(),o,new ct(Pe),dr(),Le())}}class Au{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Au(a,n,Le(),Le(),Le())}}class bh{constructor(e,n,a,o){this.be=e,this.removedTargetIds=n,this.key=a,this.De=o}}class HE{constructor(e,n){this.targetId=e,this.Ce=n}}class qE{constructor(e,n,a=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class L0{constructor(){this.ve=0,this.Fe=k0(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),a=Le();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Ee(38017,{changeType:u})}})),new Au(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=k0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class E2{constructor(e){this.Ge=e,this.ze=new Map,this.je=dr(),this.Je=dh(),this.He=dh(),this.Ye=new ct(Pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(ep(u))if(a===0){const f=new ge(u.path);this.et(n,f,Wt.newNoDocument(f,be.min()))}else Ke(a===1,20013,{expectedCount:a});else{const f=this._t(n);if(f!==a){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ha(a).toUint8Array()}catch(g){if(g instanceof mE)return Eo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Up(f,o,u)}catch(g){return Eo(g instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&ep(m.target)){const g=new ge(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Wt.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let a=Le();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new uf(e,n,this.Ye,this.je,a);return this.je=dr(),this.Je=dh(),this.He=dh(),this.Ye=new ct(Pe),o}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new L0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new jt(Pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new jt(Pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new L0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function dh(){return new ct(ge.comparator)}function k0(){return new ct(ge.comparator)}const T2={asc:"ASCENDING",desc:"DESCENDING"},S2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},b2={and:"AND",or:"OR"};class A2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ip(r,e){return r.useProto3Json||nf(e)?e:{value:e}}function Uh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function w2(r,e){return Uh(r,e.toTimestamp())}function Oi(r){return Ke(!!r,49232),be.fromTimestamp((function(n){const a=ca(n);return new Qe(a.seconds,a.nanos)})(r))}function zp(r,e){return rp(r,e).canonicalString()}function rp(r,e){const n=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function GE(r){const e=it.fromString(r);return Ke($E(e),10190,{key:e.toString()}),e}function ap(r,e){return zp(r.databaseId,e.path)}function Pm(r,e){const n=GE(e);if(n.get(1)!==r.databaseId.projectId)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(KE(n))}function QE(r,e){return zp(r.databaseId,e)}function R2(r){const e=GE(r);return e.length===4?it.emptyPath():KE(e)}function sp(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function KE(r){return Ke(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function U0(r,e,n){return{name:ap(r,e),fields:n.value.mapValue.fields}}function C2(r,e){let n;if("targetChange"in e){e.targetChange;const a=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,T){return p.useProto3Json?(Ke(T===void 0||typeof T=="string",58123),Xt.fromBase64String(T||"")):(Ke(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Xt.fromUint8Array(T||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(p){const T=p.code===void 0?J.UNKNOWN:BE(p.code);return new le(T,p.message||"")})(f);n=new qE(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Pm(r,a.document.name),u=Oi(a.document.updateTime),f=a.document.createTime?Oi(a.document.createTime):be.min(),m=new dn({mapValue:{fields:a.document.fields}}),g=Wt.newFoundDocument(o,u,f,m),p=a.targetIds||[],T=a.removedTargetIds||[];n=new bh(p,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Pm(r,a.document),u=a.readTime?Oi(a.readTime):be.min(),f=Wt.newNoDocument(o,u),m=a.removedTargetIds||[];n=new bh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Pm(r,a.document),u=a.removedTargetIds||[];n=new bh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new g2(o,u),m=a.targetId;n=new HE(m,f)}}return n}function I2(r,e){let n;if(e instanceof bu)n={update:U0(r,e.key,e.value)};else if(e instanceof Lp)n={delete:ap(r,e.key)};else if(e instanceof ga)n={update:U0(r,e.key,e.data),updateMask:L2(e.fieldMask)};else{if(!(e instanceof d2))return Ee(16599,{Vt:e.type});n={verify:ap(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(u,f){const m=f.transform;if(m instanceof Lh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof mu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof pu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof kh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:f.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:w2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(r,e.precondition)),n}function N2(r,e){return r&&r.length>0?(Ke(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Oi(o.updateTime):Oi(u);return f.isEqual(be.min())&&(f=Oi(u)),new c2(f,o.transformResults||[])})(n,e)))):[]}function x2(r,e){return{documents:[QE(r,e.path)]}}function D2(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=QE(r,o);const u=(function(p){if(p.length!==0)return XE(ri.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(p){if(p.length!==0)return p.map((T=>(function(R){return{field:so(R.field),direction:V2(R.dir)}})(T)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=ip(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function O2(r){let e=R2(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Ke(a===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(S){const R=YE(S);return R instanceof ri&&AE(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((R=>(function(P){return new du(oo(P.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let R;return R=typeof S=="object"?S.value:S,nf(R)?null:R})(n.limit));let g=null;n.startAt&&(g=(function(S){const R=!!S.before,w=S.values||[];return new Ph(w,R)})(n.startAt));let p=null;return n.endAt&&(p=(function(S){const R=!S.before,w=S.values||[];return new Ph(w,R)})(n.endAt)),JR(e,o,f,u,m,"F",g,p)}function M2(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YE(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=oo(n.unaryFilter.field);return xt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=oo(n.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=oo(n.unaryFilter.field);return xt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=oo(n.unaryFilter.field);return xt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(n){return xt.create(oo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ri.create(n.compositeFilter.filters.map((a=>YE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(r):Ee(30097,{filter:r})}function V2(r){return T2[r]}function j2(r){return S2[r]}function P2(r){return b2[r]}function so(r){return{fieldPath:r.canonicalString()}}function oo(r){return Yt.fromServerFormat(r.fieldPath)}function XE(r){return r instanceof xt?(function(n){if(n.op==="=="){if(R0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if(w0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(R0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if(w0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:j2(n.op),value:n.value}}})(r):r instanceof ri?(function(n){const a=n.getFilters().map((o=>XE(o)));return a.length===1?a[0]:{compositeFilter:{op:P2(n.op),filters:a}}})(r):Ee(54877,{filter:r})}function L2(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function $E(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class na{constructor(e,n,a,o,u=be.min(),f=be.min(),m=Xt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new na(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class k2{constructor(e){this.yt=e}}function U2(r){const e=O2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?np(e,e.limit,"L"):e}class z2{constructor(){this.Cn=new B2}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(ua.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(ua.min())}updateCollectionGroup(e,n,a){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class B2{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new jt(it.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new jt(it.comparator)).toArray()}}const z0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JE=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(JE,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class Ao{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ao(0)}static cr(){return new Ao(-1)}}const B0="LruGarbageCollector",H2=1048576;function H0([r,e],[n,a]){const o=Pe(r,n);return o===0?Pe(e,a):o}class q2{constructor(e){this.Ir=e,this.buffer=new jt(H0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();H0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class F2{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(B0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xo(n)?ue(B0,"Ignoring IndexedDB error during garbage collection: ",n):await No(n)}await this.Vr(3e5)}))}}class G2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(tf.ce);const a=new q2(n);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(z0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),z0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,o,u,f,m,g,p;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(a=S,m=Date.now(),this.removeTargets(e,a,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,a)))).next((S=>(p=Date.now(),ro()<=je.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(p-g)+`ms
Total Duration: ${p-T}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function Q2(r,e){return new G2(r,e)}class K2{constructor(){this.changes=new ls((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?te.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Y2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class X2{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(a!==null&&au(a.mutation,o,bn.empty(),Qe.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,Le()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=Le()){const o=Ja();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,a).next((u=>{let f=$l();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const a=Ja();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,Le())))}populateOverlays(e,n,a){const o=[];return a.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,a,o){let u=dr();const f=ru(),m=(function(){return ru()})();return n.forEach(((g,p)=>{const T=a.get(p.key);o.has(p.key)&&(T===void 0||T.mutation instanceof ga)?u=u.insert(p.key,p):T!==void 0?(f.set(p.key,T.mutation.getFieldMask()),au(T.mutation,p,T.mutation.getFieldMask(),Qe.now())):f.set(p.key,bn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,T)=>f.set(p,T))),n.forEach(((p,T)=>m.set(p,new Y2(T,f.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const a=ru();let o=new ct(((f,m)=>f-m)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let T=a.get(g)||bn.empty();T=m.applyToLocalView(p,T),a.set(g,T);const S=(o.get(m.batchId)||Le()).add(g);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,T=g.value,S=ME();T.forEach((R=>{if(!u.has(R)){const w=UE(n.get(R),a.get(R));w!==null&&S.set(R,w),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,p,S))}return te.waitFor(f)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,o){return(function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):IE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):te.resolve(Ja());let m=uu,g=u;return f.next((p=>te.forEach(p,((T,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(T)?te.resolve():this.remoteDocumentCache.getEntry(e,T).next((R=>{g=g.insert(T,R)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,Le()))).next((T=>({batchId:m,changes:OE(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((a=>{let o=$l();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let f=$l();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(g=>{const p=(function(S,R){return new Do(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,a,o).next((T=>{T.forEach(((S,R)=>{f=f.insert(S,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o)))).next((f=>{u.forEach(((g,p)=>{const T=p.getKey();f.get(T)===null&&(f=f.insert(T,Wt.newInvalidDocument(T)))}));let m=$l();return f.forEach(((g,p)=>{const T=u.get(g);T!==void 0&&au(T.mutation,p,bn.empty(),Qe.now()),sf(n,p)&&(m=m.insert(g,p))})),m}))}}class $2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Oi(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:U2(o.bundledQuery),readTime:Oi(o.readTime)}})(n)),te.resolve()}}class J2{constructor(){this.overlays=new ct(ge.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Ja();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&a.set(o,u)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((o,u)=>{this.St(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),te.resolve()}getOverlaysForCollection(e,n,a){const o=Ja(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>a&&o.set(g.getKey(),g)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new ct(((p,T)=>p-T));const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>a){let T=u.get(p.largestBatchId);T===null&&(T=Ja(),u=u.insert(p.largestBatchId,T)),T.set(p.getKey(),p)}}const m=Ja(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,T)=>m.set(p,T))),!(m.size()>=o)););return te.resolve(m)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new p2(n,a));let u=this.qr.get(n);u===void 0&&(u=Le(),this.qr.set(n,u)),this.qr.set(n,u.add(a.key))}}class Z2{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class Bp{constructor(){this.Qr=new jt(Ut.$r),this.Ur=new jt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new Ut(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Gr(new Ut(e,n))}zr(e,n){e.forEach((a=>this.removeReference(a,n)))}jr(e){const n=new ge(new it([])),a=new Ut(n,e),o=new Ut(n,e+1),u=[];return this.Ur.forEachInRange([a,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new it([])),a=new Ut(n,e),o=new Ut(n,e+1);let u=Le();return this.Ur.forEachInRange([a,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Ut(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||Pe(e.Yr,n.Yr)}static Kr(e,n){return Pe(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}class W2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new jt(Ut.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new m2(u,n,a,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Ut(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ei(a),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?xp:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new jt(Pe);return n.forEach((o=>{const u=new Ut(o,0),f=new Ut(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{a=a.add(m.Yr)}))})),te.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;ge.isDocumentKey(u)||(u=u.child(""));const f=new Ut(new ge(u),0);let m=new jt(Pe);return this.Zr.forEachWhile((g=>{const p=g.key.path;return!!a.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)}),f),te.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return te.forEach(n.mutations,(o=>{const u=new Ut(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,n){const a=new Ut(n,0),o=this.Zr.firstAfterOrEqual(a);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class eC{constructor(e){this.ri=e,this.docs=(function(){return new ct(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return te.resolve(a?a.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let a=dr();return n.forEach((o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))})),te.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=dr();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:T}}=g.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||NR(IR(T),a)<=0||(o.has(T.key)||sf(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Ee(9500)}ii(e,n){return te.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new tC(this)}getSize(e){return te.resolve(this.size)}}class tC extends K2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class nC{constructor(e){this.persistence=e,this.si=new ls((n=>Mp(n)),Vp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new Bp,this.targetCount=0,this.ai=Ao.ur()}forEachTarget(e,n){return this.si.forEach(((a,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ao(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return te.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),te.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return te.resolve(a)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}class ZE{constructor(e,n){this.ui={},this.overlays={},this.ci=new tf(0),this.li=!1,this.li=!0,this.hi=new Z2,this.referenceDelegate=e(this),this.Pi=new nC(this),this.indexManager=new z2,this.remoteDocumentCache=(function(o){return new eC(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new k2(n),this.Ii=new $2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new J2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new W2(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){ue("MemoryPersistence","Starting transaction:",e);const o=new iC(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return te.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,n))))}}class iC extends DR{constructor(e){super(),this.currentSequenceNumber=e}}class Hp{constructor(e){this.persistence=e,this.Ri=new Bp,this.Vi=null}static mi(e){return new Hp(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),te.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(a=>{const o=ge.fromPath(a);return this.gi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class zh{constructor(e,n){this.persistence=e,this.pi=new ls((a=>VR(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=Q2(this,n)}static mi(e,n){return new zh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((o=>a+o))))}wr(e){let n=0;return this.pr(e,(a=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((a,o)=>this.br(e,a,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(a++,u.removeEntry(f,be.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),te.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Eh(e.data.value)),n}br(e,n,a){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class qp{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=o}static As(e,n){let a=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new qp(e,n.fromCache,a,o)}}class rC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class aC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return $A()?8:OR(en())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,a).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new rC;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,a,o){return a.documentReadCount<this.fs?(ro()<=je.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(ro()<=je.DEBUG&&ue("QueryEngine","Query:",ao(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(ro()<=je.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Di(n))):te.resolve())}ys(e,n){if(x0(n))return te.resolve(null);let a=Di(n);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=np(n,null,"F"),a=Di(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const f=Le(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,a).next((g=>{const p=this.Ds(n,m);return this.Cs(n,p,f,g.readTime)?this.ys(e,np(n,null,"F")):this.vs(e,p,n,g)}))))})))))}ws(e,n,a,o){return x0(n)||o.isEqual(be.min())?te.resolve(null):this.ps.getDocuments(e,a).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,a,o)?te.resolve(null):(ro()<=je.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(n)),this.vs(e,f,n,CR(o,uu)).next((m=>m)))}))}Ds(e,n){let a=new jt(xE(e));return n.forEach(((o,u)=>{sf(e,u)&&(a=a.add(u))})),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,a){return ro()<=je.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",ao(n)),this.ps.getDocumentsMatchingQuery(e,n,ua.min(),a)}vs(e,n,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Fp="LocalStore",sC=3e8;class oC{constructor(e,n,a,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ct(Pe),this.xs=new ls((u=>Mp(u)),Vp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new X2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function lC(r,e,n,a){return new oC(r,e,n,a)}async function WE(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(a)))).next((u=>{const f=[],m=[];let g=Le();for(const p of o){f.push(p.batchId);for(const T of p.mutations)g=g.add(T.key)}for(const p of u){m.push(p.batchId);for(const T of p.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(a,g).next((p=>({Ls:p,removedBatchIds:f,addedBatchIds:m})))}))}))}function uC(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,T){const S=p.batch,R=S.keys();let w=te.resolve();return R.forEach((P=>{w=w.next((()=>T.getEntry(g,P))).next((K=>{const F=p.docVersions.get(P);Ke(F!==null,48541),K.version.compareTo(F)<0&&(S.applyToRemoteDocument(K,p),K.isValidDocument()&&(K.setReadTime(p.commitVersion),T.addEntry(K)))}))})),w.next((()=>m.mutationQueue.removeMutationBatch(g,S)))})(n,a,e,u).next((()=>u.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let g=Le();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(a,o)))}))}function eT(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function cC(r,e){const n=we(r),a=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((T,S)=>{const R=o.get(S);if(!R)return;m.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,S))));let w=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?w=w.withResumeToken(Xt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):T.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(T.resumeToken,a)),o=o.insert(S,w),(function(K,F,ne){return K.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=sC?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(R,w,T)&&m.push(n.Pi.updateTargetData(u,w))}));let g=dr(),p=Le();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(hC(u,f,e.documentUpdates).next((T=>{g=T.ks,p=T.qs}))),!a.isEqual(be.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));m.push(T)}return te.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function hC(r,e,n){let a=Le(),o=Le();return n.forEach((u=>a=a.add(u))),e.getEntries(r,a).next((u=>{let f=dr();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(be.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):ue(Fp,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function fC(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=xp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function dC(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return n.Pi.getTargetData(a,e).next((u=>u?(o=u,te.resolve(o)):n.Pi.allocateTargetId(a).next((f=>(o=new na(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=n.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a}))}async function op(r,e,n){const a=we(r),o=a.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,(f=>a.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!xo(f))throw f;ue(Fp,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function q0(r,e,n){const a=we(r);let o=be.min(),u=Le();return a.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,p,T){const S=we(g),R=S.xs.get(T);return R!==void 0?te.resolve(S.Ms.get(R)):S.Pi.getTargetData(p,T)})(a,f,Di(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>a.Fs.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?u:Le()))).next((m=>(mC(a,WR(e),m),{documents:m,Qs:u})))))}function mC(r,e,n){let a=r.Os.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),r.Os.set(e,a)}class F0{constructor(){this.activeTargetIds=a2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pC{constructor(){this.Mo=new F0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new F0,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gC{Oo(e){}shutdown(){}}const G0="ConnectivityMonitor";class Q0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(G0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(G0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let mh=null;function lp(){return mh===null?mh=(function(){return 268435456+Math.round(2147483648*Math.random())})():mh++,"0x"+mh.toString(16)}const Lm="RestConnection",yC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Vh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,n,a,o,u){const f=lp(),m=this.zo(e,n.toUriEncodedString());ue(Lm,`Sending RPC '${e}' ${f}:`,m,a);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:p}=new URL(m),T=Ro(p);return this.Jo(e,m,g,a,T).then((S=>(ue(Lm,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw Eo(Lm,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",a),S}))}Ho(e,n,a,o,u,f){return this.Go(e,n,a,o,u)}jo(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Io})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),a&&a.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const a=yC[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}class _C{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Jt="WebChannelConnection";class EC extends vC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,u){const f=lp();return new Promise(((m,g)=>{const p=new iE;p.setWithCredentials(!0),p.listenOnce(rE.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case _h.NO_ERROR:const S=p.getResponseJson();ue(Jt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case _h.TIMEOUT:ue(Jt,`RPC '${e}' ${f} timed out`),g(new le(J.DEADLINE_EXCEEDED,"Request time out"));break;case _h.HTTP_ERROR:const R=p.getStatus();if(ue(Jt,`RPC '${e}' ${f} failed with status:`,R,"response text:",p.getResponseText()),R>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const P=w?.error;if(P&&P.status&&P.message){const K=(function(ne){const ie=ne.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ie)>=0?ie:J.UNKNOWN})(P.status);g(new le(K,P.message))}else g(new le(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new le(J.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ue(Jt,`RPC '${e}' ${f} completed.`)}}));const T=JSON.stringify(o);ue(Jt,`RPC '${e}' ${f} sending request:`,o),p.send(n,"POST",T,a,15)}))}T_(e,n,a){const o=lp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=oE(),m=sE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,a),g.encodeInitMessageHeaders=!0;const T=u.join("");ue(Jt,`Creating RPC '${e}' stream ${o}: ${T}`,g);const S=f.createWebChannel(T,g);this.I_(S);let R=!1,w=!1;const P=new _C({Yo:F=>{w?ue(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(R||(ue(Jt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),R=!0),ue(Jt,`RPC '${e}' stream ${o} sending:`,F),S.send(F))},Zo:()=>S.close()}),K=(F,ne,ie)=>{F.listen(ne,(re=>{try{ie(re)}catch(ve){setTimeout((()=>{throw ve}),0)}}))};return K(S,Xl.EventType.OPEN,(()=>{w||(ue(Jt,`RPC '${e}' stream ${o} transport opened.`),P.o_())})),K(S,Xl.EventType.CLOSE,(()=>{w||(w=!0,ue(Jt,`RPC '${e}' stream ${o} transport closed`),P.a_(),this.E_(S))})),K(S,Xl.EventType.ERROR,(F=>{w||(w=!0,Eo(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),P.a_(new le(J.UNAVAILABLE,"The operation could not be completed")))})),K(S,Xl.EventType.MESSAGE,(F=>{if(!w){const ne=F.data[0];Ke(!!ne,16349);const ie=ne,re=ie?.error||ie[0]?.error;if(re){ue(Jt,`RPC '${e}' stream ${o} received error:`,re);const ve=re.status;let Se=(function(I){const N=Nt[I];if(N!==void 0)return BE(N)})(ve),Re=re.message;Se===void 0&&(Se=J.INTERNAL,Re="Unknown error status: "+ve+" with message "+re.message),w=!0,P.a_(new le(Se,Re)),S.close()}else ue(Jt,`RPC '${e}' stream ${o} received:`,ne),P.u_(ne)}})),K(m,aE.STAT_EVENT,(F=>{F.stat===Xm.PROXY?ue(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===Xm.NOPROXY&&ue(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function km(){return typeof document<"u"?document:null}function cf(r){return new A2(r,!0)}class tT{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const K0="PersistentStream";class nT{constructor(e,n,a,o,u,f,m,g){this.Mi=e,this.S_=a,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===n&&this.G_(a,o)}),(a=>{e((()=>{const o=new le(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(K0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(K0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class TC extends nT{constructor(e,n,a,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=C2(this.serializer,e),a=(function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?Oi(f.readTime):be.min()})(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=sp(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=ep(g)?{documents:x2(u,g)}:{query:D2(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=FE(u,f.resumeToken);const p=ip(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(be.min())>0){m.readTime=Uh(u,f.snapshotVersion.toTimestamp());const p=ip(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const a=M2(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=sp(this.serializer),n.removeTarget=e,this.q_(n)}}class SC extends nT{constructor(e,n,a,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=N2(e.writeResults,e.commitTime),a=Oi(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=sp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>I2(this.serializer,a)))};this.q_(n)}}class bC{}class AC extends bC{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,rp(n,a),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(J.UNKNOWN,u.toString())}))}Ho(e,n,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,rp(n,a),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class wC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fr(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const as="RemoteStore";class RC{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{a.enqueueAndForget((async()=>{us(this)&&(ue(as,"Restarting streams for network reachability change."),await(async function(g){const p=we(g);p.Ea.add(4),await wu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await hf(p)})(this))}))})),this.Ra=new wC(a,o)}}async function hf(r){if(us(r))for(const e of r.da)await e(!0)}async function wu(r){for(const e of r.da)await e(!1)}function iT(r,e){const n=we(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Yp(n)?Kp(n):Oo(n).O_()&&Qp(n,e))}function Gp(r,e){const n=we(r),a=Oo(n);n.Ia.delete(e),a.O_()&&rT(n,e),n.Ia.size===0&&(a.O_()?a.L_():us(n)&&n.Ra.set("Unknown"))}function Qp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oo(r).Y_(e)}function rT(r,e){r.Va.Ue(e),Oo(r).Z_(e)}function Kp(r){r.Va=new E2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Oo(r).start(),r.Ra.ua()}function Yp(r){return us(r)&&!Oo(r).x_()&&r.Ia.size>0}function us(r){return we(r).Ea.size===0}function aT(r){r.Va=void 0}async function CC(r){r.Ra.set("Online")}async function IC(r){r.Ia.forEach(((e,n)=>{Qp(r,e)}))}async function NC(r,e){aT(r),Yp(r)?(r.Ra.ha(e),Kp(r)):r.Ra.set("Unknown")}async function xC(r,e,n){if(r.Ra.set("Online"),e instanceof qE&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(a){ue(as,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Bh(r,a)}else if(e instanceof bh?r.Va.Ze(e):e instanceof HE?r.Va.st(e):r.Va.tt(e),!n.isEqual(be.min()))try{const a=await eT(r.localStore);n.compareTo(a)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ia.get(p);T&&u.Ia.set(p,T.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,p)=>{const T=u.Ia.get(g);if(!T)return;u.Ia.set(g,T.withResumeToken(Xt.EMPTY_BYTE_STRING,T.snapshotVersion)),rT(u,g);const S=new na(T.target,g,p,T.sequenceNumber);Qp(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(a){ue(as,"Failed to raise snapshot:",a),await Bh(r,a)}}async function Bh(r,e,n){if(!xo(e))throw e;r.Ea.add(1),await wu(r),r.Ra.set("Offline"),n||(n=()=>eT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ue(as,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await hf(r)}))}function sT(r,e){return e().catch((n=>Bh(r,n,e)))}async function ff(r){const e=we(r),n=da(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xp;for(;DC(e);)try{const o=await fC(e.localStore,a);if(o===null){e.Ta.length===0&&n.L_();break}a=o.batchId,OC(e,o)}catch(o){await Bh(e,o)}oT(e)&&lT(e)}function DC(r){return us(r)&&r.Ta.length<10}function OC(r,e){r.Ta.push(e);const n=da(r);n.O_()&&n.X_&&n.ea(e.mutations)}function oT(r){return us(r)&&!da(r).x_()&&r.Ta.length>0}function lT(r){da(r).start()}async function MC(r){da(r).ra()}async function VC(r){const e=da(r);for(const n of r.Ta)e.ea(n.mutations)}async function jC(r,e,n){const a=r.Ta.shift(),o=kp.from(a,e,n);await sT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await ff(r)}async function PC(r,e){e&&da(r).X_&&await(async function(a,o){if((function(f){return y2(f)&&f!==J.ABORTED})(o.code)){const u=a.Ta.shift();da(a).B_(),await sT(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o))),await ff(a)}})(r,e),oT(r)&&lT(r)}async function Y0(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),ue(as,"RemoteStore received new credentials");const a=us(n);n.Ea.add(3),await wu(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await hf(n)}async function LC(r,e){const n=we(r);e?(n.Ea.delete(2),await hf(n)):e||(n.Ea.add(2),await wu(n),n.Ra.set("Unknown"))}function Oo(r){return r.ma||(r.ma=(function(n,a,o){const u=we(n);return u.sa(),new TC(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:CC.bind(null,r),t_:IC.bind(null,r),r_:NC.bind(null,r),H_:xC.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Yp(r)?Kp(r):r.Ra.set("Unknown")):(await r.ma.stop(),aT(r))}))),r.ma}function da(r){return r.fa||(r.fa=(function(n,a,o){const u=we(n);return u.sa(),new SC(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:MC.bind(null,r),r_:PC.bind(null,r),ta:VC.bind(null,r),na:jC.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await ff(r)):(await r.fa.stop(),r.Ta.length>0&&(ue(as,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Xp{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const f=Date.now()+a,m=new Xp(e,n,f,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $p(r,e){if(fr("AsyncQueue",`${e}: ${r}`),xo(r))return new le(J.UNAVAILABLE,`${e}: ${r}`);throw r}class co{static emptySet(e){return new co(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||ge.comparator(n.key,a.key):(n,a)=>ge.comparator(n.key,a.key),this.keyedMap=$l(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new co;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}class X0{constructor(){this.ga=new ct(ge.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class wo{constructor(e,n,a,o,u,f,m,g,p){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,a,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new wo(e,n,co.emptySet(n),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}class kC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class UC{constructor(){this.queries=$0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=we(n),u=o.queries;o.queries=$0(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(a)}))})(this,new le(J.ABORTED,"Firestore shutting down"))}}function $0(){return new ls((r=>NE(r)),af)}async function uT(r,e){const n=we(r);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(a=2):(u=new kC,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=$p(f,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Jp(n)}async function cT(r,e){const n=we(r),a=e.query;let o=3;const u=n.queries.get(a);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function zC(r,e){const n=we(r);let a=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(a=!0);f.wa=o}}a&&Jp(n)}function BC(r,e,n){const a=we(r),o=a.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);a.queries.delete(e)}function Jp(r){r.Ca.forEach((e=>{e.next()}))}var up,J0;(J0=up||(up={})).Ma="default",J0.Cache="cache";class hT{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new wo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==up.Cache}}class fT{constructor(e){this.key=e}}class dT{constructor(e){this.key=e}}class HC{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=xE(e),this.tu=new co(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new X0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,S)=>{const R=o.get(T),w=sf(this.query,S)?S:null,P=!!R&&this.mutatedKeys.has(R.key),K=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let F=!1;R&&w?R.data.isEqual(w.data)?P!==K&&(a.track({type:3,doc:w}),F=!0):this.su(R,w)||(a.track({type:2,doc:w}),F=!0,(g&&this.eu(w,g)>0||p&&this.eu(w,p)<0)&&(m=!0)):!R&&w?(a.track({type:0,doc:w}),F=!0):R&&!w&&(a.track({type:1,doc:R}),F=!0,(g||p)&&(m=!0)),F&&(w?(f=f.add(w),u=K?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),a.track({type:1,doc:T})}return{tu:f,iu:a,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((T,S)=>(function(w,P){const K=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:F})}};return K(w)-K(P)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(a),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,f.length!==0||p?{snapshot:new wo(this.query,e.tu,u,f,e.mutatedKeys,g===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new X0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return e.forEach((a=>{this.Xa.has(a)||n.push(new dT(a))})),this.Xa.forEach((a=>{e.has(a)||n.push(new fT(a))})),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return wo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zp="SyncEngine";class qC{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class FC{constructor(e){this.key=e,this.hu=!1}}class GC{constructor(e,n,a,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ls((m=>NE(m)),af),this.Iu=new Map,this.Eu=new Set,this.du=new ct(ge.comparator),this.Au=new Map,this.Ru=new Bp,this.Vu={},this.mu=new Map,this.fu=Ao.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function QC(r,e,n=!0){const a=_T(r);let o;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await mT(a,e,n,!0),o}async function KC(r,e){const n=_T(r);await mT(n,e,!0,!1)}async function mT(r,e,n,a){const o=await dC(r.localStore,Di(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await YC(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&iT(r.remoteStore,o),m}async function YC(r,e,n,a,o){r.pu=(S,R,w)=>(async function(K,F,ne,ie){let re=F.view.ru(ne);re.Cs&&(re=await q0(K.localStore,F.query,!1).then((({documents:x})=>F.view.ru(x,re))));const ve=ie&&ie.targetChanges.get(F.targetId),Se=ie&&ie.targetMismatches.get(F.targetId)!=null,Re=F.view.applyChanges(re,K.isPrimaryClient,ve,Se);return W0(K,F.targetId,Re.au),Re.snapshot})(r,S,R,w);const u=await q0(r.localStore,e,!0),f=new HC(e,u.Qs),m=f.ru(u.documents),g=Au.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),p=f.applyChanges(m,r.isPrimaryClient,g);W0(r,n,p.au);const T=new qC(e,n,f);return r.Tu.set(e,T),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function XC(r,e,n){const a=we(r),o=a.Tu.get(e),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter((f=>!af(f,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await op(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Gp(a.remoteStore,o.targetId),cp(a,o.targetId)})).catch(No)):(cp(a,o.targetId),await op(a.localStore,o.targetId,!0))}async function $C(r,e){const n=we(r),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Gp(n.remoteStore,a.targetId))}async function JC(r,e,n){const a=rI(r);try{const o=await(function(f,m){const g=we(f),p=Qe.now(),T=m.reduce(((w,P)=>w.add(P.key)),Le());let S,R;return g.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let P=dr(),K=Le();return g.Ns.getEntries(w,T).next((F=>{P=F,P.forEach(((ne,ie)=>{ie.isValidDocument()||(K=K.add(ne))}))})).next((()=>g.localDocuments.getOverlayedDocuments(w,P))).next((F=>{S=F;const ne=[];for(const ie of m){const re=f2(ie,S.get(ie.key).overlayedDocument);re!=null&&ne.push(new ga(ie.key,re,TE(re.value.mapValue),Un.exists(!0)))}return g.mutationQueue.addMutationBatch(w,p,ne,m)})).next((F=>{R=F;const ne=F.applyToLocalDocumentSet(S,K);return g.documentOverlayCache.saveOverlays(w,F.batchId,ne)}))})).then((()=>({batchId:R.batchId,changes:OE(S)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let p=f.Vu[f.currentUser.toKey()];p||(p=new ct(Pe)),p=p.insert(m,g),f.Vu[f.currentUser.toKey()]=p})(a,o.batchId,n),await Ru(a,o.changes),await ff(a.remoteStore)}catch(o){const u=$p(o,"Failed to persist write");n.reject(u)}}async function pT(r,e){const n=we(r);try{const a=await cC(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ke(f.hu,14607):o.removedDocuments.size>0&&(Ke(f.hu,42227),f.hu=!1))})),await Ru(n,a,e)}catch(a){await No(a)}}function Z0(r,e,n){const a=we(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=we(f);g.onlineState=m;let p=!1;g.queries.forEach(((T,S)=>{for(const R of S.Sa)R.va(m)&&(p=!0)})),p&&Jp(g)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function ZC(r,e,n){const a=we(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),u=o&&o.key;if(u){let f=new ct(ge.comparator);f=f.insert(u,Wt.newNoDocument(u,be.min()));const m=Le().add(u),g=new uf(be.min(),new Map,new ct(Pe),f,m);await pT(a,g),a.du=a.du.remove(u),a.Au.delete(e),Wp(a)}else await op(a.localStore,e,!1).then((()=>cp(a,e,n))).catch(No)}async function WC(r,e){const n=we(r),a=e.batch.batchId;try{const o=await uC(n.localStore,e);yT(n,a,null),gT(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Ru(n,o)}catch(o){await No(o)}}async function eI(r,e,n){const a=we(r);try{const o=await(function(f,m){const g=we(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let T;return g.mutationQueue.lookupMutationBatch(p,m).next((S=>(Ke(S!==null,37113),T=S.keys(),g.mutationQueue.removeMutationBatch(p,S)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,T,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,T))).next((()=>g.localDocuments.getDocuments(p,T)))}))})(a.localStore,e);yT(a,e,n),gT(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Ru(a,o)}catch(o){await No(o)}}function gT(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function yT(r,e,n){const a=we(r);let o=a.Vu[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function cp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||vT(r,a)}))}function vT(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Gp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Wp(r))}function W0(r,e,n){for(const a of n)a instanceof fT?(r.Ru.addReference(a.key,e),tI(r,a)):a instanceof dT?(ue(Zp,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||vT(r,a.key)):Ee(19791,{wu:a})}function tI(r,e){const n=e.key,a=n.path.canonicalString();r.du.get(n)||r.Eu.has(a)||(ue(Zp,"New document in limbo: "+n),r.Eu.add(a),Wp(r))}function Wp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ge(it.fromString(e)),a=r.fu.next();r.Au.set(a,new FC(n)),r.du=r.du.insert(n,a),iT(r.remoteStore,new na(Di(jp(n.path)),a,"TargetPurposeLimboResolution",tf.ce))}}async function Ru(r,e,n){const a=we(r),o=[],u=[],f=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,g)=>{f.push(a.pu(g,e,n).then((p=>{if((p||n)&&a.isPrimaryClient){const T=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(p){o.push(p);const T=qp.As(g.targetId,p);u.push(T)}})))})),await Promise.all(f),a.Pu.H_(o),await(async function(g,p){const T=we(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>te.forEach(p,(R=>te.forEach(R.Es,(w=>T.persistence.referenceDelegate.addReference(S,R.targetId,w))).next((()=>te.forEach(R.ds,(w=>T.persistence.referenceDelegate.removeReference(S,R.targetId,w)))))))))}catch(S){if(!xo(S))throw S;ue(Fp,"Failed to update sequence numbers: "+S)}for(const S of p){const R=S.targetId;if(!S.fromCache){const w=T.Ms.get(R),P=w.snapshotVersion,K=w.withLastLimboFreeSnapshotVersion(P);T.Ms=T.Ms.insert(R,K)}}})(a.localStore,u))}async function nI(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){ue(Zp,"User change. New user:",e.toKey());const a=await WE(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new le(J.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Ru(n,a.Ls)}}function iI(r,e){const n=we(r),a=n.Au.get(e);if(a&&a.hu)return Le().add(a.key);{let o=Le();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function _T(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=pT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZC.bind(null,e),e.Pu.H_=zC.bind(null,e.eventManager),e.Pu.yu=BC.bind(null,e.eventManager),e}function rI(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eI.bind(null,e),e}class Hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return lC(this.persistence,new aC,e.initialUser,this.serializer)}Cu(e){return new ZE(Hp.mi,this.serializer)}Du(e){return new pC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hh.provider={build:()=>new Hh};class aI extends Hh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof zh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new F2(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new ZE((a=>zh.mi(a,n)),this.serializer)}}class hp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Z0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=nI.bind(null,this.syncEngine),await LC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new UC})()}createDatastore(e){const n=cf(e.databaseInfo.databaseId),a=(function(u){return new EC(u)})(e.databaseInfo);return(function(u,f,m,g){return new AC(u,f,m,g)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,o,u,f,m){return new RC(a,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>Z0(this.syncEngine,n,0)),(function(){return Q0.v()?new Q0:new gC})())}createSyncEngine(e,n){return(function(o,u,f,m,g,p,T){const S=new GC(o,u,f,m,g,p);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=we(n);ue(as,"RemoteStore shutting down."),a.Ea.add(5),await wu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}hp.provider={build:()=>new hp};class ET{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ma="FirestoreClient";class sI{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=Np.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async f=>{ue(ma,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(a,(f=>(ue(ma,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=$p(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Um(r,e){r.asyncQueue.verifyOperationInProgress(),ue(ma,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await WE(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function e1(r,e){r.asyncQueue.verifyOperationInProgress();const n=await oI(r);ue(ma,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((a=>Y0(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>Y0(e.remoteStore,o))),r._onlineComponents=e}async function oI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(ma,"Using user provided OfflineComponentProvider");try{await Um(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Eo("Error using user provided cache. Falling back to memory cache: "+n),await Um(r,new Hh)}}else ue(ma,"Using default OfflineComponentProvider"),await Um(r,new aI(void 0));return r._offlineComponents}async function TT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(ma,"Using user provided OnlineComponentProvider"),await e1(r,r._uninitializedComponentsProvider._online)):(ue(ma,"Using default OnlineComponentProvider"),await e1(r,new hp))),r._onlineComponents}function lI(r){return TT(r).then((e=>e.syncEngine))}async function ST(r){const e=await TT(r),n=e.eventManager;return n.onListen=QC.bind(null,e.syncEngine),n.onUnlisten=XC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=KC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$C.bind(null,e.syncEngine),n}function uI(r,e,n={}){const a=new lr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,p){const T=new ET({next:R=>{T.Nu(),f.enqueueAndForget((()=>cT(u,S)));const w=R.docs.has(m);!w&&R.fromCache?p.reject(new le(J.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&R.fromCache&&g&&g.source==="server"?p.reject(new le(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(R)},error:R=>p.reject(R)}),S=new hT(jp(m.path),T,{includeMetadataChanges:!0,qa:!0});return uT(u,S)})(await ST(r),r.asyncQueue,e,n,a))),a.promise}function cI(r,e,n={}){const a=new lr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,p){const T=new ET({next:R=>{T.Nu(),f.enqueueAndForget((()=>cT(u,S))),R.fromCache&&g.source==="server"?p.reject(new le(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(R)},error:R=>p.reject(R)}),S=new hT(m,T,{includeMetadataChanges:!0,qa:!0});return uT(u,S)})(await ST(r),r.asyncQueue,e,n,a))),a.promise}function bT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const t1=new Map;const AT="firestore.googleapis.com",n1=!0;class i1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AT,this.ssl=n1}else this.host=e.host,this.ssl=e.ssl??n1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=JE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<H2)throw new le(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class df{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new gR;switch(a.type){case"firstParty":return new ER(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new le(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=t1.get(n);a&&(ue("ComponentProvider","Removing Datastore"),t1.delete(n),a.terminate())})(this),Promise.resolve()}}function hI(r,e,n,a={}){r=ii(r,df);const o=Ro(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(Y1(`https://${m}`),X1("Firestore",!0)),u.host!==AT&&u.host!==m&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:a};if(!ns(g,f)&&(r._setSettings(g),a.mockUserToken)){let p,T;if(typeof a.mockUserToken=="string")p=a.mockUserToken,T=Zt.MOCK_USER;else{p=BA(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new le(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Zt(S)}r._authCredentials=new yR(new uE(p,T))}}class cs{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new cs(this.firestore,e,this._query)}}class _t{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new la(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(Su(n,_t._jsonSchema))return new _t(e,a||null,new ge(it.fromString(n.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:Dt("string",_t._jsonSchemaVersion),referencePath:Dt("string")};class la extends cs{constructor(e,n,a){super(e,n,jp(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new ge(e))}withConverter(e){return new la(this.firestore,e,this._path)}}function fI(r,e,...n){if(r=zt(r),cE("collection","path",e),r instanceof df){const a=it.fromString(e,...n);return g0(a),new la(r,null,a)}{if(!(r instanceof _t||r instanceof la))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(it.fromString(e,...n));return g0(a),new la(r.firestore,null,a)}}function ia(r,e,...n){if(r=zt(r),arguments.length===1&&(e=Np.newId()),cE("doc","path",e),r instanceof df){const a=it.fromString(e,...n);return p0(a),new _t(r,null,new ge(a))}{if(!(r instanceof _t||r instanceof la))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(it.fromString(e,...n));return p0(a),new _t(r.firestore,r instanceof la?r.converter:null,new ge(a))}}const r1="AsyncQueue";class a1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tT(this,"async_queue_retry"),this._c=()=>{const a=km();a&&ue(r1,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xo(e))throw e;ue(r1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,fr("INTERNAL UNHANDLED ERROR: ",s1(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Xp.createAndSchedule(this,e,n,a,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:s1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function s1(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class hs extends df{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new a1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new a1(e),this._firestoreClient=void 0,await e}}}function dI(r,e){const n=typeof r=="object"?r:W1(),a=typeof r=="string"?r:Vh,o=Cp(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=UA("firestore");u&&hI(o,...u)}return o}function eg(r){if(r._terminated)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||mI(r),r._firestoreClient}function mI(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new LR(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,bT(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new sI(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kn(Xt.fromBase64String(e))}catch(n){throw new le(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new kn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Su(e,kn._jsonSchema))return kn.fromBase64String(e.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:Dt("string",kn._jsonSchemaVersion),bytes:Dt("string")};class mf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class tg{constructor(e){this._methodName=e}}class Mi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(e){if(Su(e,Mi._jsonSchema))return new Mi(e.latitude,e.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Dt("string",Mi._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class Vi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Su(e,Vi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Vi(e.vectorValues);throw new le(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vi._jsonSchemaVersion="firestore/vectorValue/1.0",Vi._jsonSchema={type:Dt("string",Vi._jsonSchemaVersion),vectorValues:Dt("object")};const pI=/^__.*__$/;class gI{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new ga(e,this.data,this.fieldMask,n,this.fieldTransforms):new bu(e,this.data,n,this.fieldTransforms)}}class wT{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new ga(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function RT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:r})}}class ng{constructor(e,n,a,o,u,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ng({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return qh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(RT(this.Ac)&&pI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class yI{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||cf(e)}Cc(e,n,a,o=!1){return new ng({Ac:e,methodName:n,Dc:a,path:Yt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pf(r){const e=r._freezeSettings(),n=cf(r._databaseId);return new yI(r._databaseId,!!e.ignoreUndefinedProperties,n)}function CT(r,e,n,a,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);ig("Data must be an object, but it was:",f,a);const m=IT(a,f);let g,p;if(u.merge)g=new bn(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const R=fp(e,S,n);if(!f.contains(R))throw new le(J.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);xT(T,R)||T.push(R)}g=new bn(T),p=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,p=f.fieldTransforms;return new gI(new dn(m),g,p)}class gf extends tg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gf}}function vI(r,e,n,a){const o=r.Cc(1,e,n);ig("Data must be an object, but it was:",o,a);const u=[],f=dn.empty();pa(a,((g,p)=>{const T=rg(e,g,n);p=zt(p);const S=o.yc(T);if(p instanceof gf)u.push(T);else{const R=Cu(p,S);R!=null&&(u.push(T),f.set(T,R))}}));const m=new bn(u);return new wT(f,m,o.fieldTransforms)}function _I(r,e,n,a,o,u){const f=r.Cc(1,e,n),m=[fp(e,a,n)],g=[o];if(u.length%2!=0)throw new le(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(fp(e,u[R])),g.push(u[R+1]);const p=[],T=dn.empty();for(let R=m.length-1;R>=0;--R)if(!xT(p,m[R])){const w=m[R];let P=g[R];P=zt(P);const K=f.yc(w);if(P instanceof gf)p.push(w);else{const F=Cu(P,K);F!=null&&(p.push(w),T.set(w,F))}}const S=new bn(p);return new wT(T,S,f.fieldTransforms)}function EI(r,e,n,a=!1){return Cu(n,r.Cc(a?4:3,e))}function Cu(r,e){if(NT(r=zt(r)))return ig("Unsupported field value:",e,r),IT(r,e);if(r instanceof tg)return(function(a,o){if(!RT(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const u=[];let f=0;for(const m of a){let g=Cu(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,e)}return(function(a,o){if((a=zt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return s2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Qe.fromDate(a);return{timestampValue:Uh(o.serializer,u)}}if(a instanceof Qe){const u=new Qe(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Uh(o.serializer,u)}}if(a instanceof Mi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof kn)return{bytesValue:FE(o.serializer,a._byteString)};if(a instanceof _t){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:zp(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Vi)return(function(f,m){return{mapValue:{fields:{[_E]:{stringValue:EE},[jh]:{arrayValue:{values:f.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return Pp(m.serializer,p)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${ef(a)}`)})(r,e)}function IT(r,e){const n={};return dE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pa(r,((a,o)=>{const u=Cu(o,e.mc(a));u!=null&&(n[a]=u)})),{mapValue:{fields:n}}}function NT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Qe||r instanceof Mi||r instanceof kn||r instanceof _t||r instanceof tg||r instanceof Vi)}function ig(r,e,n){if(!NT(n)||!hE(n)){const a=ef(n);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function fp(r,e,n){if((e=zt(e))instanceof mf)return e._internalPath;if(typeof e=="string")return rg(r,e);throw qh("Field path arguments must be of type string or ",r,!1,void 0,n)}const TI=new RegExp("[~\\*/\\[\\]]");function rg(r,e,n){if(e.search(TI)>=0)throw qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new mf(...e.split("."))._internalPath}catch{throw qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function qh(r,e,n,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${a}`),f&&(g+=` in document ${o}`),g+=")"),new le(J.INVALID_ARGUMENT,m+r+g)}function xT(r,e){return r.some((n=>n.isEqual(e)))}class DT{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class SI extends DT{data(){return super.data()}}function yf(r,e){return typeof e=="string"?rg(r,e):e instanceof mf?e._internalPath:e._delegate._internalPath}function bI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ag{}class OT extends ag{}function Zl(r,e,...n){let a=[];e instanceof ag&&a.push(e),a=a.concat(n),(function(u){const f=u.filter((g=>g instanceof sg)).length,m=u.filter((g=>g instanceof vf)).length;if(f>1||f>0&&m>0)throw new le(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)r=o._apply(r);return r}class vf extends OT{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new vf(e,n,a)}_apply(e){const n=this._parse(e);return MT(e._query,n),new cs(e.firestore,e.converter,tp(e._query,n))}_parse(e){const n=pf(e.firestore);return(function(u,f,m,g,p,T,S){let R;if(p.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new le(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){l1(S,T);const P=[];for(const K of S)P.push(o1(g,u,K));R={arrayValue:{values:P}}}else R=o1(g,u,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||l1(S,T),R=EI(m,f,S,T==="in"||T==="not-in");return xt.create(p,T,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ti(r,e,n){const a=e,o=yf("where",r);return vf._create(o,a,n)}class sg extends ag{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sg(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:ri.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)MT(f,g),f=tp(f,g)})(e._query,n),new cs(e.firestore,e.converter,tp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class og extends OT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new og(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new du(u,f)})(e._query,this._field,this._direction);return new cs(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new Do(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function dp(r,e="asc"){const n=e,a=yf("orderBy",r);return og._create(a,n)}function o1(r,e,n){if(typeof(n=zt(n))=="string"){if(n==="")throw new le(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IE(e)&&n.indexOf("/")!==-1)throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(it.fromString(n));if(!ge.isDocumentKey(a))throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return A0(r,new ge(a))}if(n instanceof _t)return A0(r,n._key);throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ef(n)}.`)}function l1(r,e){if(!Array.isArray(r)||r.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MT(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class AI{convertValue(e,n="none"){switch(fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return pa(e,((o,u)=>{a[o]=this.convertValue(u,n)})),a}convertVectorValue(e){const n=e.fields?.[jh].arrayValue?.values?.map((a=>vt(a.doubleValue)));return new Vi(n)}convertGeoPoint(e){return new Mi(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=rf(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(cu(e));default:return null}}convertTimestamp(e){const n=ca(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=it.fromString(e);Ke($E(a),9688,{name:e});const o=new hu(a.get(1),a.get(3)),u=new ge(a.popFirst(5));return o.isEqual(n)||fr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function VT(r,e,n){let a;return a=r?r.toFirestore(e):e,a}class Wl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wa extends DT{constructor(e,n,a,o,u,f){super(e,n,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(yf("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Wa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wa._jsonSchema={type:Dt("string",Wa._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Ah extends Wa{data(e={}){return super.data(e)}}class ho{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Wl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new Ah(this._firestore,this._userDataWriter,a.key,a,new Wl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new Ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Wl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Wl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,T=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:wI(m.type),doc:g,oldIndex:p,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ho._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Np.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function wI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}function u1(r){r=ii(r,_t);const e=ii(r.firestore,hs);return uI(eg(e),r._key).then((n=>II(e,r,n)))}ho._jsonSchemaVersion="firestore/querySnapshot/1.0",ho._jsonSchema={type:Dt("string",ho._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class jT extends AI{constructor(e){super(),this.firestore=e}convertBytes(e){return new kn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function ql(r){r=ii(r,cs);const e=ii(r.firestore,hs),n=eg(e),a=new jT(e);return bI(r._query),cI(n,r._query).then((o=>new ho(e,a,r,o)))}function c1(r,e,n){r=ii(r,_t);const a=ii(r.firestore,hs),o=VT(r.converter,e);return _f(a,[CT(pf(a),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Un.none())])}function h1(r,e,n,...a){r=ii(r,_t);const o=ii(r.firestore,hs),u=pf(o);let f;return f=typeof(e=zt(e))=="string"||e instanceof mf?_I(u,"updateDoc",r._key,e,n,a):vI(u,"updateDoc",r._key,e),_f(o,[f.toMutation(r._key,Un.exists(!0))])}function RI(r){return _f(ii(r.firestore,hs),[new Lp(r._key,Un.none())])}function CI(r,e){const n=ii(r.firestore,hs),a=ia(r),o=VT(r.converter,e);return _f(n,[CT(pf(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,Un.exists(!1))]).then((()=>a))}function _f(r,e){return(function(a,o){const u=new lr;return a.asyncQueue.enqueueAndForget((async()=>JC(await lI(a),o,u))),u.promise})(eg(r),e)}function II(r,e,n){const a=n.docs.get(e._key),o=new jT(r);return new Wa(r,o,e._key,a,new Wl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Io=o})(Co),_o(new is("firestore",((a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new hs(new vR(a.getProvider("auth-internal")),new TR(f,a.getProvider("app-check-internal")),(function(p,T){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new le(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(p.options.projectId,T)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),sa(h0,f0,e),sa(h0,f0,"esm2020")})();function PT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NI=PT,LT=new Eu("auth","Firebase",PT());const Fh=new wp("@firebase/auth");function xI(r,...e){Fh.logLevel<=je.WARN&&Fh.warn(`Auth (${Co}): ${r}`,...e)}function wh(r,...e){Fh.logLevel<=je.ERROR&&Fh.error(`Auth (${Co}): ${r}`,...e)}function ai(r,...e){throw lg(r,...e)}function ji(r,...e){return lg(r,...e)}function kT(r,e,n){const a={...NI(),[e]:n};return new Eu("auth","Firebase",a).create(e,{appName:r.name})}function ur(r){return kT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lg(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return LT.create(r,...e)}function _e(r,e,...n){if(!r)throw lg(e,...n)}function sr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw wh(e),new Error(e)}function mr(r,e){r||sr(e)}function mp(){return typeof self<"u"&&self.location?.href||""}function DI(){return f1()==="http:"||f1()==="https:"}function f1(){return typeof self<"u"&&self.location?.protocol||null}function OI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DI()||KA()||"connection"in navigator)?navigator.onLine:!0}function MI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Iu{constructor(e,n){this.shortDelay=e,this.longDelay=n,mr(n>e,"Short delay should be less than long delay!"),this.isMobile=FA()||YA()}get(){return OI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ug(r,e){mr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class UT{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const VI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const jI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PI=new Iu(3e4,6e4);function ya(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function va(r,e,n,a,o={}){return zT(r,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const m=Tu({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:g,...u};return QA()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&Ro(r.emulatorConfig.host)&&(p.credentials="include"),UT.fetch()(await BT(r,r.config.apiHost,n,m),p)})}async function zT(r,e,n){r._canInitEmulator=!1;const a={...VI,...e};try{const o=new kI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw ph(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw ph(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw ph(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw ph(r,"user-disabled",f);const T=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw kT(r,T,p);ai(r,T)}}catch(o){if(o instanceof gr)throw o;ai(r,"network-request-failed",{message:String(o)})}}async function Nu(r,e,n,a,o={}){const u=await va(r,e,n,a,o);return"mfaPendingCredential"in u&&ai(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function BT(r,e,n,a){const o=`${e}${n}?${a}`,u=r,f=u.config.emulator?ug(r.config,o):`${r.config.apiScheme}://${o}`;return jI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function LI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(ji(this.auth,"network-request-failed")),PI.get())})}}function ph(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=ji(r,e,a);return o.customData._tokenResponse=n,o}function d1(r){return r!==void 0&&r.enterprise!==void 0}class UI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return LI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zI(r,e){return va(r,"GET","/v2/recaptchaConfig",ya(r,e))}async function BI(r,e){return va(r,"POST","/v1/accounts:delete",e)}async function Gh(r,e){return va(r,"POST","/v1/accounts:lookup",e)}function su(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HI(r,e=!1){const n=zt(r),a=await n.getIdToken(e),o=cg(a);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:a,authTime:su(zm(o.auth_time)),issuedAtTime:su(zm(o.iat)),expirationTime:su(zm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function zm(r){return Number(r)*1e3}function cg(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return wh("JWT malformed, contained fewer than 3 sections"),null;try{const o=F1(n);return o?JSON.parse(o):(wh("Failed to decode base64 JWT payload"),null)}catch(o){return wh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function m1(r){const e=cg(r);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function gu(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof gr&&qI(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function qI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class FI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class pp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=su(this.lastLoginAt),this.creationTime=su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qh(r){const e=r.auth,n=await r.getIdToken(),a=await gu(r,Gh(e,{idToken:n}));_e(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?HT(o.providerUserInfo):[],f=QI(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,p=m?g:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new pp(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,T)}async function GI(r){const e=zt(r);await Qh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QI(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function HT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function KI(r,e){const n=await zT(r,{},async()=>{const a=Tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await BT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:a};return r.emulatorConfig&&Ro(r.emulatorConfig.host)&&(g.credentials="include"),UT.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function YI(r,e){return va(r,"POST","/v2/accounts:revokeToken",ya(r,e))}class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):m1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=m1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await KI(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,f=new fo;return a&&(_e(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(_e(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return sr("not implemented")}}function Jr(r,e){_e(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ni{constructor({uid:e,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new FI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new pp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await gu(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return HI(this,e)}reload(){return GI(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ni({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Qh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(ur(this.auth));const e=await this.getIdToken();return await gu(this,BI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:S,emailVerified:R,isAnonymous:w,providerData:P,stsTokenManager:K}=n;_e(S&&K,e,"internal-error");const F=fo.fromJSON(this.name,K);_e(typeof S=="string",e,"internal-error"),Jr(a,e.name),Jr(o,e.name),_e(typeof R=="boolean",e,"internal-error"),_e(typeof w=="boolean",e,"internal-error"),Jr(u,e.name),Jr(f,e.name),Jr(m,e.name),Jr(g,e.name),Jr(p,e.name),Jr(T,e.name);const ne=new ni({uid:S,auth:e,email:o,emailVerified:R,displayName:a,isAnonymous:w,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:F,createdAt:p,lastLoginAt:T});return P&&Array.isArray(P)&&(ne.providerData=P.map(ie=>({...ie}))),g&&(ne._redirectEventId=g),ne}static async _fromIdTokenResponse(e,n,a=!1){const o=new fo;o.updateFromServerResponse(n);const u=new ni({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Qh(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?HT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new fo;m.updateFromIdToken(a);const g=new ni({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new pp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}const p1=new Map;function or(r){mr(r instanceof Function,"Expected a class definition");let e=p1.get(r);return e?(mr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,p1.set(r,e),e)}class qT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qT.type="NONE";const g1=qT;function Rh(r,e,n){return`firebase:${r}:${e}:${n}`}class mo{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Rh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Rh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Gh(this.auth,{idToken:e}).catch(()=>{});return n?ni._fromGetAccountInfoResponse(this.auth,n,e):null}return ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new mo(or(g1),e,a);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||or(g1);const f=Rh(a,e.config.apiKey,e.name);let m=null;for(const p of n)try{const T=await p._get(f);if(T){let S;if(typeof T=="string"){const R=await Gh(e,{idToken:T}).catch(()=>{});if(!R)break;S=await ni._fromGetAccountInfoResponse(e,R,T)}else S=ni._fromJSON(e,T);p!==u&&(m=S),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new mo(u,e,a):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new mo(u,e,a))}}function y1(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XT(e))return"Blackberry";if($T(e))return"Webos";if(GT(e))return"Safari";if((e.includes("chrome/")||QT(e))&&!e.includes("edge/"))return"Chrome";if(YT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if(a?.length===2)return a[1]}return"Other"}function FT(r=en()){return/firefox\//i.test(r)}function GT(r=en()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QT(r=en()){return/crios\//i.test(r)}function KT(r=en()){return/iemobile/i.test(r)}function YT(r=en()){return/android/i.test(r)}function XT(r=en()){return/blackberry/i.test(r)}function $T(r=en()){return/webos/i.test(r)}function hg(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function XI(r=en()){return hg(r)&&!!window.navigator?.standalone}function $I(){return XA()&&document.documentMode===10}function JT(r=en()){return hg(r)||YT(r)||$T(r)||XT(r)||/windows phone/i.test(r)||KT(r)}function ZT(r,e=[]){let n;switch(r){case"Browser":n=y1(en());break;case"Worker":n=`${y1(en())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Co}/${a}`}class JI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function ZI(r,e={}){return va(r,"GET","/v2/passwordPolicy",ya(r,e))}const WI=6;class eN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??WI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class tN{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v1(this),this.idTokenSubscription=new v1(this),this.beforeStateQueue=new JI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=or(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Gh(this,{idToken:e}),a=await ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ln(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(ur(this));const n=e?zt(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZI(this),n=new eN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Eu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await YI(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&or(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,a,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&xI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function fs(r){return zt(r)}class v1{constructor(e){this.auth=e,this.observer=null,this.addObserver=iw(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ef={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nN(r){Ef=r}function WT(r){return Ef.loadJS(r)}function iN(){return Ef.recaptchaEnterpriseScript}function rN(){return Ef.gapiScript}function aN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class sN{constructor(){this.enterprise=new oN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class oN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const lN="recaptcha-enterprise",eS="NO_RECAPTCHA";class uN{constructor(e){this.type=lN,this.auth=fs(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{zI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new UI(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,f(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;d1(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{f(p)}).catch(()=>{f(eS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new sN().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{a(this.auth).then(m=>{if(!n&&d1(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=iN();g.length!==0&&(g+=m),WT(g).then(()=>{o(m,u,f)}).catch(p=>{f(p)})}}).catch(m=>{f(m)})})}}async function _1(r,e,n,a=!1,o=!1){const u=new uN(r);let f;if(o)f=eS;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function gp(r,e,n,a,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await _1(r,e,n,n==="getOobCode");return a(r,u)}else return a(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await _1(r,e,n,n==="getOobCode");return a(r,f)}else return Promise.reject(u)})}function cN(r,e){const n=Cp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ns(u,e??{}))return o;ai(o,"already-initialized")}return n.initialize({options:e})}function hN(r,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(or);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function fN(r,e,n){const a=fs(r);_e(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=tS(e),{host:f,port:m}=dN(e),g=m===null?"":`:${m}`,p={url:`${u}//${f}${g}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){_e(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_e(ns(p,a.config.emulator)&&ns(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=p,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,Ro(f)?(Y1(`${u}//${f}${g}`),X1("Auth",!0)):mN()}function tS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function dN(r){const e=tS(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:E1(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:E1(f)}}}function E1(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function mN(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class fg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return sr("not implemented")}_getIdTokenResponse(e){return sr("not implemented")}_linkToIdToken(e,n){return sr("not implemented")}_getReauthenticationResolver(e){return sr("not implemented")}}async function pN(r,e){return va(r,"POST","/v1/accounts:signUp",e)}async function gN(r,e){return Nu(r,"POST","/v1/accounts:signInWithPassword",ya(r,e))}async function yN(r,e){return Nu(r,"POST","/v1/accounts:signInWithEmailLink",ya(r,e))}async function vN(r,e){return Nu(r,"POST","/v1/accounts:signInWithEmailLink",ya(r,e))}class yu extends fg{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new yu(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new yu(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gp(e,n,"signInWithPassword",gN);case"emailLink":return yN(e,{email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gp(e,a,"signUpPassword",pN);case"emailLink":return vN(e,{idToken:n,email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function po(r,e){return Nu(r,"POST","/v1/accounts:signInWithIdp",ya(r,e))}const _N="http://localhost";class ss extends fg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ss(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...u}=n;if(!a||!o)return null;const f=new ss(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return po(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,po(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,po(e,n)}buildRequest(){const e={requestUri:_N,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tu(n)}return e}}function EN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TN(r){const e=Kl(Yl(r)).link,n=e?Kl(Yl(e)).deep_link_id:null,a=Kl(Yl(r)).deep_link_id;return(a?Kl(Yl(a)).link:null)||a||n||e||r}class dg{constructor(e){const n=Kl(Yl(e)),a=n.apiKey??null,o=n.oobCode??null,u=EN(n.mode??null);_e(a&&o&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=TN(e);try{return new dg(n)}catch{return null}}}class Mo{constructor(){this.providerId=Mo.PROVIDER_ID}static credential(e,n){return yu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=dg.parseLink(n);return _e(a,"argument-error"),yu._fromEmailAndCode(e,a.code,a.tenantId)}}Mo.PROVIDER_ID="password";Mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class nS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class xu extends nS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Zr extends xu{constructor(){super("facebook.com")}static credential(e){return ss._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";class Wr extends xu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ss._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Wr.credential(n,a)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";class ea extends xu{constructor(){super("github.com")}static credential(e){return ss._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ea.credential(e.oauthAccessToken)}catch{return null}}}ea.GITHUB_SIGN_IN_METHOD="github.com";ea.PROVIDER_ID="github.com";class ta extends xu{constructor(){super("twitter.com")}static credential(e,n){return ss._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return ta.credential(n,a)}catch{return null}}}ta.TWITTER_SIGN_IN_METHOD="twitter.com";ta.PROVIDER_ID="twitter.com";async function SN(r,e){return Nu(r,"POST","/v1/accounts:signUp",ya(r,e))}class os{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await ni._fromIdTokenResponse(e,a,o),f=T1(a);return new os({user:u,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=T1(a);return new os({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function T1(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Kh extends gr{constructor(e,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Kh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new Kh(e,n,a,o)}}function iS(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Kh._fromErrorAndOperation(r,u,e,a):u})}async function bN(r,e,n=!1){const a=await gu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return os._forOperation(r,"link",a)}async function AN(r,e,n=!1){const{auth:a}=r;if(Ln(a.app))return Promise.reject(ur(a));const o="reauthenticate";try{const u=await gu(r,iS(a,o,e,r),n);_e(u.idToken,a,"internal-error");const f=cg(u.idToken);_e(f,a,"internal-error");const{sub:m}=f;return _e(r.uid===m,a,"user-mismatch"),os._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ai(a,"user-mismatch"),u}}async function rS(r,e,n=!1){if(Ln(r.app))return Promise.reject(ur(r));const a="signIn",o=await iS(r,a,e),u=await os._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(u.user),u}async function wN(r,e){return rS(fs(r),e)}async function aS(r){const e=fs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function RN(r,e,n){if(Ln(r.app))return Promise.reject(ur(r));const a=fs(r),f=await gp(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",SN).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&aS(r),g}),m=await os._fromIdTokenResponse(a,"signIn",f);return await a._updateCurrentUser(m.user),m}function CN(r,e,n){return Ln(r.app)?Promise.reject(ur(r)):wN(zt(r),Mo.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&aS(r),a})}function IN(r,e,n,a){return zt(r).onIdTokenChanged(e,n,a)}function NN(r,e,n){return zt(r).beforeAuthStateChanged(e,n)}function xN(r,e,n,a){return zt(r).onAuthStateChanged(e,n,a)}function DN(r){return zt(r).signOut()}const Yh="__sak";class sS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yh,"1"),this.storage.removeItem(Yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ON=1e3,MN=10;class oS extends sS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);$I()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,MN):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},ON)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}oS.type="LOCAL";const VN=oS;class lS extends sS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}lS.type="SESSION";const uS=lS;function jN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Tf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new Tf(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(f).map(async p=>p(n.origin,u)),g=await jN(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tf.receivers=[];function mg(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}class PN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const p=mg("",20);o.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(S){const R=S;if(R.data.eventId===p)switch(R.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Pi(){return window}function LN(r){Pi().location.href=r}function cS(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function kN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UN(){return navigator?.serviceWorker?.controller||null}function zN(){return cS()?self:null}const hS="firebaseLocalStorageDb",BN=1,Xh="firebaseLocalStorage",fS="fbase_key";class Du{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sf(r,e){return r.transaction([Xh],e?"readwrite":"readonly").objectStore(Xh)}function HN(){const r=indexedDB.deleteDatabase(hS);return new Du(r).toPromise()}function yp(){const r=indexedDB.open(hS,BN);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Xh,{keyPath:fS})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Xh)?e(a):(a.close(),await HN(),e(await yp()))})})}async function S1(r,e,n){const a=Sf(r,!0).put({[fS]:e,value:n});return new Du(a).toPromise()}async function qN(r,e){const n=Sf(r,!1).get(e),a=await new Du(n).toPromise();return a===void 0?null:a.value}function b1(r,e){const n=Sf(r,!0).delete(e);return new Du(n).toPromise()}const FN=800,GN=3;class dS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>GN)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tf._getInstance(zN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await kN(),!this.activeServiceWorker)return;this.sender=new PN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yp();return await S1(e,Yh,"1"),await b1(e,Yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>S1(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>qN(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>b1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Sf(o,!1).getAll();return new Du(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dS.type="LOCAL";const QN=dS;new Iu(3e4,6e4);function KN(r,e){return e?or(e):(_e(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class pg extends fg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function YN(r){return rS(r.auth,new pg(r),r.bypassAuthState)}function XN(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),AN(n,new pg(r),r.bypassAuthState)}async function $N(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),bN(n,new pg(r),r.bypassAuthState)}class mS{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YN;case"linkViaPopup":case"linkViaRedirect":return $N;case"reauthViaPopup":case"reauthViaRedirect":return XN;default:ai(this.auth,"internal-error")}}resolve(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const JN=new Iu(2e3,1e4);class lo extends mS{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,lo.currentPopupAction&&lo.currentPopupAction.cancel(),lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){mr(this.filter.length===1,"Popup operations only handle one event");const e=mg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JN.get())};e()}}lo.currentPopupAction=null;const ZN="pendingRedirect",Ch=new Map;class WN extends mS{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Ch.get(this.auth._key());if(!e){try{const a=await ex(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Ch.set(this.auth._key(),e)}return this.bypassAuthState||Ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ex(r,e){const n=ix(e),a=nx(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function tx(r,e){Ch.set(r._key(),e)}function nx(r){return or(r._redirectPersistence)}function ix(r){return Rh(ZN,r.config.apiKey,r.name)}async function rx(r,e,n=!1){if(Ln(r.app))return Promise.reject(ur(r));const a=fs(r),o=KN(a,e),f=await new WN(a,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}const ax=600*1e3;class sx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ox(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!pS(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ji(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ax&&this.cachedEventUids.clear(),this.cachedEventUids.has(A1(e))}saveEventToCache(e){this.cachedEventUids.add(A1(e)),this.lastProcessedEventTime=Date.now()}}function A1(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function pS({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function ox(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pS(r);default:return!1}}async function lx(r,e={}){return va(r,"GET","/v1/projects",e)}const ux=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cx=/^https?/;async function hx(r){if(r.config.emulator)return;const{authorizedDomains:e}=await lx(r);for(const n of e)try{if(fx(n))return}catch{}ai(r,"unauthorized-domain")}function fx(r){const e=mp(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!cx.test(n))return!1;if(ux.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const dx=new Iu(3e4,6e4);function w1(){const r=Pi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function mx(r){return new Promise((e,n)=>{function a(){w1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w1(),n(ji(r,"network-request-failed"))},timeout:dx.get()})}if(Pi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Pi().gapi?.load)a();else{const o=aN("iframefcb");return Pi()[o]=()=>{gapi.load?a():n(ji(r,"network-request-failed"))},WT(`${rN()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Ih=null,e})}let Ih=null;function px(r){return Ih=Ih||mx(r),Ih}const gx=new Iu(5e3,15e3),yx="__/auth/iframe",vx="emulator/auth/iframe",_x={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ex=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tx(r){const e=r.config;_e(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?ug(e,vx):`https://${r.config.authDomain}/${yx}`,a={apiKey:e.apiKey,appName:r.name,v:Co},o=Ex.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${Tu(a).slice(1)}`}async function Sx(r){const e=await px(r),n=Pi().gapi;return _e(n,r,"internal-error"),e.open({where:document.body,url:Tx(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_x,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=ji(r,"network-request-failed"),m=Pi().setTimeout(()=>{u(f)},gx.get());function g(){Pi().clearTimeout(m),o(a)}a.ping(g).then(g,()=>{u(f)})}))}const bx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ax=500,wx=600,Rx="_blank",Cx="http://localhost";class R1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ix(r,e,n,a=Ax,o=wx){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const g={...bx,width:a.toString(),height:o.toString(),top:u,left:f},p=en().toLowerCase();n&&(m=QT(p)?Rx:n),FT(p)&&(e=e||Cx,g.scrollbars="yes");const T=Object.entries(g).reduce((R,[w,P])=>`${R}${w}=${P},`,"");if(XI(p)&&m!=="_self")return Nx(e||"",m),new R1(null);const S=window.open(e||"",m,T);_e(S,r,"popup-blocked");try{S.focus()}catch{}return new R1(S)}function Nx(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const xx="__/auth/handler",Dx="emulator/auth/handler",Ox=encodeURIComponent("fac");async function C1(r,e,n,a,o,u){_e(r.config.authDomain,r,"auth-domain-config-required"),_e(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:Co,eventId:o};if(e instanceof nS){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",nw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,S]of Object.entries({}))f[T]=S}if(e instanceof xu){const T=e.getScopes().filter(S=>S!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const g=await r._getAppCheckToken(),p=g?`#${Ox}=${encodeURIComponent(g)}`:"";return`${Mx(r)}?${Tu(m).slice(1)}${p}`}function Mx({config:r}){return r.emulator?ug(r,Dx):`https://${r.authDomain}/${xx}`}const Bm="webStorageSupport";class Vx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uS,this._completeRedirectFn=rx,this._overrideRedirectResult=tx}async _openPopup(e,n,a,o){mr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await C1(e,n,a,mp(),o);return Ix(e,u,mg())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await C1(e,n,a,mp(),o);return LN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(mr(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await Sx(e),a=new sx(e);return n.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bm,{type:Bm},o=>{const u=o?.[0]?.[Bm];u!==void 0&&n(!!u),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hx(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return JT()||GT()||hg()}}const jx=Vx;var I1="@firebase/auth",N1="1.11.1";class Px{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Lx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kx(r){_o(new is("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=a.options;_e(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZT(r)},p=new tN(a,o,u,g);return hN(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),_o(new is("auth-internal",e=>{const n=fs(e.getProvider("auth").getImmediate());return(a=>new Px(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),sa(I1,N1,Lx(r)),sa(I1,N1,"esm2020")}const Ux=300,zx=K1("authIdTokenMaxAge")||Ux;let x1=null;const Bx=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>zx)return;const o=n?.token;x1!==o&&(x1=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Hx(r=W1()){const e=Cp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=cN(r,{popupRedirectResolver:jx,persistence:[QN,VN,uS]}),a=K1("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=Bx(u.toString());NN(n,f,()=>f(n.currentUser)),IN(n,m=>f(m))}}const o=G1("auth");return o&&fN(n,`http://${o}`),n}function qx(){return document.getElementsByTagName("head")?.[0]??document}nN({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=ji("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",qx().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kx("Browser");const Fx={apiKey:"AIzaSyMockKey123456789012345678901234567890",authDomain:"mock-project-id.firebaseapp.com",projectId:"mock-project-idr",storageBucket:"mock-project-id.appspot.com",messagingSenderId:"123456789012",appId:"1:123456789012:web:abcdef1234567890abcdef"},gS=Z1(Fx),eu=dI(gS),gh=Hx(gS);function go(r){if(typeof r=="string")return r;switch(r?.code||""){case"auth/user-not-found":return"Usurio no encontrado. Verifique seu email.";case"auth/wrong-password":return"Senha incorreta. Tente novamente.";case"auth/invalid-email":return"Email invlido. Verifique o formato.";case"auth/too-many-requests":return"Muitas tentativas. Tente novamente em alguns minutos.";case"auth/user-disabled":return"Conta desabilitada. Entre em contato com o suporte.";case"auth/network-request-failed":return"Erro de conexo. Verifique sua internet.";case"auth/invalid-api-key":return"Erro de configurao. Entre em contato com o suporte.";default:return"Erro inesperado. Tente novamente."}}const yh={async logOut(){try{await DN(gh)}catch(r){const e=go(r);throw new Error(e)}},async login(r){try{const n=(await CN(gh,r.email,r.password)).user,a=await u1(ia(eu,"users",n.uid));if(!a.exists())throw new Error("Usurio no encontrado");const u={...a.data(),lastLogin:new Date};return await c1(ia(eu,"users",n.uid),u),u}catch(e){const n=go(e);throw new Error(n)}},async register(r){try{if(!r.email||!r.password||!r.name)throw new Error("Todos os campos so obrigatrios");if(r.password.length<6)throw new Error("A senha deve ter pelo menos 6 caracteres");const n=(await RN(gh,r.email,r.password)).user,a={uid:n.uid,name:r.name,email:r.email,createdAt:new Date,updatedAt:new Date,role:r.role||"user"};return await c1(ia(eu,"users",n.uid),a),a}catch(e){const n=go(e);throw new Error(n)}},observeAuthState(r){try{return xN(gh,async e=>{if(console.log(" Auth state changed:",e?e.uid:"null"),e)try{const n=await u1(ia(eu,"users",e.uid));if(n.exists()){const a=n.data();console.log(" Usurio autenticado:",a),r(a)}else console.log(" Usurio no encontrado no Firestore"),r(null)}catch(n){console.error(" Erro ao buscar dados do usurio:",n),r(null)}else console.log(" Usurio deslogado"),r(null)})}catch(e){throw new Error("Erro ao observar estado de autenticao: "+e)}}},yS=z.createContext(void 0);function Gx({children:r}){const[e,n]=z.useState(null),[a,o]=z.useState(!0),[u,f]=z.useState(null);z.useEffect(()=>{const R=yh.observeAuthState(w=>{n(w),o(!1)});return()=>R()},[]);const S={user:e,loading:a,error:u,login:async R=>{try{o(!0),f(null);const w=await yh.login(R);n(w),o(!1)}catch(w){const P=go(w);throw f(P),o(!1),n(null),new Error(P)}},register:async R=>{try{o(!0),f(null),await yh.register(R),n(null),o(!1)}catch(w){const P=go(w);f(P),o(!1),n(null)}},logOut:async()=>{try{o(!0),f(null),await yh.logOut(),n(null),o(!1)}catch(R){const w=go(R);throw f(w),o(!1),new Error(w)}},clearError:()=>{f(null)}};return y.jsx(yS.Provider,{value:S,children:r})}var D1="popstate";function Qx(r={}){function e(a,o){let{pathname:u,search:f,hash:m}=a.location;return vp("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:vu(o)}return Yx(e,n,null,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function zn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Kx(){return Math.random().toString(36).substring(2,10)}function O1(r,e){return{usr:r.state,key:r.key,idx:e}}function vp(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Vo(e):e,state:n,key:e&&e.key||a||Kx()}}function vu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Vo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function Yx(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,m="POP",g=null,p=T();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function T(){return(f.state||{idx:null}).idx}function S(){m="POP";let F=T(),ne=F==null?null:F-p;p=F,g&&g({action:m,location:K.location,delta:ne})}function R(F,ne){m="PUSH";let ie=vp(K.location,F,ne);p=T()+1;let re=O1(ie,p),ve=K.createHref(ie);try{f.pushState(re,"",ve)}catch(Se){if(Se instanceof DOMException&&Se.name==="DataCloneError")throw Se;o.location.assign(ve)}u&&g&&g({action:m,location:K.location,delta:1})}function w(F,ne){m="REPLACE";let ie=vp(K.location,F,ne);p=T();let re=O1(ie,p),ve=K.createHref(ie);f.replaceState(re,"",ve),u&&g&&g({action:m,location:K.location,delta:0})}function P(F){return Xx(F)}let K={get action(){return m},get location(){return r(o,f)},listen(F){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(D1,S),g=F,()=>{o.removeEventListener(D1,S),g=null}},createHref(F){return e(o,F)},createURL:P,encodeLocation(F){let ne=P(F);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:R,replace:w,go(F){return f.go(F)}};return K}function Xx(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:vu(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function vS(r,e,n="/"){return $x(r,e,n,!1)}function $x(r,e,n,a){let o=typeof e=="string"?Vo(e):e,u=pr(o.pathname||"/",n);if(u==null)return null;let f=_S(r);Jx(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let p=lD(u);m=sD(f[g],p,a)}return m}function _S(r,e=[],n=[],a="",o=!1){let u=(f,m,g=o,p)=>{let T={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(a)&&g)return;ut(T.relativePath.startsWith(a),`Absolute route path "${T.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(a.length)}let S=cr([a,T.relativePath]),R=n.concat(T);f.children&&f.children.length>0&&(ut(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),_S(f.children,e,R,S,g)),!(f.path==null&&!f.index)&&e.push({path:S,score:rD(S,f.index),routesMeta:R})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of ES(f.path))u(f,m,!0,g)}),e}function ES(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=ES(a.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function Jx(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:aD(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var Zx=/^:[\w-]+$/,Wx=3,eD=2,tD=1,nD=10,iD=-2,M1=r=>r==="*";function rD(r,e){let n=r.split("/"),a=n.length;return n.some(M1)&&(a+=iD),e&&(a+=eD),n.filter(o=>!M1(o)).reduce((o,u)=>o+(Zx.test(u)?Wx:u===""?tD:nD),a)}function aD(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function sD(r,e,n=!1){let{routesMeta:a}=r,o={},u="/",f=[];for(let m=0;m<a.length;++m){let g=a[m],p=m===a.length-1,T=u==="/"?e:e.slice(u.length)||"/",S=$h({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},T),R=g.route;if(!S&&p&&n&&!a[a.length-1].route.index&&(S=$h({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},T)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:cr([u,S.pathname]),pathnameBase:dD(cr([u,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(u=cr([u,S.pathnameBase]))}return f}function $h(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=oD(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((p,{paramName:T,isOptional:S},R)=>{if(T==="*"){let P=m[R]||"";f=u.slice(0,u.length-P.length).replace(/(.)\/+$/,"$1")}const w=m[R];return S&&!w?p[T]=void 0:p[T]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:r}}function oD(r,e=!1,n=!0){zn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(a.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function lD(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function pr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}var uD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cD=r=>uD.test(r);function hD(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?Vo(r):r,u;if(n)if(cD(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),zn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=V1(n.substring(1),"/"):u=V1(n,e)}else u=e;return{pathname:u,search:mD(a),hash:pD(o)}}function V1(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Hm(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fD(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function gg(r){let e=fD(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function yg(r,e,n,a=!1){let o;typeof r=="string"?o=Vo(r):(o={...r},ut(!o.pathname||!o.pathname.includes("?"),Hm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Hm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Hm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!a&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),S-=1;o.pathname=R.join("/")}m=S>=0?e[S]:"/"}let g=hD(o,m),p=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||T)&&(g.pathname+="/"),g}var cr=r=>r.join("/").replace(/\/\/+/g,"/"),dD=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),mD=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,pD=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function gD(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var TS=["POST","PUT","PATCH","DELETE"];new Set(TS);var yD=["GET",...TS];new Set(yD);var jo=z.createContext(null);jo.displayName="DataRouter";var bf=z.createContext(null);bf.displayName="DataRouterState";z.createContext(!1);var SS=z.createContext({isTransitioning:!1});SS.displayName="ViewTransition";var vD=z.createContext(new Map);vD.displayName="Fetchers";var _D=z.createContext(null);_D.displayName="Await";var si=z.createContext(null);si.displayName="Navigation";var Ou=z.createContext(null);Ou.displayName="Location";var ki=z.createContext({outlet:null,matches:[],isDataRoute:!1});ki.displayName="Route";var vg=z.createContext(null);vg.displayName="RouteError";function ED(r,{relative:e}={}){ut(Po(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=z.useContext(si),{hash:o,pathname:u,search:f}=Vu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:cr([n,u])),a.createHref({pathname:m,search:f,hash:o})}function Po(){return z.useContext(Ou)!=null}function yr(){return ut(Po(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Ou).location}var bS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AS(r){z.useContext(si).static||z.useLayoutEffect(r)}function Mu(){let{isDataRoute:r}=z.useContext(ki);return r?MD():TD()}function TD(){ut(Po(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(jo),{basename:e,navigator:n}=z.useContext(si),{matches:a}=z.useContext(ki),{pathname:o}=yr(),u=JSON.stringify(gg(a)),f=z.useRef(!1);return AS(()=>{f.current=!0}),z.useCallback((g,p={})=>{if(zn(f.current,bS),!f.current)return;if(typeof g=="number"){n.go(g);return}let T=yg(g,JSON.parse(u),o,p.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:cr([e,T.pathname])),(p.replace?n.replace:n.push)(T,p.state,p)},[e,n,u,o,r])}z.createContext(null);function Vu(r,{relative:e}={}){let{matches:n}=z.useContext(ki),{pathname:a}=yr(),o=JSON.stringify(gg(n));return z.useMemo(()=>yg(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function SD(r,e){return wS(r,e)}function wS(r,e,n,a,o){ut(Po(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=z.useContext(si),{matches:f}=z.useContext(ki),m=f[f.length-1],g=m?m.params:{},p=m?m.pathname:"/",T=m?m.pathnameBase:"/",S=m&&m.route;{let ie=S&&S.path||"";RS(p,!S||ie.endsWith("*")||ie.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${ie}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ie}"> to <Route path="${ie==="/"?"*":`${ie}/*`}">.`)}let R=yr(),w;if(e){let ie=typeof e=="string"?Vo(e):e;ut(T==="/"||ie.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${ie.pathname}" was given in the \`location\` prop.`),w=ie}else w=R;let P=w.pathname||"/",K=P;if(T!=="/"){let ie=T.replace(/^\//,"").split("/");K="/"+P.replace(/^\//,"").split("/").slice(ie.length).join("/")}let F=vS(r,{pathname:K});zn(S||F!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),zn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=CD(F&&F.map(ie=>Object.assign({},ie,{params:Object.assign({},g,ie.params),pathname:cr([T,u.encodeLocation?u.encodeLocation(ie.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathname]),pathnameBase:ie.pathnameBase==="/"?T:cr([T,u.encodeLocation?u.encodeLocation(ie.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathnameBase])})),f,n,a,o);return e&&ne?z.createElement(Ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},ne):ne}function bD(){let r=OD(),e=gD(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,f)}var AD=z.createElement(bD,null),wD=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?z.createElement(ki.Provider,{value:this.props.routeContext},z.createElement(vg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RD({routeContext:r,match:e,children:n}){let a=z.useContext(jo);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(ki.Provider,{value:r},n)}function CD(r,e=[],n=null,a=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let T=u.findIndex(S=>S.route.id&&f?.[S.route.id]!==void 0);ut(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,T+1))}let m=!1,g=-1;if(n)for(let T=0;T<u.length;T++){let S=u[T];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(g=T),S.route.id){let{loaderData:R,errors:w}=n,P=S.route.loader&&!R.hasOwnProperty(S.route.id)&&(!w||w[S.route.id]===void 0);if(S.route.lazy||P){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let p=n&&a?(T,S)=>{a(T,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:S})}:void 0;return u.reduceRight((T,S,R)=>{let w,P=!1,K=null,F=null;n&&(w=f&&S.route.id?f[S.route.id]:void 0,K=S.route.errorElement||AD,m&&(g<0&&R===0?(RS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,F=null):g===R&&(P=!0,F=S.route.hydrateFallbackElement||null)));let ne=e.concat(u.slice(0,R+1)),ie=()=>{let re;return w?re=K:P?re=F:S.route.Component?re=z.createElement(S.route.Component,null):S.route.element?re=S.route.element:re=T,z.createElement(RD,{match:S,routeContext:{outlet:T,matches:ne,isDataRoute:n!=null},children:re})};return n&&(S.route.ErrorBoundary||S.route.errorElement||R===0)?z.createElement(wD,{location:n.location,revalidation:n.revalidation,component:K,error:w,children:ie(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:p}):ie()},null)}function _g(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ID(r){let e=z.useContext(jo);return ut(e,_g(r)),e}function ND(r){let e=z.useContext(bf);return ut(e,_g(r)),e}function xD(r){let e=z.useContext(ki);return ut(e,_g(r)),e}function Eg(r){let e=xD(r),n=e.matches[e.matches.length-1];return ut(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function DD(){return Eg("useRouteId")}function OD(){let r=z.useContext(vg),e=ND("useRouteError"),n=Eg("useRouteError");return r!==void 0?r:e.errors?.[n]}function MD(){let{router:r}=ID("useNavigate"),e=Eg("useNavigate"),n=z.useRef(!1);return AS(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{zn(n.current,bS),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var j1={};function RS(r,e,n){!e&&!j1[r]&&(j1[r]=!0,zn(!1,n))}z.memo(VD);function VD({routes:r,future:e,state:n,unstable_onError:a}){return wS(r,void 0,n,a,e)}function jD({to:r,replace:e,state:n,relative:a}){ut(Po(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=z.useContext(si);zn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=z.useContext(ki),{pathname:f}=yr(),m=Mu(),g=yg(r,gg(u),f,a==="path"),p=JSON.stringify(g);return z.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:a})},[m,p,a,e,n]),null}function Wn(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PD({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){ut(!Po(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=z.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Vo(n));let{pathname:g="/",search:p="",hash:T="",state:S=null,key:R="default"}=n,w=z.useMemo(()=>{let P=pr(g,f);return P==null?null:{location:{pathname:P,search:p,hash:T,state:S,key:R},navigationType:a}},[f,g,p,T,S,R,a]);return zn(w!=null,`<Router basename="${f}"> is not able to match the URL "${g}${p}${T}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:z.createElement(si.Provider,{value:m},z.createElement(Ou.Provider,{children:e,value:w}))}function LD({children:r,location:e}){return SD(_p(r),e)}function _p(r,e=[]){let n=[];return z.Children.forEach(r,(a,o)=>{if(!z.isValidElement(a))return;let u=[...e,o];if(a.type===z.Fragment){n.push.apply(n,_p(a.props.children,u));return}ut(a.type===Wn,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=_p(a.props.children,u)),n.push(f)}),n}var Nh="get",xh="application/x-www-form-urlencoded";function Af(r){return r!=null&&typeof r.tagName=="string"}function kD(r){return Af(r)&&r.tagName.toLowerCase()==="button"}function UD(r){return Af(r)&&r.tagName.toLowerCase()==="form"}function zD(r){return Af(r)&&r.tagName.toLowerCase()==="input"}function BD(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function HD(r,e){return r.button===0&&(!e||e==="_self")&&!BD(r)}var vh=null;function qD(){if(vh===null)try{new FormData(document.createElement("form"),0),vh=!1}catch{vh=!0}return vh}var FD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qm(r){return r!=null&&!FD.has(r)?(zn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xh}"`),null):r}function GD(r,e){let n,a,o,u,f;if(UD(r)){let m=r.getAttribute("action");a=m?pr(m,e):null,n=r.getAttribute("method")||Nh,o=qm(r.getAttribute("enctype"))||xh,u=new FormData(r)}else if(kD(r)||zD(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(a=g?pr(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Nh,o=qm(r.getAttribute("formenctype"))||qm(m.getAttribute("enctype"))||xh,u=new FormData(m,r),!qD()){let{name:p,type:T,value:S}=r;if(T==="image"){let R=p?`${p}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else p&&u.append(p,S)}}else{if(Af(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nh,a=null,o=xh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function QD(r,e,n){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&pr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function KD(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YD(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function XD(r,e,n){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await KD(u,n);return f.links?f.links():[]}return[]}));return WD(a.flat(1).filter(YD).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function P1(r,e,n,a,o,u){let f=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>f(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let T=a.routes[g.route.id];if(!T||!T.hasLoader)return!1;if(f(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function $D(r,e,{includeHydrateFallback:n}={}){return JD(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function JD(r){return[...new Set(r)]}function ZD(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function WD(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(ZD(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function CS(){let r=z.useContext(jo);return Tg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function e4(){let r=z.useContext(bf);return Tg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Sg=z.createContext(void 0);Sg.displayName="FrameworkContext";function IS(){let r=z.useContext(Sg);return Tg(r,"You must render this element inside a <HydratedRouter> element"),r}function t4(r,e){let n=z.useContext(Sg),[a,o]=z.useState(!1),[u,f]=z.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:T,onTouchStart:S}=e,R=z.useRef(null);z.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let K=ne=>{ne.forEach(ie=>{f(ie.isIntersecting)})},F=new IntersectionObserver(K,{threshold:.5});return R.current&&F.observe(R.current),()=>{F.disconnect()}}},[r]),z.useEffect(()=>{if(a){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[a]);let w=()=>{o(!0)},P=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:Fl(m,w),onBlur:Fl(g,P),onMouseEnter:Fl(p,w),onMouseLeave:Fl(T,P),onTouchStart:Fl(S,w)}]:[!1,R,{}]}function Fl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function n4({page:r,...e}){let{router:n}=CS(),a=z.useMemo(()=>vS(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?z.createElement(r4,{page:r,matches:a,...e}):null}function i4(r){let{manifest:e,routeModules:n}=IS(),[a,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return XD(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),a}function r4({page:r,matches:e,...n}){let a=yr(),{manifest:o,routeModules:u}=IS(),{basename:f}=CS(),{loaderData:m,matches:g}=e4(),p=z.useMemo(()=>P1(r,e,g,o,a,"data"),[r,e,g,o,a]),T=z.useMemo(()=>P1(r,e,g,o,a,"assets"),[r,e,g,o,a]),S=z.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let P=new Set,K=!1;if(e.forEach(ne=>{let ie=o.routes[ne.route.id];!ie||!ie.hasLoader||(!p.some(re=>re.route.id===ne.route.id)&&ne.route.id in m&&u[ne.route.id]?.shouldRevalidate||ie.hasClientLoader?K=!0:P.add(ne.route.id))}),P.size===0)return[];let F=QD(r,f,"data");return K&&P.size>0&&F.searchParams.set("_routes",e.filter(ne=>P.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[F.pathname+F.search]},[f,m,a,o,p,e,r,u]),R=z.useMemo(()=>$D(T,o),[T,o]),w=i4(T);return z.createElement(z.Fragment,null,S.map(P=>z.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),R.map(P=>z.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),w.map(({key:P,link:K})=>z.createElement("link",{key:P,nonce:n.nonce,...K})))}function a4(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var NS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NS&&(window.__reactRouterVersion="7.9.6")}catch{}function s4({basename:r,children:e,window:n}){let a=z.useRef();a.current==null&&(a.current=Qx({window:n,v5Compat:!0}));let o=a.current,[u,f]=z.useState({action:o.action,location:o.location}),m=z.useCallback(g=>{z.startTransition(()=>f(g))},[f]);return z.useLayoutEffect(()=>o.listen(m),[o,m]),z.createElement(PD,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var xS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DS=z.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:p,preventScrollReset:T,viewTransition:S,...R},w){let{basename:P}=z.useContext(si),K=typeof p=="string"&&xS.test(p),F,ne=!1;if(typeof p=="string"&&K&&(F=p,NS))try{let N=new URL(window.location.href),C=p.startsWith("//")?new URL(N.protocol+p):new URL(p),V=pr(C.pathname,P);C.origin===N.origin&&V!=null?p=V+C.search+C.hash:ne=!0}catch{zn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=ED(p,{relative:o}),[re,ve,Se]=t4(a,R),Re=u4(p,{replace:f,state:m,target:g,preventScrollReset:T,relative:o,viewTransition:S});function x(N){e&&e(N),N.defaultPrevented||Re(N)}let I=z.createElement("a",{...R,...Se,href:F||ie,onClick:ne||u?e:x,ref:a4(w,ve),target:g,"data-discover":!K&&n==="render"?"true":void 0});return re&&!K?z.createElement(z.Fragment,null,I,z.createElement(n4,{page:ie})):I});DS.displayName="Link";var OS=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...p},T){let S=Vu(f,{relative:p.relative}),R=yr(),w=z.useContext(bf),{navigator:P,basename:K}=z.useContext(si),F=w!=null&&m4(S)&&m===!0,ne=P.encodeLocation?P.encodeLocation(S).pathname:S.pathname,ie=R.pathname,re=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),re=re?re.toLowerCase():null,ne=ne.toLowerCase()),re&&K&&(re=pr(re,K)||re);const ve=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let Se=ie===ne||!o&&ie.startsWith(ne)&&ie.charAt(ve)==="/",Re=re!=null&&(re===ne||!o&&re.startsWith(ne)&&re.charAt(ne.length)==="/"),x={isActive:Se,isPending:Re,isTransitioning:F},I=Se?e:void 0,N;typeof a=="function"?N=a(x):N=[a,Se?"active":null,Re?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let C=typeof u=="function"?u(x):u;return z.createElement(DS,{...p,"aria-current":I,className:N,ref:T,style:C,to:f,viewTransition:m},typeof g=="function"?g(x):g)});OS.displayName="NavLink";var o4=z.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:f=Nh,action:m,onSubmit:g,relative:p,preventScrollReset:T,viewTransition:S,...R},w)=>{let P=f4(),K=d4(m,{relative:p}),F=f.toLowerCase()==="get"?"get":"post",ne=typeof m=="string"&&xS.test(m),ie=re=>{if(g&&g(re),re.defaultPrevented)return;re.preventDefault();let ve=re.nativeEvent.submitter,Se=ve?.getAttribute("formmethod")||f;P(ve||re.currentTarget,{fetcherKey:e,method:Se,navigate:n,replace:o,state:u,relative:p,preventScrollReset:T,viewTransition:S})};return z.createElement("form",{ref:w,method:F,action:K,onSubmit:a?g:ie,...R,"data-discover":!ne&&r==="render"?"true":void 0})});o4.displayName="Form";function l4(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MS(r){let e=z.useContext(jo);return ut(e,l4(r)),e}function u4(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Mu(),g=yr(),p=Vu(r,{relative:u});return z.useCallback(T=>{if(HD(T,e)){T.preventDefault();let S=n!==void 0?n:vu(g)===vu(p);m(r,{replace:S,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,p,n,a,e,r,o,u,f])}var c4=0,h4=()=>`__${String(++c4)}__`;function f4(){let{router:r}=MS("useSubmit"),{basename:e}=z.useContext(si),n=DD();return z.useCallback(async(a,o={})=>{let{action:u,method:f,encType:m,formData:g,body:p}=GD(a,e);if(o.navigate===!1){let T=o.fetcherKey||h4();await r.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function d4(r,{relative:e}={}){let{basename:n}=z.useContext(si),a=z.useContext(ki);ut(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Vu(r||".",{relative:e})},f=yr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(T=>T==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:cr([n,u.pathname])),vu(u)}function m4(r,{relative:e}={}){let n=z.useContext(SS);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=MS("useViewTransitionState"),o=Vu(r,{relative:e});if(!n.isTransitioning)return!1;let u=pr(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=pr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return $h(o.pathname,f)!=null||$h(o.pathname,u)!=null}const ei={home:"/",login:"/login",register:"/register",dashboard:"/dashboard",premiosProdutividade:"/premios-produtividade",boletinsMedicao:"/boletins-medicao",documentacoes:"/documentacoes",cadernoVirtual:"/caderno-virtual",lancamentosDiarios:"/lancamentos-diarios",relatorios:"/relatorios"},wf=()=>{const r=z.useContext(yS);if(!r)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return r};function Gl({children:r}){const{user:e,loading:n}=wf();return n?y.jsx("div",{children:"Carregando..."}):e?y.jsx(y.Fragment,{children:r}):y.jsx(jD,{to:ei.login,replace:!0})}var VS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},L1=Za.createContext&&Za.createContext(VS),p4=["attr","size","title"];function g4(r,e){if(r==null)return{};var n=y4(r,e),a,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)a=u[o],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function y4(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function Jh(){return Jh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Jh.apply(this,arguments)}function k1(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,a)}return n}function Zh(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k1(Object(n),!0).forEach(function(a){v4(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):k1(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function v4(r,e,n){return e=_4(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function _4(r){var e=E4(r,"string");return typeof e=="symbol"?e:e+""}function E4(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function jS(r){return r&&r.map((e,n)=>Za.createElement(e.tag,Zh({key:n},e.attr),jS(e.child)))}function qe(r){return e=>Za.createElement(T4,Jh({attr:Zh({},r.attr)},e),jS(r.child))}function T4(r){var e=n=>{var{attr:a,size:o,title:u}=r,f=g4(r,p4),m=o||n.size||"1em",g;return n.className&&(g=n.className),r.className&&(g=(g?g+" ":"")+r.className),Za.createElement("svg",Jh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,f,{className:g,style:Zh(Zh({color:r.color||n.color},n.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Za.createElement("title",null,u),r.children)};return L1!==void 0?Za.createElement(L1.Consumer,null,n=>e(n)):e(VS)}function S4(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"},child:[]}]})(r)}function b4(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"},child:[]}]})(r)}function A4(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"},child:[]}]})(r)}function es(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"},child:[]}]})(r)}function w4(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"},child:[]}]})(r)}function R4(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"},child:[]}]})(r)}function C4(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"},child:[]}]})(r)}function Ep(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"},child:[]}]})(r)}function _u(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"},child:[]}]})(r)}function I4(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"},child:[]}]})(r)}function yo(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"},child:[]}]})(r)}function N4(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(r)}function ts(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"},child:[]}]})(r)}function x4(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"},child:[]},{tag:"path",attr:{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"},child:[]}]})(r)}function D4(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"},child:[]}]})(r)}function PS(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"},child:[]}]})(r)}function LS(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"},child:[]}]})(r)}function O4(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"},child:[]}]})(r)}function U1(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"},child:[]}]})(r)}function Tp(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"},child:[]}]})(r)}function M4(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"},child:[]}]})(r)}function kS(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"},child:[]},{tag:"path",attr:{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"},child:[]}]})(r)}function V4(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"},child:[]}]})(r)}function j4(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"},child:[]}]})(r)}function US(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"},child:[]}]})(r)}function zS(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"},child:[]}]})(r)}function BS(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"},child:[]}]})(r)}function HS(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"},child:[]}]})(r)}function Sp(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z",clipRule:"evenodd"},child:[]}]})(r)}function vo(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"},child:[]}]})(r)}function P4(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"},child:[]}]})(r)}function bp(r){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(r)}const L4=()=>{const r=Mu(),[e,n]=z.useState({email:"",password:""}),[a,o]=z.useState(!1),[u,f]=z.useState({}),{login:m,loading:g}=wf(),p=w=>{const{name:P,value:K}=w.target;n(F=>({...F,[P]:K})),u[P]&&f(F=>({...F,[P]:void 0}))},T=()=>{const w={};return e.email?/\S+@\S+\.\S+/.test(e.email)||(w.email="E-mail invlido"):w.email="E-mail  obrigatrio",e.password?e.password.length<6&&(w.password="Senha deve ter no mnimo 6 caracteres"):w.password="Senha  obrigatria",f(w),Object.keys(w).length===0},S=()=>{n({email:"",password:""}),o(!1),f({email:void 0,password:void 0})},R=async w=>{if(w.preventDefault(),!!T())try{await m({email:e.email,password:e.password}),r("/dashboard"),S()}catch(P){console.error("Erro ao fazer login:",P),f({email:"Erro ao fazer login",password:"Erro ao fazer login"})}};return y.jsxs("div",{className:"login-container",children:[y.jsxs("div",{className:"login-background",children:[y.jsx("div",{className:"shape-1"}),y.jsx("div",{className:"shape-2"})]}),y.jsxs("div",{className:"login-card",children:[y.jsxs("div",{className:"login-header",children:[y.jsx("div",{className:"logo-container",children:y.jsx("div",{className:"logo-icon",children:y.jsx(vo,{})})}),y.jsx("h1",{children:"Bem-vindo de volta!"}),y.jsx("p",{children:"Acesse sua conta para continuar"})]}),y.jsxs("form",{className:"login-form",onSubmit:R,children:[y.jsxs("div",{className:"login-form-group",children:[y.jsx("label",{htmlFor:"email",children:"E-mail"}),y.jsxs("div",{className:"login-input-wrapper",children:[y.jsx(kS,{className:"login-input-icon"}),y.jsx("input",{type:"email",id:"email",name:"email",required:!0,placeholder:"seu.email@empresa.com",value:e.email,onChange:p,className:u.email?"error":""})]}),u.email&&y.jsx("span",{className:"login-error-message",children:u.email})]}),y.jsxs("div",{className:"login-form-group",children:[y.jsx("label",{htmlFor:"password",children:"Senha"}),y.jsxs("div",{className:"login-input-wrapper",children:[y.jsx(Tp,{className:"login-input-icon"}),y.jsx("input",{type:"password",id:"password",name:"password",required:!0,placeholder:"",value:e.password,onChange:p,className:u.password?"error":""})]}),u.password&&y.jsx("span",{className:"login-error-message",children:u.password})]}),y.jsxs("div",{className:"login-form-options",children:[y.jsxs("label",{className:"login-checkbox-container",children:[y.jsx("input",{type:"checkbox",checked:a,onChange:w=>o(w.target.checked)}),y.jsx("span",{className:"login-checkmark"}),"Lembrar-me"]}),y.jsx("a",{href:"#",className:"login-forgot-password",children:"Esqueceu a senha?"})]}),y.jsx("button",{type:"submit",className:"login-btn-primary",disabled:g,children:g?"Entrando...":"Entrar"}),y.jsx("div",{className:"login-divider"}),y.jsx("button",{type:"button",className:"login-btn-secondary",onClick:()=>r("/register"),children:"Criar nova conta"}),y.jsx("div",{className:"login-footer",children:y.jsx("p",{children:" 2025 Sistema de Gesto RH. Todos os direitos reservados."})})]})]})]})},k4=()=>{const r=Mu(),{register:e,loading:n}=wf(),[a,o]=z.useState({name:"",email:"",password:"",confirmPassword:""}),[u,f]=z.useState({}),[m,g]=z.useState(!1),p=w=>{const{name:P,value:K,type:F}=w.target,ne=F==="checkbox"?w.target.checked:!1;o(ie=>({...ie,[P]:F==="checkbox"?ne:K})),u[P]&&f(ie=>({...ie,[P]:void 0}))},T=()=>{const w={};return a.name.trim()?a.name.trim().length<3&&(w.name="Nome deve ter no mnimo 3 caracteres"):w.name="Nome completo  obrigatrio",a.email?/\S+@\S+\.\S+/.test(a.email)||(w.email="E-mail invlido"):w.email="E-mail  obrigatrio",a.password?a.password.length<8?w.password="Senha deve ter no mnimo 8 caracteres":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(a.password)||(w.password="Senha deve conter maisculas, minsculas e nmeros"):w.password="Senha  obrigatria",a.confirmPassword?a.password!==a.confirmPassword&&(w.confirmPassword="As senhas no coincidem"):w.confirmPassword="Confirmao de senha  obrigatria",f(w),Object.keys(w).length===0},S=()=>{o({name:"",email:"",password:"",confirmPassword:""}),f({})},R=async w=>{if(w.preventDefault(),!!T())try{await e({name:a.name,email:a.email,password:a.password,confirmPassword:a.confirmPassword}),r("/dashboard"),S()}catch(P){console.error("Erro ao registrar usurio:",P),f({name:"Erro ao registrar usurio",email:"Erro ao registrar usurio",password:"Erro ao registrar usurio",confirmPassword:"Erro ao registrar usurio"})}};return y.jsxs("div",{className:"register-container",children:[y.jsxs("div",{className:"register-background",children:[y.jsx("div",{className:"shape-1"}),y.jsx("div",{className:"shape-2"}),y.jsx("div",{className:"shape-3"})]}),y.jsxs("div",{className:"register-card",children:[y.jsxs("div",{className:"register-header",children:[y.jsx("div",{className:"logo-container",children:y.jsx("div",{className:"logo-icon",children:y.jsx(vo,{})})}),y.jsx("h1",{children:"Criar Nova Conta"}),y.jsx("p",{children:"Preencha seus dados para acessar a plataforma de gesto"})]}),y.jsxs("form",{className:"register-form",onSubmit:R,children:[y.jsxs("div",{className:"register-form-group",children:[y.jsx("label",{htmlFor:"name",children:"Nome Completo"}),y.jsxs("div",{className:"register-input-wrapper",children:[y.jsx(vo,{className:"register-input-icon"}),y.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:p,placeholder:"Joo Silva",className:u.name?"error":""})]}),u.name&&y.jsx("span",{className:"register-error-message",children:u.name})]}),y.jsxs("div",{className:"register-form-group",children:[y.jsx("label",{htmlFor:"email",children:"E-mail Corporativo"}),y.jsxs("div",{className:"register-input-wrapper",children:[y.jsx(kS,{className:"register-input-icon"}),y.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:p,placeholder:"joao.silva@empresa.com",className:u.email?"error":""})]}),u.email&&y.jsx("span",{className:"register-error-message",children:u.email})]}),y.jsxs("div",{className:"register-form-group",children:[y.jsx("label",{htmlFor:"password",children:"Senha"}),y.jsxs("div",{className:"register-input-wrapper",children:[y.jsx(Tp,{className:"register-input-icon"}),y.jsx("input",{type:m?"text":"password",id:"password",name:"password",value:a.password,onChange:p,placeholder:"Mnimo 8 caracteres",className:u.password?"error":""}),y.jsx("button",{type:"button",className:"register-toggle-password",onClick:()=>g(!m),children:m?y.jsx(x4,{}):y.jsx(D4,{})})]}),u.password&&y.jsx("span",{className:"register-error-message",children:u.password})]}),y.jsxs("div",{className:"register-form-group",children:[y.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Senha"}),y.jsxs("div",{className:"register-input-wrapper",children:[y.jsx(Tp,{className:"register-input-icon"}),y.jsx("input",{type:m?"text":"password",id:"confirmPassword",name:"confirmPassword",value:a.confirmPassword,onChange:p,placeholder:"Digite a senha novamente",className:u.confirmPassword?"error":""})]}),u.confirmPassword&&y.jsx("span",{className:"register-error-message",children:u.confirmPassword})]}),y.jsx("div",{className:"register-form-group register-checkbox-group",children:y.jsxs("label",{className:"register-checkbox-container",children:[y.jsx("input",{type:"checkbox",name:"termsAccepted",onChange:p}),y.jsx("span",{className:"register-checkmark"}),y.jsx("span",{className:"register-checkbox-label",children:"Eu aceito os termos de uso e a poltica de privacidade"})]})}),y.jsx("button",{type:"submit",className:"register-btn-primary",disabled:n,children:n?"Criando conta...":"Criar Conta"}),y.jsx("div",{className:"register-divider",children:y.jsx("span",{children:"ou"})}),y.jsx("button",{type:"button",className:"register-btn-secondary",onClick:()=>r("/login"),children:"J tenho uma conta"})]}),y.jsx("div",{className:"register-footer",children:y.jsx("p",{children:" 2025 Sistema de Gesto RH. Todos os direitos reservados."})})]})]})},U4=({collapsed:r,onToggle:e})=>{const n=[{path:"/dashboard",icon:O4,label:"Dashboard"},{path:"/premios-produtividade",icon:Sp,label:"Prmio de Produtividade"},{path:"/boletins-medicao",icon:yo,label:"Boletins de Medio"},{path:"/documentacoes",icon:LS,label:"Documentaes e Integraes"},{path:"/caderno-virtual",icon:b4,label:"Caderno Virtual"},{path:"/lancamentos-diarios",icon:Ep,label:"Lanamentos Dirios"},{path:"/relatorios",icon:A4,label:"Relatrios"}];return y.jsxs("aside",{className:`sidebar ${r?"collapsed":""}`,children:[y.jsx("div",{className:"sidebar-header",children:y.jsxs("div",{className:"sidebar-logo",children:[y.jsx("div",{className:"logo-icon",children:"RH"}),!r&&y.jsx("span",{className:"logo-text",children:"Sistema RH"})]})}),y.jsx("nav",{className:"sidebar-nav",children:y.jsx("ul",{className:"nav-list",children:n.map(a=>{const o=a.icon;return y.jsx("li",{className:"nav-item",children:y.jsxs(OS,{to:a.path,className:({isActive:u})=>`nav-link ${u?"active":""}`,children:[y.jsx(o,{className:"nav-icon"}),!r&&y.jsx("span",{className:"nav-label",children:a.label})]})},a.path)})})}),y.jsx("button",{className:"sidebar-toggle",onClick:e,"aria-label":"Toggle sidebar",children:r?y.jsx(R4,{}):y.jsx(w4,{})})]})},z4=({onMenuClick:r,collapsed:e=!1})=>{const{user:n,logOut:a}=wf(),o=Mu(),[u,f]=z.useState(!1),[m,g]=z.useState(!1),p=async()=>{try{await a(),o("/login")}catch(T){console.error("Erro ao fazer logout:",T)}};return y.jsxs("header",{className:`header ${e?"sidebar-collapsed":""}`,children:[y.jsxs("div",{className:"header-left",children:[y.jsx("button",{className:"menu-toggle",onClick:r,"aria-label":"Toggle menu",children:y.jsx(V4,{})}),y.jsx("h1",{className:"header-title",children:"Sistema de Gesto RH"})]}),y.jsx("div",{className:"header-right",children:y.jsxs("div",{className:"header-actions",children:[y.jsxs("div",{className:"notification-container",children:[y.jsxs("button",{className:"icon-button",onClick:()=>g(!m),"aria-label":"Notificaes",children:[y.jsx(S4,{}),y.jsx("span",{className:"notification-badge",children:"3"})]}),m&&y.jsxs("div",{className:"dropdown-menu notifications-menu",children:[y.jsxs("div",{className:"dropdown-header",children:[y.jsx("h3",{children:"Notificaes"}),y.jsx("button",{className:"mark-read",children:"Marcar todas como lidas"})]}),y.jsxs("ul",{className:"notification-list",children:[y.jsx("li",{className:"notification-item unread",children:y.jsxs("div",{className:"notification-content",children:[y.jsx("p",{className:"notification-title",children:"Novo boletim de medio"}),y.jsx("p",{className:"notification-text",children:"Boletim de outubro foi adicionado"}),y.jsx("span",{className:"notification-time",children:"H 2 horas"})]})}),y.jsx("li",{className:"notification-item unread",children:y.jsxs("div",{className:"notification-content",children:[y.jsx("p",{className:"notification-title",children:"Documentao vencendo"}),y.jsx("p",{className:"notification-text",children:"3 documentos vencem em 5 dias"}),y.jsx("span",{className:"notification-time",children:"H 5 horas"})]})}),y.jsx("li",{className:"notification-item unread",children:y.jsxs("div",{className:"notification-content",children:[y.jsx("p",{className:"notification-title",children:"Relatrio disponvel"}),y.jsx("p",{className:"notification-text",children:"Relatrio mensal foi gerado"}),y.jsx("span",{className:"notification-time",children:"Ontem"})]})})]}),y.jsx("div",{className:"dropdown-footer",children:y.jsx("button",{className:"view-all",children:"Ver todas as notificaes"})})]})]}),y.jsxs("div",{className:"user-container",children:[y.jsxs("button",{className:"user-button",onClick:()=>f(!u),"aria-label":"Menu do usurio",children:[y.jsx("div",{className:"user-avatar",children:y.jsx(vo,{})}),y.jsxs("div",{className:"user-info",children:[y.jsx("span",{className:"user-name",children:n?.name||"Usurio"}),y.jsx("span",{className:"user-role",children:n?.role==="admin"?"Administrador":"Colaborador"})]})]}),u&&y.jsxs("div",{className:"dropdown-menu user-menu",children:[y.jsxs("div",{className:"user-menu-header",children:[y.jsx("div",{className:"user-avatar-large",children:y.jsx(vo,{})}),y.jsxs("div",{className:"user-details",children:[y.jsx("p",{className:"user-name-large",children:n?.name||"Usurio"}),y.jsx("p",{className:"user-email",children:n?.email||"email@empresa.com"})]})]}),y.jsxs("ul",{className:"menu-list",children:[y.jsx("li",{children:y.jsxs("button",{className:"menu-item",onClick:()=>o("/perfil"),children:[y.jsx(vo,{}),y.jsx("span",{children:"Meu Perfil"})]})}),y.jsx("li",{children:y.jsxs("button",{className:"menu-item",onClick:()=>o("/configuracoes"),children:[y.jsx(I4,{}),y.jsx("span",{children:"Configuraes"})]})}),y.jsx("li",{className:"menu-divider"}),y.jsx("li",{children:y.jsxs("button",{className:"menu-item logout",onClick:p,children:[y.jsx(M4,{}),y.jsx("span",{children:"Sair"})]})})]})]})]})]})}),(u||m)&&y.jsx("div",{className:"overlay",onClick:()=>{f(!1),g(!1)}})]})},ds=({children:r})=>{const[e,n]=z.useState(!1),a=yr(),o=()=>{n(!e)};return z.useEffect(()=>{window.scrollTo(0,0)},[a.pathname]),z.useEffect(()=>{const u=()=>{window.innerWidth<=768&&n(!0)};return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]),y.jsxs("div",{className:"layout",children:[y.jsx(U4,{collapsed:e,onToggle:o}),y.jsxs("div",{className:`layout-main ${e?"sidebar-collapsed":""}`,children:[y.jsx(z4,{onMenuClick:o,collapsed:e}),y.jsx("main",{className:"layout-content",children:y.jsx("div",{className:"content-wrapper",children:r})})]})]})},z1=()=>{const[r,e]=z.useState([{id:"1",type:"alert",title:"Integrao com sistema externo falhou",message:"A sincronizao com o sistema de folha de pagamento no foi concluda hoje s 08:30",time:"H 2 horas",category:"integracao",read:!1},{id:"2",type:"warning",title:"Documentos prximos do vencimento",message:"5 documentos vencem nos prximos 7 dias. Ao necessria.",time:"H 3 horas",category:"documentacao",read:!1},{id:"3",type:"success",title:"Novo prmio de produtividade disponvel",message:"Prmio do ms de outubro foi calculado e est disponvel para visualizao",time:"H 5 horas",category:"premio",read:!1},{id:"4",type:"info",title:"Boletim de medio adicionado",message:"Boletim de medio de outubro/2024 foi adicionado ao sistema",time:"Hoje s 09:15",category:"boletim",read:!1},{id:"5",type:"alert",title:"Falha na integrao de dados",message:"Erro ao sincronizar dados de colaboradores. Tentar novamente?",time:"Ontem s 16:45",category:"integracao",read:!0},{id:"6",type:"success",title:"Todos os documentos em dia",message:"Nenhum documento com pendncia no momento",time:"Hoje s 08:00",category:"documentacao",read:!0}]),n={colaboradores:248,documentosPendentes:12,boletinsMes:8,premiosAtivos:5,integracoesAtivas:6,integracoesComErro:2},a=p=>{e(T=>T.map(S=>S.id===p?{...S,read:!0}:S))},o=p=>{e(T=>T.filter(S=>S.id!==p))},u=p=>{switch(p){case"alert":return y.jsx(ts,{className:"icon-alert"});case"warning":return y.jsx(ts,{className:"icon-warning"});case"success":return y.jsx(es,{className:"icon-success"});case"info":return y.jsx(_u,{className:"icon-info"});default:return y.jsx(_u,{className:"icon-info"})}},f=p=>{switch(p){case"integracao":return"Integrao";case"premio":return"Prmio";case"boletim":return"Boletim";case"documentacao":return"Documentao";default:return"Geral"}},m=r.filter(p=>!p.read).length,g=r.filter(p=>p.time.includes("Hoje"));return y.jsx(ds,{children:y.jsxs("div",{className:"dashboard",children:[y.jsxs("div",{className:"dashboard-header",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"dashboard-title",children:"Dashboard"}),y.jsx("p",{className:"dashboard-subtitle",children:"Resumo dirio do sistema de gesto RH"})]}),y.jsx("div",{className:"dashboard-date",children:new Date().toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),y.jsxs("div",{className:"stats-grid",children:[y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-icon stat-icon-blue",children:y.jsx(P4,{})}),y.jsxs("div",{className:"stat-content",children:[y.jsx("h3",{className:"stat-label",children:"Total de Colaboradores"}),y.jsx("p",{className:"stat-value",children:n.colaboradores})]})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-icon stat-icon-orange",children:y.jsx(yo,{})}),y.jsxs("div",{className:"stat-content",children:[y.jsx("h3",{className:"stat-label",children:"Documentos Pendentes"}),y.jsx("p",{className:"stat-value stat-value-warning",children:n.documentosPendentes})]})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-icon stat-icon-green",children:y.jsx(Ep,{})}),y.jsxs("div",{className:"stat-content",children:[y.jsx("h3",{className:"stat-label",children:"Boletins do Ms"}),y.jsx("p",{className:"stat-value stat-value-success",children:n.boletinsMes})]})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-icon stat-icon-purple",children:y.jsx(Sp,{})}),y.jsxs("div",{className:"stat-content",children:[y.jsx("h3",{className:"stat-label",children:"Prmios Ativos"}),y.jsx("p",{className:"stat-value stat-value-purple",children:n.premiosAtivos})]})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-icon stat-icon-teal",children:y.jsx(U1,{})}),y.jsxs("div",{className:"stat-content",children:[y.jsx("h3",{className:"stat-label",children:"Integraes Ativas"}),y.jsx("p",{className:"stat-value stat-value-teal",children:n.integracoesAtivas})]})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-icon stat-icon-red",children:y.jsx(ts,{})}),y.jsxs("div",{className:"stat-content",children:[y.jsx("h3",{className:"stat-label",children:"Integraes com Erro"}),y.jsx("p",{className:"stat-value stat-value-danger",children:n.integracoesComErro})]})]})]}),y.jsxs("div",{className:"dashboard-content",children:[y.jsxs("div",{className:"notifications-section",children:[y.jsxs("div",{className:"section-header",children:[y.jsx("h2",{className:"section-title",children:"Notificaes e Alertas do Dia"}),y.jsxs("div",{className:"section-badge",children:[m," no lidas"]})]}),y.jsx("div",{className:"notifications-list",children:g.length>0?g.map(p=>y.jsxs("div",{className:`notification-card ${p.type} ${p.read?"":"unread"}`,children:[y.jsx("div",{className:"notification-icon",children:u(p.type)}),y.jsxs("div",{className:"notification-content",children:[y.jsxs("div",{className:"notification-header",children:[y.jsx("h3",{className:"notification-title",children:p.title}),y.jsxs("div",{className:"notification-actions",children:[!p.read&&y.jsx("button",{className:"notification-action",onClick:()=>a(p.id),title:"Marcar como lida",children:y.jsx(es,{})}),y.jsx("button",{className:"notification-action",onClick:()=>o(p.id),title:"Remover",children:y.jsx(bp,{})})]})]}),y.jsx("p",{className:"notification-message",children:p.message}),y.jsxs("div",{className:"notification-footer",children:[y.jsx("span",{className:"notification-category",children:f(p.category)}),y.jsx("span",{className:"notification-time",children:p.time})]})]})]},p.id)):y.jsxs("div",{className:"empty-state",children:[y.jsx(es,{className:"empty-icon"}),y.jsx("p",{children:"Nenhuma notificao para hoje"})]})})]}),y.jsxs("div",{className:"alerts-section",children:[y.jsx("div",{className:"section-header",children:y.jsx("h2",{className:"section-title",children:"Alertas Recentes"})}),y.jsx("div",{className:"alerts-list",children:r.filter(p=>p.type==="alert"||p.type==="warning").slice(0,3).map(p=>y.jsxs("div",{className:`alert-card ${p.type} ${p.read?"":"unread"}`,children:[y.jsx("div",{className:"alert-icon",children:u(p.type)}),y.jsxs("div",{className:"alert-content",children:[y.jsx("h3",{className:"alert-title",children:p.title}),y.jsx("p",{className:"alert-message",children:p.message}),y.jsxs("div",{className:"alert-footer",children:[y.jsx("span",{className:"alert-category",children:f(p.category)}),y.jsx("span",{className:"alert-time",children:p.time})]})]})]},p.id))})]})]}),y.jsxs("div",{className:"quick-actions",children:[y.jsx("h2",{className:"section-title",children:"Aes Rpidas"}),y.jsxs("div",{className:"actions-grid",children:[y.jsxs("button",{className:"action-button",children:[y.jsx(LS,{}),y.jsx("span",{children:"Ver Documentaes"})]}),y.jsxs("button",{className:"action-button",children:[y.jsx(Sp,{}),y.jsx("span",{children:"Ver Prmios"})]}),y.jsxs("button",{className:"action-button",children:[y.jsx(Ep,{}),y.jsx("span",{children:"Ver Boletins"})]}),y.jsxs("button",{className:"action-button",children:[y.jsx(U1,{}),y.jsx("span",{children:"Gerenciar Integraes"})]})]})]})]})})},rr=fI(eu,"premiosProdutividade"),Ql=r=>{const e=r.data();return{id:r.id,colaboradorId:e.colaboradorId,colaboradorNome:e.colaboradorNome,cpf:e.cpf,cargo:e.cargo,setor:e.setor,valor:e.valor,dataPremio:e.dataPremio?e.dataPremio.toDate():new Date(e.criadoEm?.toDate?.()??Date.now()),motivo:e.motivo,status:e.status,mesReferencia:e.mesReferencia,anoReferencia:e.anoReferencia,criadoEm:e.criadoEm?e.criadoEm.toDate():new Date,atualizadoEm:e.atualizadoEm?e.atualizadoEm.toDate():new Date,aprovadoPor:e.aprovadoPor,observacoes:e.observacoes}},B4=r=>{const e=[];return r?.ano&&e.push(ti("anoReferencia","==",r.ano)),r?.mes&&e.push(ti("mesReferencia","==",r.mes)),r?.status&&e.push(ti("status","==",r.status)),r?.colaboradorNome&&e.push(ti("colaboradorNomeSearch","array-contains",r.colaboradorNome.toLowerCase())),e.push(dp("dataPremio","desc")),Zl(rr,...e)},ar={async list(r){const e=B4(r);return(await ql(e)).docs.map(Ql)},async create(r){const e={...r,valor:Number(r.valor),mesReferencia:r.dataPremio.getMonth()+1,anoReferencia:r.dataPremio.getFullYear(),dataPremio:Qe.fromDate(r.dataPremio),status:r.status,colaboradorNomeSearch:r.colaboradorNome.toLowerCase().split(" ").filter(Boolean),criadoEm:Qe.now(),atualizadoEm:Qe.now()};return(await CI(rr,e)).id},async update(r,e){const n=ia(rr,r),a={...e,atualizadoEm:Qe.now()};e.dataPremio&&(a.dataPremio=Qe.fromDate(e.dataPremio),a.mesReferencia=e.dataPremio.getMonth()+1,a.anoReferencia=e.dataPremio.getFullYear()),e.colaboradorNome&&(a.colaboradorNomeSearch=e.colaboradorNome.toLowerCase().split(" ").filter(Boolean)),await h1(n,a)},async updateStatus(r,e,n){const a=ia(rr,r);await h1(a,{status:e,aprovadoPor:n||null,atualizadoEm:Qe.now()})},async delete(r){const e=ia(rr,r);await RI(e)},async getHistoricoByColaborador(r){const e=Zl(rr,ti("colaboradorId","==",r),dp("dataPremio","desc"));return(await ql(e)).docs.map(Ql)},async getStats(r,e){const n=Zl(rr,ti("anoReferencia","==",r),ti("mesReferencia","==",e)),o=(await ql(n)).docs.map(Ql),u=o.reduce((p,T)=>p+T.valor,0),f=o.filter(p=>p.status==="Pendente").reduce((p,T)=>p+T.valor,0),m=o.filter(p=>p.status==="Em reviso").reduce((p,T)=>p+T.valor,0),g=o.filter(p=>p.status==="Aprovado").reduce((p,T)=>p+T.valor,0);return{totalPremiado:u,pendente:f,emRevisao:m,aprovados:g}},async gerarRelatorioMensal(r,e){const n=Zl(rr,ti("anoReferencia","==",r),ti("mesReferencia","==",e)),o=(await ql(n)).docs.map(Ql),u=o.filter(g=>g.status==="Aprovado").reduce((g,p)=>g+p.valor,0),f=o.filter(g=>g.status==="Pendente").reduce((g,p)=>g+p.valor,0),m=o.filter(g=>g.status==="Em reviso").reduce((g,p)=>g+p.valor,0);return{mes:e,ano:r,totalRegistros:o.length,totalPago:u,totalPendente:f,totalEmRevisao:m}},async exportarRelatorioCSV(r,e){const n=Zl(rr,ti("anoReferencia","==",r),ti("mesReferencia","==",e),dp("dataPremio","desc")),o=(await ql(n)).docs.map(Ql),u=["Colaborador","CPF","Cargo","Setor","Valor","Data","Motivo","Status"],f=o.map(g=>[g.colaboradorNome,g.cpf,g.cargo,g.setor,g.valor.toFixed(2).replace(".",","),g.dataPremio.toLocaleDateString("pt-BR"),g.motivo.replace(/(\r\n|\n|\r)/gm," "),g.status]),m=[u,...f].map(g=>g.map(p=>`"${String(p).replace(/"/g,'""')}"`).join(";")).join(`
`);return new Blob([m],{type:"text/csv;charset=utf-8;"})}},uo=[{id:"colab-001",nome:"Maria Fernanda Alvarez",cpf:"123.456.789-00",cargo:"Analista de Produtividade",setor:"Operaes",email:"maria.alvarez@empresa.com",admissao:new Date("2020-03-15")}],H4=()=>{if(typeof window<"u"&&window.crypto?.randomUUID)return window.crypto.randomUUID();if(typeof globalThis<"u"&&"crypto"in globalThis){const r=globalThis.crypto;if(r?.randomUUID)return r.randomUUID()}return`premio-${Date.now()}-${Math.random().toString(36).slice(2,9)}`},B1=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],qS=["Pendente","Em reviso","Aprovado"],q4=()=>{const r=new Date,[e,n]=z.useState([]),[a,o]=z.useState([]),[u,f]=z.useState(uo[0]?.id??""),[m,g]=z.useState({mes:r.getMonth()+1,ano:r.getFullYear()}),[p,T]=z.useState({totalPremiado:0,pendente:0,emRevisao:0,aprovados:0}),[S,R]=z.useState(!1),[w,P]=z.useState(null),[K,F]=z.useState(!0),[ne,ie]=z.useState(!1),[re,ve]=z.useState(!1),[Se,Re]=z.useState(null),x=z.useCallback(async()=>{try{F(!0);const ee=await ar.list(m);n(ee)}catch(ee){console.error("Erro ao carregar prmios:",ee),alert("No foi possvel carregar os prmios de produtividade.")}finally{F(!1)}},[m]);z.useEffect(()=>{x()},[x]),z.useEffect(()=>{m.ano&&m.mes&&N(m.ano,m.mes)},[m.ano,m.mes]),z.useEffect(()=>{u&&I(u)},[u]);const I=async ee=>{try{const fe=await ar.getHistoricoByColaborador(ee);o(fe)}catch(fe){console.error("Erro ao carregar histrico:",fe)}},N=async(ee,fe)=>{try{const M=await ar.getStats(ee,fe);T(M)}catch(M){console.error("Erro ao carregar estatsticas:",M)}},C=(ee,fe)=>{g(M=>({...M,[ee]:fe===""||fe===null?void 0:fe}))},V=async(ee,fe)=>{try{await ar.updateStatus(ee,fe,"admin"),await x(),u&&await I(u),m.ano&&m.mes&&await N(m.ano,m.mes)}catch(M){console.error("Erro ao atualizar status:",M),alert("Falha ao atualizar status do prmio.")}},k=async ee=>{if(window.confirm("Deseja remover este prmio?"))try{await ar.delete(ee),await x(),u&&await I(u),m.ano&&m.mes&&await N(m.ano,m.mes)}catch(fe){console.error("Erro ao excluir prmio:",fe),alert("No foi possvel remover o prmio.")}},D=async()=>{if(!(!m.ano||!m.mes))try{ie(!0);const ee=await ar.gerarRelatorioMensal(m.ano,m.mes);Re({...ee,totalPago:ee.totalPago}),alert("Relatrio mensal gerado com sucesso!")}catch(ee){console.error("Erro ao gerar relatrio:",ee),alert("No foi possvel gerar o relatrio.")}finally{ie(!1)}},nt=async()=>{if(!(!m.ano||!m.mes))try{ve(!0);const ee=await ar.exportarRelatorioCSV(m.ano,m.mes),fe=URL.createObjectURL(ee),M=document.createElement("a");M.href=fe,M.download=`premios_produtividade_${m.ano}_${String(m.mes).padStart(2,"0")}.csv`,M.click(),URL.revokeObjectURL(fe)}catch(ee){console.error("Erro ao exportar relatrio:",ee),alert("No foi possvel exportar a planilha.")}finally{ve(!1)}},dt=z.useMemo(()=>{const ee=e.reduce((fe,M)=>(fe[M.colaboradorId]||(fe[M.colaboradorId]={nome:M.colaboradorNome}),fe),{});return[...uo.map(fe=>({id:fe.id,nome:fe.nome})),...Object.entries(ee).map(([fe,M])=>({id:fe,nome:M.nome}))].filter((fe,M,Z)=>M===Z.findIndex(oe=>oe.id===fe.id))},[e]),Y=ee=>{switch(ee){case"Pendente":return"pendente";case"Em reviso":return"em-revisao";case"Aprovado":return"aprovado";default:return""}},ae=ee=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ee),me=ee=>new Intl.DateTimeFormat("pt-BR").format(ee);return y.jsx(ds,{children:y.jsxs("div",{className:"premios-container",children:[y.jsxs("div",{className:"premios-header",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"premios-title",children:"Prmio de Produtividade"}),y.jsx("p",{className:"premios-subtitle",children:"Cadastre, aprove e acompanhe o histrico de prmios por colaborador"})]}),y.jsxs("div",{className:"premios-header-actions",children:[y.jsxs("button",{className:"premios-secondary-btn",onClick:D,disabled:ne,children:[y.jsx(C4,{}),ne?"Gerando...":"Relatrio mensal"]}),y.jsxs("button",{className:"premios-secondary-btn",onClick:nt,disabled:re,children:[y.jsx(N4,{}),re?"Exportando...":"Exportar planilha"]}),y.jsxs("button",{className:"premios-primary-btn",onClick:()=>{P(null),R(!0)},children:[y.jsx(zS,{}),"Novo prmio"]})]})]}),y.jsxs("div",{className:"premios-stats",children:[y.jsxs("div",{className:"premios-stat-card",children:[y.jsx("div",{className:"premios-stat-icon verde",children:y.jsx(es,{})}),y.jsxs("div",{children:[y.jsx("p",{children:"Total aprovado"}),y.jsx("strong",{children:ae(p.aprovados)})]})]}),y.jsxs("div",{className:"premios-stat-card",children:[y.jsx("div",{className:"premios-stat-icon amarelo",children:y.jsx(_u,{})}),y.jsxs("div",{children:[y.jsx("p",{children:"Pendentes"}),y.jsx("strong",{children:ae(p.pendente)})]})]}),y.jsxs("div",{className:"premios-stat-card",children:[y.jsx("div",{className:"premios-stat-icon roxo",children:y.jsx(ts,{})}),y.jsxs("div",{children:[y.jsx("p",{children:"Em reviso"}),y.jsx("strong",{children:ae(p.emRevisao)})]})]}),y.jsxs("div",{className:"premios-stat-card",children:[y.jsx("div",{className:"premios-stat-icon azul",children:y.jsx(es,{})}),y.jsxs("div",{children:[y.jsx("p",{children:"Total ms"}),y.jsx("strong",{children:ae(p.totalPremiado)})]})]})]}),y.jsxs("div",{className:"premios-filtros",children:[y.jsxs("div",{className:"premios-filtros-header",children:[y.jsxs("button",{className:"premios-filter-btn",children:[y.jsx(PS,{}),"Filtros"]}),y.jsxs("div",{className:"premios-search",children:[y.jsx(BS,{}),y.jsx("input",{type:"text",placeholder:"Buscar colaborador...",value:m.colaboradorNome||"",onChange:ee=>C("colaboradorNome",ee.target.value)})]})]}),y.jsxs("div",{className:"premios-filtros-grid",children:[y.jsxs("div",{className:"premios-filter-group",children:[y.jsx("label",{children:"Ms"}),y.jsx("select",{value:m.mes||"",onChange:ee=>C("mes",ee.target.value?Number(ee.target.value):void 0),children:B1.map((ee,fe)=>y.jsx("option",{value:fe+1,children:ee},ee))})]}),y.jsxs("div",{className:"premios-filter-group",children:[y.jsx("label",{children:"Ano"}),y.jsx("select",{value:m.ano||"",onChange:ee=>C("ano",ee.target.value?Number(ee.target.value):void 0),children:Array.from({length:5},(ee,fe)=>r.getFullYear()-fe).map(ee=>y.jsx("option",{value:ee,children:ee},ee))})]}),y.jsxs("div",{className:"premios-filter-group",children:[y.jsx("label",{children:"Status"}),y.jsxs("select",{value:m.status||"",onChange:ee=>C("status",ee.target.value?ee.target.value:void 0),children:[y.jsx("option",{value:"",children:"Todos"}),qS.map(ee=>y.jsx("option",{value:ee,children:ee},ee))]})]})]})]}),y.jsxs("div",{className:"premios-content",children:[y.jsx("div",{className:"premios-table-wrapper",children:K?y.jsx("div",{className:"premios-loading",children:"Carregando prmios..."}):e.length===0?y.jsx("div",{className:"premios-empty",children:y.jsx("p",{children:"Nenhum prmio encontrado."})}):y.jsxs("table",{className:"premios-table",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Colaborador"}),y.jsx("th",{children:"Setor"}),y.jsx("th",{children:"Valor"}),y.jsx("th",{children:"Data"}),y.jsx("th",{children:"Status"}),y.jsx("th",{children:"Aes"})]})}),y.jsx("tbody",{children:e.map(ee=>y.jsxs("tr",{children:[y.jsx("td",{children:y.jsxs("div",{className:"premios-colaborador",children:[y.jsx("strong",{children:ee.colaboradorNome}),y.jsx("span",{children:ee.cargo})]})}),y.jsx("td",{children:ee.setor}),y.jsx("td",{children:ae(ee.valor)}),y.jsx("td",{children:me(ee.dataPremio)}),y.jsx("td",{children:y.jsx("span",{className:`premios-status-badge ${Y(ee.status)}`,children:ee.status})}),y.jsx("td",{children:y.jsxs("div",{className:"premios-actions",children:[y.jsx("button",{className:"premios-action-btn",title:"Editar",onClick:()=>{P(ee),R(!0)},children:y.jsx(US,{})}),y.jsx("button",{className:"premios-action-btn danger",title:"Excluir",onClick:()=>k(ee.id),children:y.jsx(HS,{})}),ee.status!=="Aprovado"&&y.jsx("button",{className:"premios-action-btn success",title:"Aprovar",onClick:()=>V(ee.id,"Aprovado"),children:y.jsx(es,{})}),ee.status!=="Em reviso"&&y.jsx("button",{className:"premios-action-btn warning",title:"Enviar para reviso",onClick:()=>V(ee.id,"Em reviso"),children:y.jsx(ts,{})})]})})]},ee.id))})]})}),y.jsxs("div",{className:"premios-historico",children:[y.jsx("h3",{children:"Histrico por colaborador"}),y.jsx("select",{value:u,onChange:ee=>f(ee.target.value),children:dt.map(ee=>y.jsx("option",{value:ee.id,children:ee.nome},ee.id))}),y.jsx("div",{className:"premios-historico-list",children:a.length===0?y.jsx("p",{children:"Nenhum registro para este colaborador."}):a.map(ee=>y.jsxs("div",{className:"premios-historico-item",children:[y.jsxs("div",{children:[y.jsx("strong",{children:ae(ee.valor)}),y.jsx("span",{children:me(ee.dataPremio)})]}),y.jsx("span",{className:`premios-status-badge ${Y(ee.status)}`,children:ee.status})]},ee.id))}),Se&&y.jsxs("div",{className:"premios-report-summary",children:[y.jsx("h4",{children:"ltimo relatrio gerado"}),y.jsxs("p",{children:[B1[Se.mes-1]," / ",Se.ano," "," ",Se.totalRegistros," registros"]}),y.jsxs("strong",{children:["Total Pago: ",ae(Se.totalPago)]})]})]})]}),S&&y.jsx(F4,{premio:w,onClose:()=>{R(!1),P(null)},onSuccess:async()=>{R(!1),P(null),await x(),u&&await I(u),m.ano&&m.mes&&await N(m.ano,m.mes)}})]})})},F4=({premio:r,onClose:e,onSuccess:n})=>{const a=r?null:uo.length>0?uo[0]:null,[o,u]=z.useState({colaboradorId:r?.colaboradorId||a?.id||"",colaboradorNome:r?.colaboradorNome||a?.nome||"",cpf:r?.cpf||a?.cpf||"",cargo:r?.cargo||a?.cargo||"",setor:r?.setor||a?.setor||"",valor:r?.valor||0,dataPremio:r?.dataPremio?new Date(r.dataPremio).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],motivo:r?.motivo||"",status:r?.status||"Pendente",observacoes:r?.observacoes||""}),[f,m]=z.useState(r?.colaboradorId||a?.id||""),[g,p]=z.useState(!1),T=w=>{m(w);const P=uo.find(K=>K.id===w);P&&u(K=>({...K,colaboradorId:P.id,colaboradorNome:P.nome,cpf:P.cpf,cargo:P.cargo,setor:P.setor}))},S=w=>{const{name:P,value:K}=w.target;u(F=>({...F,[P]:P==="valor"?Number(K):K}))},R=async w=>{w.preventDefault(),p(!0);try{const P={colaboradorId:o.colaboradorId||H4(),colaboradorNome:o.colaboradorNome,cpf:o.cpf,cargo:o.cargo,setor:o.setor,valor:o.valor,dataPremio:new Date(o.dataPremio),motivo:o.motivo,status:o.status,observacoes:o.observacoes};r?await ar.update(r.id,P):await ar.create(P),n()}catch(P){console.error("Erro ao salvar prmio:",P),alert("No foi possvel salvar o prmio.")}finally{p(!1)}};return y.jsx("div",{className:"premios-modal-overlay",onClick:e,children:y.jsxs("div",{className:"premios-modal",onClick:w=>w.stopPropagation(),children:[y.jsxs("div",{className:"premios-modal-header",children:[y.jsx("h2",{children:r?"Editar prmio":"Novo prmio de produtividade"}),y.jsx("button",{onClick:e,children:""})]}),y.jsxs("form",{className:"premios-modal-form",onSubmit:R,children:[y.jsxs("div",{className:"premios-modal-section",children:[y.jsxs("div",{className:"premios-modal-row",children:[y.jsxs("div",{className:"premios-modal-group",children:[y.jsx("label",{children:"Colaborador (mock)"}),y.jsxs("select",{value:f,onChange:w=>T(w.target.value),children:[y.jsx("option",{value:"",children:"Novo colaborador"}),uo.map(w=>y.jsxs("option",{value:w.id,children:[w.nome,"  ",w.cargo]},w.id))]})]}),y.jsxs("div",{className:"premios-modal-group",children:[y.jsx("label",{children:"Nome *"}),y.jsx("input",{type:"text",name:"colaboradorNome",value:o.colaboradorNome,onChange:S,required:!0})]})]}),y.jsxs("div",{className:"premios-modal-row",children:[y.jsxs("div",{className:"premios-modal-group",children:[y.jsx("label",{children:"CPF *"}),y.jsx("input",{type:"text",name:"cpf",value:o.cpf,onChange:S,required:!0,placeholder:"000.000.000-00"})]}),y.jsxs("div",{className:"premios-modal-group",children:[y.jsx("label",{children:"Cargo *"}),y.jsx("input",{type:"text",name:"cargo",value:o.cargo,onChange:S,required:!0})]}),y.jsxs("div",{className:"premios-modal-group",children:[y.jsx("label",{children:"Setor *"}),y.jsx("input",{type:"text",name:"setor",value:o.setor,onChange:S,required:!0})]})]})]}),y.jsxs("div",{className:"premios-modal-section",children:[y.jsxs("div",{className:"premios-modal-row",children:[y.jsxs("div",{className:"premios-modal-group",children:[y.jsx("label",{children:"Valor (R$) *"}),y.jsx("input",{type:"number",name:"valor",min:"0",step:"0.01",value:o.valor,onChange:S,required:!0})]}),y.jsxs("div",{className:"premios-modal-group",children:[y.jsx("label",{children:"Data *"}),y.jsx("input",{type:"date",name:"dataPremio",value:o.dataPremio,onChange:S,required:!0})]}),y.jsxs("div",{className:"premios-modal-group",children:[y.jsx("label",{children:"Status *"}),y.jsx("select",{name:"status",value:o.status,onChange:S,children:qS.map(w=>y.jsx("option",{value:w,children:w},w))})]})]}),y.jsxs("div",{className:"premios-modal-group",children:[y.jsx("label",{children:"Motivo *"}),y.jsx("textarea",{name:"motivo",value:o.motivo,onChange:S,rows:3,required:!0,placeholder:"Descreva o motivo do prmio..."})]}),y.jsxs("div",{className:"premios-modal-group",children:[y.jsx("label",{children:"Observaes"}),y.jsx("textarea",{name:"observacoes",value:o.observacoes,onChange:S,rows:3,placeholder:"Observaes adicionais..."})]})]}),y.jsxs("div",{className:"premios-modal-actions",children:[y.jsx("button",{type:"button",className:"premios-secondary-btn",onClick:e,children:"Cancelar"}),y.jsx("button",{type:"submit",className:"premios-primary-btn",disabled:g,children:g?"Salvando...":r?"Atualizar":"Cadastrar"})]})]})]})})},Ni=[{id:"1",numero:"BM-2024-001",cliente:"Construtora ABC Ltda",mesReferencia:"Outubro",anoReferencia:2024,tipoServico:"Instalao",status:"Emitido",valor:45e3,dataEmissao:new Date("2024-10-15"),dataVencimento:new Date("2024-11-15"),observacoes:"Instalao completa do sistema eltrico",anexos:[],criadoPor:"user1",criadoEm:new Date("2024-10-15"),atualizadoEm:new Date("2024-10-15")},{id:"2",numero:"BM-2024-002",cliente:"Empresa XYZ S.A.",mesReferencia:"Outubro",anoReferencia:2024,tipoServico:"Manuteno",status:"Pendente",valor:12500,dataEmissao:new Date("2024-10-20"),dataVencimento:new Date("2024-11-20"),observacoes:"Manuteno preventiva mensal",anexos:[],criadoPor:"user1",criadoEm:new Date("2024-10-20"),atualizadoEm:new Date("2024-10-20")},{id:"3",numero:"BM-2024-003",cliente:"Construtora ABC Ltda",mesReferencia:"Setembro",anoReferencia:2024,tipoServico:"Vistoria",status:"Aguardando assinatura",valor:8500,dataEmissao:new Date("2024-09-28"),dataVencimento:new Date("2024-10-28"),observacoes:"Vistoria tcnica completa",anexos:[],criadoPor:"user1",criadoEm:new Date("2024-09-28"),atualizadoEm:new Date("2024-09-28")},{id:"4",numero:"BM-2024-004",cliente:"Construtora DEF",mesReferencia:"Outubro",anoReferencia:2024,tipoServico:"Instalao",status:"Emitido",valor:32e3,dataEmissao:new Date("2024-10-10"),dataVencimento:new Date("2024-11-10"),observacoes:"",anexos:[],criadoPor:"user1",criadoEm:new Date("2024-10-10"),atualizadoEm:new Date("2024-10-10")},{id:"5",numero:"BM-2024-005",cliente:"Empresa XYZ S.A.",mesReferencia:"Outubro",anoReferencia:2024,tipoServico:"Manuteno",status:"Aguardando assinatura",valor:15e3,dataEmissao:new Date("2024-10-25"),dataVencimento:new Date("2024-11-25"),observacoes:"Manuteno corretiva",anexos:[],criadoPor:"user1",criadoEm:new Date("2024-10-25"),atualizadoEm:new Date("2024-10-25")}],ou={async getAll(r){await new Promise(n=>setTimeout(n,300));let e=[...Ni];return r&&(r.mes&&(e=e.filter(n=>n.mesReferencia===r.mes)),r.ano&&(e=e.filter(n=>n.anoReferencia===r.ano)),r.cliente&&(e=e.filter(n=>n.cliente.toLowerCase().includes(r.cliente.toLowerCase()))),r.tipoServico&&(e=e.filter(n=>n.tipoServico===r.tipoServico)),r.status&&(e=e.filter(n=>n.status===r.status))),e.sort((n,a)=>a.criadoEm.getTime()-n.criadoEm.getTime())},async getById(r){return await new Promise(e=>setTimeout(e,200)),Ni.find(e=>e.id===r)||null},async create(r){await new Promise(n=>setTimeout(n,500));const e={id:Date.now().toString(),numero:`BM-${r.anoReferencia}-${String(Ni.length+1).padStart(3,"0")}`,cliente:r.cliente,mesReferencia:r.mesReferencia,anoReferencia:r.anoReferencia,tipoServico:r.tipoServico,status:r.status,valor:r.valor,dataEmissao:r.dataEmissao,dataVencimento:r.dataVencimento,observacoes:r.observacoes,anexos:[],criadoPor:"current-user",criadoEm:new Date,atualizadoEm:new Date};return Ni.push(e),e},async update(r,e){await new Promise(f=>setTimeout(f,500));const n=Ni.findIndex(f=>f.id===r);if(n===-1)throw new Error("Boletim no encontrado");const{anexos:a,...o}=e,u={...Ni[n],...o,atualizadoEm:new Date};return Ni[n]=u,u},async delete(r){await new Promise(n=>setTimeout(n,300));const e=Ni.findIndex(n=>n.id===r);e!==-1&&Ni.splice(e,1)},async getStats(r,e){await new Promise(f=>setTimeout(f,200));let n=[...Ni];r&&(n=n.filter(f=>f.anoReferencia===r)),e&&(n=n.filter(f=>f.mesReferencia===e));const a=n.filter(f=>f.status==="Emitido").reduce((f,m)=>f+m.valor,0),o=n.filter(f=>f.status==="Pendente"||f.status==="Aguardando assinatura").reduce((f,m)=>f+m.valor,0),u=n.filter(f=>f.status==="Aguardando assinatura").length;return{totalEmitidoMes:a,saldoPendente:o,totalBoletins:n.length,aguardandoAssinatura:u}}},G4=()=>{const[r,e]=z.useState([]),[n,a]=z.useState(!0),[o,u]=z.useState(!1),[f,m]=z.useState(null),[g,p]=z.useState({}),[T,S]=z.useState(!1),[R,w]=z.useState({totalEmitidoMes:0,saldoPendente:0,totalBoletins:0,aguardandoAssinatura:0}),P=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],K=Array.from({length:5},(C,V)=>new Date().getFullYear()-V),F=["Instalao","Manuteno","Vistoria","Outro"],ne=["Emitido","Pendente","Aguardando assinatura"];z.useEffect(()=>{ie(),re()},[g]);const ie=async()=>{try{a(!0);const C=await ou.getAll(g);e(C)}catch(C){console.error("Erro ao carregar boletins:",C)}finally{a(!1)}},re=async()=>{try{const C=new Date,V=await ou.getStats(C.getFullYear(),P[C.getMonth()]);w(V)}catch(C){console.error("Erro ao carregar estatsticas:",C)}},ve=(C,V)=>{p(k=>({...k,[C]:V||void 0}))},Se=()=>{p({})},Re=async C=>{if(window.confirm("Tem certeza que deseja excluir este boletim?"))try{await ou.delete(C),ie(),re()}catch(V){console.error("Erro ao excluir boletim:",V),alert("Erro ao excluir boletim")}},x=C=>{switch(C){case"Emitido":return y.jsx(es,{className:"status-icon status-emitido"});case"Pendente":return y.jsx(_u,{className:"status-icon status-pendente"});case"Aguardando assinatura":return y.jsx(ts,{className:"status-icon status-aguardando"})}},I=C=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(C),N=C=>new Intl.DateTimeFormat("pt-BR").format(C);return y.jsx(ds,{children:y.jsxs("div",{className:"boletins-medicao",children:[y.jsxs("div",{className:"page-header",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"page-title",children:"Boletins de Medio"}),y.jsx("p",{className:"page-subtitle",children:"Controle e gesto de boletins de medio"})]}),y.jsxs("button",{className:"btn-primary",onClick:()=>{m(null),u(!0)},children:[y.jsx(zS,{}),"Novo Boletim"]})]}),y.jsxs("div",{className:"stats-cards",children:[y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-icon stat-icon-green",children:y.jsx(yo,{})}),y.jsxs("div",{className:"stat-content",children:[y.jsx("h3",{className:"stat-label",children:"Total Emitido no Ms"}),y.jsx("p",{className:"stat-value stat-value-success",children:I(R.totalEmitidoMes)})]})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-icon stat-icon-orange",children:y.jsx(_u,{})}),y.jsxs("div",{className:"stat-content",children:[y.jsx("h3",{className:"stat-label",children:"Saldo Pendente"}),y.jsx("p",{className:"stat-value stat-value-warning",children:I(R.saldoPendente)})]})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-icon stat-icon-blue",children:y.jsx(yo,{})}),y.jsxs("div",{className:"stat-content",children:[y.jsx("h3",{className:"stat-label",children:"Total de Boletins"}),y.jsx("p",{className:"stat-value",children:R.totalBoletins})]})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-icon stat-icon-purple",children:y.jsx(ts,{})}),y.jsxs("div",{className:"stat-content",children:[y.jsx("h3",{className:"stat-label",children:"Aguardando Assinatura"}),y.jsx("p",{className:"stat-value stat-value-purple",children:R.aguardandoAssinatura})]})]})]}),y.jsxs("div",{className:"filters-section",children:[y.jsxs("div",{className:"filters-header",children:[y.jsxs("button",{className:"btn-filter",onClick:()=>S(!T),children:[y.jsx(PS,{}),"Filtros"]}),y.jsxs("div",{className:"search-box",children:[y.jsx(BS,{className:"search-icon"}),y.jsx("input",{type:"text",placeholder:"Pesquisar por cliente...",value:g.cliente||"",onChange:C=>ve("cliente",C.target.value)})]})]}),T&&y.jsxs("div",{className:"filters-panel",children:[y.jsxs("div",{className:"filter-group",children:[y.jsx("label",{children:"Ms"}),y.jsxs("select",{value:g.mes||"",onChange:C=>ve("mes",C.target.value),children:[y.jsx("option",{value:"",children:"Todos os meses"}),P.map(C=>y.jsx("option",{value:C,children:C},C))]})]}),y.jsxs("div",{className:"filter-group",children:[y.jsx("label",{children:"Ano"}),y.jsxs("select",{value:g.ano||"",onChange:C=>ve("ano",C.target.value?Number(C.target.value):void 0),children:[y.jsx("option",{value:"",children:"Todos os anos"}),K.map(C=>y.jsx("option",{value:C,children:C},C))]})]}),y.jsxs("div",{className:"filter-group",children:[y.jsx("label",{children:"Tipo de Servio"}),y.jsxs("select",{value:g.tipoServico||"",onChange:C=>ve("tipoServico",C.target.value),children:[y.jsx("option",{value:"",children:"Todos os tipos"}),F.map(C=>y.jsx("option",{value:C,children:C},C))]})]}),y.jsxs("div",{className:"filter-group",children:[y.jsx("label",{children:"Status"}),y.jsxs("select",{value:g.status||"",onChange:C=>ve("status",C.target.value),children:[y.jsx("option",{value:"",children:"Todos os status"}),ne.map(C=>y.jsx("option",{value:C,children:C},C))]})]}),y.jsx("button",{className:"btn-clear-filters",onClick:Se,children:"Limpar Filtros"})]})]}),y.jsx("div",{className:"table-container",children:n?y.jsx("div",{className:"loading",children:"Carregando..."}):r.length===0?y.jsxs("div",{className:"empty-state",children:[y.jsx(yo,{className:"empty-icon"}),y.jsx("p",{children:"Nenhum boletim encontrado"})]}):y.jsxs("table",{className:"boletins-table",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Nmero"}),y.jsx("th",{children:"Cliente"}),y.jsx("th",{children:"Ms/Ano"}),y.jsx("th",{children:"Tipo de Servio"}),y.jsx("th",{children:"Valor"}),y.jsx("th",{children:"Status"}),y.jsx("th",{children:"Data Emisso"}),y.jsx("th",{children:"Aes"})]})}),y.jsx("tbody",{children:r.map(C=>y.jsxs("tr",{children:[y.jsx("td",{className:"font-mono",children:C.numero}),y.jsx("td",{children:C.cliente}),y.jsxs("td",{children:[C.mesReferencia,"/",C.anoReferencia]}),y.jsx("td",{children:C.tipoServico}),y.jsx("td",{className:"font-semibold",children:I(C.valor)}),y.jsx("td",{children:y.jsxs("div",{className:"status-badge",children:[x(C.status),y.jsx("span",{children:C.status})]})}),y.jsx("td",{children:C.dataEmissao?N(C.dataEmissao):"-"}),y.jsx("td",{children:y.jsxs("div",{className:"action-buttons",children:[y.jsx("button",{className:"btn-icon",onClick:()=>{m(C),u(!0)},title:"Editar",children:y.jsx(US,{})}),y.jsx("button",{className:"btn-icon btn-icon-danger",onClick:()=>Re(C.id),title:"Excluir",children:y.jsx(HS,{})})]})})]},C.id))})]})}),o&&y.jsx(Q4,{boletim:f,onClose:()=>{u(!1),m(null)},onSave:()=>{u(!1),m(null),ie(),re()}})]})})},Q4=({boletim:r,onClose:e,onSave:n})=>{const[a,o]=z.useState({cliente:r?.cliente||"",mesReferencia:r?.mesReferencia||"",anoReferencia:r?.anoReferencia||new Date().getFullYear(),tipoServico:r?.tipoServico||"Instalao",status:r?.status||"Pendente",valor:r?.valor||0,dataEmissao:r?.dataEmissao?new Date(r.dataEmissao).toISOString().split("T")[0]:"",dataVencimento:r?.dataVencimento?new Date(r.dataVencimento).toISOString().split("T")[0]:"",observacoes:r?.observacoes||"",anexos:[]}),[u,f]=z.useState(!1),m=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],g=Array.from({length:5},(w,P)=>new Date().getFullYear()-P),p=["Instalao","Manuteno","Vistoria","Outro"],T=["Emitido","Pendente","Aguardando assinatura"],S=async w=>{w.preventDefault(),f(!0);try{const P={...a,dataEmissao:a.dataEmissao?new Date(a.dataEmissao):void 0,dataVencimento:a.dataVencimento?new Date(a.dataVencimento):void 0};r?await ou.update(r.id,P):await ou.create(P),n()}catch(P){console.error("Erro ao salvar boletim:",P),alert("Erro ao salvar boletim")}finally{f(!1)}},R=w=>{w.target.files&&o(P=>({...P,anexos:Array.from(w.target.files||[])}))};return y.jsx("div",{className:"modal-overlay",onClick:e,children:y.jsxs("div",{className:"modal-content",onClick:w=>w.stopPropagation(),children:[y.jsxs("div",{className:"modal-header",children:[y.jsx("h2",{children:r?"Editar Boletim":"Novo Boletim de Medio"}),y.jsx("button",{className:"btn-close",onClick:e,children:y.jsx(bp,{})})]}),y.jsxs("form",{onSubmit:S,className:"modal-form",children:[y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Cliente *"}),y.jsx("input",{type:"text",required:!0,value:a.cliente,onChange:w=>o(P=>({...P,cliente:w.target.value})),placeholder:"Nome do cliente"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Ms de Referncia *"}),y.jsxs("select",{required:!0,value:a.mesReferencia,onChange:w=>o(P=>({...P,mesReferencia:w.target.value})),children:[y.jsx("option",{value:"",children:"Selecione..."}),m.map(w=>y.jsx("option",{value:w,children:w},w))]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Ano de Referncia *"}),y.jsx("select",{required:!0,value:a.anoReferencia,onChange:w=>o(P=>({...P,anoReferencia:Number(w.target.value)})),children:g.map(w=>y.jsx("option",{value:w,children:w},w))})]})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Tipo de Servio *"}),y.jsx("select",{required:!0,value:a.tipoServico,onChange:w=>o(P=>({...P,tipoServico:w.target.value})),children:p.map(w=>y.jsx("option",{value:w,children:w},w))})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Status *"}),y.jsx("select",{required:!0,value:a.status,onChange:w=>o(P=>({...P,status:w.target.value})),children:T.map(w=>y.jsx("option",{value:w,children:w},w))})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Valor (R$) *"}),y.jsx("input",{type:"number",required:!0,step:"0.01",min:"0",value:a.valor,onChange:w=>o(P=>({...P,valor:Number(w.target.value)})),placeholder:"0.00"})]})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Data de Emisso"}),y.jsx("input",{type:"date",value:a.dataEmissao,onChange:w=>o(P=>({...P,dataEmissao:w.target.value}))})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Data de Vencimento"}),y.jsx("input",{type:"date",value:a.dataVencimento,onChange:w=>o(P=>({...P,dataVencimento:w.target.value}))})]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Observaes"}),y.jsx("textarea",{value:a.observacoes,onChange:w=>o(P=>({...P,observacoes:w.target.value})),rows:4,placeholder:"Observaes adicionais..."})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Anexar Arquivos"}),y.jsxs("div",{className:"file-upload",children:[y.jsx("input",{type:"file",multiple:!0,accept:".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png",onChange:R,id:"file-upload"}),y.jsxs("label",{htmlFor:"file-upload",className:"file-upload-label",children:[y.jsx(j4,{}),"Selecionar arquivos (PDF, NF, OS, etc.)"]}),a.anexos.length>0&&y.jsx("div",{className:"file-list",children:a.anexos.map((w,P)=>y.jsxs("div",{className:"file-item",children:[y.jsx(yo,{}),y.jsx("span",{children:w.name}),y.jsx("button",{type:"button",onClick:()=>{o(K=>({...K,anexos:K.anexos.filter((F,ne)=>ne!==P)}))},children:y.jsx(bp,{})})]},P))})]})]}),y.jsxs("div",{className:"modal-actions",children:[y.jsx("button",{type:"button",className:"btn-secondary",onClick:e,children:"Cancelar"}),y.jsx("button",{type:"submit",className:"btn-primary",disabled:u,children:u?"Salvando...":r?"Atualizar":"Criar"})]})]})]})})},K4=()=>y.jsx(ds,{children:y.jsxs("div",{children:[y.jsx("h1",{style:{fontSize:"28px",fontWeight:"600",color:"#1a202c",marginBottom:"8px"},children:"Documentaes e Integraes"}),y.jsx("p",{style:{color:"#718096",fontSize:"16px"},children:"Gesto de documentos obrigatrios e suas integraes"})]})}),Y4=()=>y.jsx(ds,{children:y.jsxs("div",{children:[y.jsx("h1",{style:{fontSize:"28px",fontWeight:"600",color:"#1a202c",marginBottom:"8px"},children:"Caderno Virtual"}),y.jsx("p",{style:{color:"#718096",fontSize:"16px"},children:"Registro digital de atividades e anotaes"})]})}),X4=()=>y.jsx(ds,{children:y.jsxs("div",{children:[y.jsx("h1",{style:{fontSize:"28px",fontWeight:"600",color:"#1a202c",marginBottom:"8px"},children:"Lanamentos Dirios"}),y.jsx("p",{style:{color:"#718096",fontSize:"16px"},children:"Registro de lanamentos e atividades dirias"})]})}),$4=()=>y.jsx(ds,{children:y.jsxs("div",{children:[y.jsx("h1",{style:{fontSize:"28px",fontWeight:"600",color:"#1a202c",marginBottom:"8px"},children:"Relatrios"}),y.jsx("p",{style:{color:"#718096",fontSize:"16px"},children:"Visualizao e gerao de relatrios do sistema"})]})});function J4(){return y.jsx(s4,{children:y.jsxs(LD,{children:[y.jsx(Wn,{path:ei.home,element:y.jsx(z1,{})}),y.jsx(Wn,{path:ei.login,element:y.jsx(L4,{})}),y.jsx(Wn,{path:ei.register,element:y.jsx(k4,{})}),y.jsx(Wn,{path:ei.dashboard,element:y.jsx(Gl,{children:y.jsx(z1,{})})}),y.jsx(Wn,{path:ei.premiosProdutividade,element:y.jsx(q4,{})}),y.jsx(Wn,{path:ei.boletinsMedicao,element:y.jsx(G4,{})}),y.jsx(Wn,{path:ei.documentacoes,element:y.jsx(Gl,{children:y.jsx(K4,{})})}),y.jsx(Wn,{path:ei.cadernoVirtual,element:y.jsx(Gl,{children:y.jsx(Y4,{})})}),y.jsx(Wn,{path:ei.lancamentosDiarios,element:y.jsx(Gl,{children:y.jsx(X4,{})})}),y.jsx(Wn,{path:ei.relatorios,element:y.jsx(Gl,{children:y.jsx($4,{})})})]})})}function Z4(){return y.jsx(Gx,{children:y.jsx(J4,{})})}xA.createRoot(document.getElementById("root")).render(y.jsx(z.StrictMode,{children:y.jsx(Z4,{})}));
