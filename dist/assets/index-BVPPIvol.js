(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function qw(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var qm={exports:{}},Zl={};var h0;function Hw(){if(h0)return Zl;h0=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:c}}return Zl.Fragment=e,Zl.jsx=n,Zl.jsxs=n,Zl}var d0;function Fw(){return d0||(d0=1,qm.exports=Hw()),qm.exports}var h=Fw(),Hm={exports:{}},xe={};var f0;function Gw(){if(f0)return xe;f0=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,z={};function $(M,Z,q){this.props=M,this.context=Z,this.refs=z,this.updater=q||O}$.prototype.isReactComponent={},$.prototype.setState=function(M,Z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Z,"setState")},$.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ne(){}ne.prototype=$.prototype;function se(M,Z,q){this.props=M,this.context=Z,this.refs=z,this.updater=q||O}var _e=se.prototype=new ne;_e.constructor=se,Q(_e,$.prototype),_e.isPureReactComponent=!0;var ge=Array.isArray;function we(){}var R={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function I(M,Z,q){var le=q.ref;return{$$typeof:a,type:M,key:Z,ref:le!==void 0?le:null,props:q}}function C(M,Z){return I(M.type,Z,M.props)}function V(M){return typeof M=="object"&&M!==null&&M.$$typeof===a}function k(M){var Z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(q){return Z[q]})}var D=/\/+/g;function Ke(M,Z){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):Z.toString(36)}function ht(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(we,we):(M.status="pending",M.then(function(Z){M.status==="pending"&&(M.status="fulfilled",M.value=Z)},function(Z){M.status==="pending"&&(M.status="rejected",M.reason=Z)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function X(M,Z,q,le,Se){var Ie=typeof M;(Ie==="undefined"||Ie==="boolean")&&(M=null);var ze=!1;if(M===null)ze=!0;else switch(Ie){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(M.$$typeof){case a:case e:ze=!0;break;case T:return ze=M._init,X(ze(M._payload),Z,q,le,Se)}}if(ze)return Se=Se(M),ze=le===""?"."+Ke(M,0):le,ge(Se)?(q="",ze!=null&&(q=ze.replace(D,"$&/")+"/"),X(Se,Z,q,"",function(Is){return Is})):Se!=null&&(V(Se)&&(Se=C(Se,q+(Se.key==null||M&&M.key===Se.key?"":(""+Se.key).replace(D,"$&/")+"/")+ze)),Z.push(Se)),1;ze=0;var Ot=le===""?".":le+":";if(ge(M))for(var ot=0;ot<M.length;ot++)le=M[ot],Ie=Ot+Ke(le,ot),ze+=X(le,Z,q,Ie,Se);else if(ot=x(M),typeof ot=="function")for(M=ot.call(M),ot=0;!(le=M.next()).done;)le=le.value,Ie=Ot+Ke(le,ot++),ze+=X(le,Z,q,Ie,Se);else if(Ie==="object"){if(typeof M.then=="function")return X(ht(M),Z,q,le,Se);throw Z=String(M),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return ze}function re(M,Z,q){if(M==null)return M;var le=[],Se=0;return X(M,le,"","",function(Ie){return Z.call(q,Ie,Se++)}),le}function pe(M){if(M._status===-1){var Z=M._result;Z=Z(),Z.then(function(q){(M._status===0||M._status===-1)&&(M._status=1,M._result=q)},function(q){(M._status===0||M._status===-1)&&(M._status=2,M._result=q)}),M._status===-1&&(M._status=0,M._result=Z)}if(M._status===1)return M._result.default;throw M._result}var ee=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},de={map:re,forEach:function(M,Z,q){re(M,function(){Z.apply(this,arguments)},q)},count:function(M){var Z=0;return re(M,function(){Z++}),Z},toArray:function(M){return re(M,function(Z){return Z})||[]},only:function(M){if(!V(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return xe.Activity=b,xe.Children=de,xe.Component=$,xe.Fragment=n,xe.Profiler=o,xe.PureComponent=se,xe.StrictMode=s,xe.Suspense=v,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,xe.__COMPILER_RUNTIME={__proto__:null,c:function(M){return R.H.useMemoCache(M)}},xe.cache=function(M){return function(){return M.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(M,Z,q){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var le=Q({},M.props),Se=M.key;if(Z!=null)for(Ie in Z.key!==void 0&&(Se=""+Z.key),Z)!N.call(Z,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&Z.ref===void 0||(le[Ie]=Z[Ie]);var Ie=arguments.length-2;if(Ie===1)le.children=q;else if(1<Ie){for(var ze=Array(Ie),Ot=0;Ot<Ie;Ot++)ze[Ot]=arguments[Ot+2];le.children=ze}return I(M.type,Se,le)},xe.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},xe.createElement=function(M,Z,q){var le,Se={},Ie=null;if(Z!=null)for(le in Z.key!==void 0&&(Ie=""+Z.key),Z)N.call(Z,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(Se[le]=Z[le]);var ze=arguments.length-2;if(ze===1)Se.children=q;else if(1<ze){for(var Ot=Array(ze),ot=0;ot<ze;ot++)Ot[ot]=arguments[ot+2];Se.children=Ot}if(M&&M.defaultProps)for(le in ze=M.defaultProps,ze)Se[le]===void 0&&(Se[le]=ze[le]);return I(M,Ie,Se)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(M){return{$$typeof:p,render:M}},xe.isValidElement=V,xe.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:pe}},xe.memo=function(M,Z){return{$$typeof:g,type:M,compare:Z===void 0?null:Z}},xe.startTransition=function(M){var Z=R.T,q={};R.T=q;try{var le=M(),Se=R.S;Se!==null&&Se(q,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(we,ee)}catch(Ie){ee(Ie)}finally{Z!==null&&q.types!==null&&(Z.types=q.types),R.T=Z}},xe.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},xe.use=function(M){return R.H.use(M)},xe.useActionState=function(M,Z,q){return R.H.useActionState(M,Z,q)},xe.useCallback=function(M,Z){return R.H.useCallback(M,Z)},xe.useContext=function(M){return R.H.useContext(M)},xe.useDebugValue=function(){},xe.useDeferredValue=function(M,Z){return R.H.useDeferredValue(M,Z)},xe.useEffect=function(M,Z){return R.H.useEffect(M,Z)},xe.useEffectEvent=function(M){return R.H.useEffectEvent(M)},xe.useId=function(){return R.H.useId()},xe.useImperativeHandle=function(M,Z,q){return R.H.useImperativeHandle(M,Z,q)},xe.useInsertionEffect=function(M,Z){return R.H.useInsertionEffect(M,Z)},xe.useLayoutEffect=function(M,Z){return R.H.useLayoutEffect(M,Z)},xe.useMemo=function(M,Z){return R.H.useMemo(M,Z)},xe.useOptimistic=function(M,Z){return R.H.useOptimistic(M,Z)},xe.useReducer=function(M,Z,q){return R.H.useReducer(M,Z,q)},xe.useRef=function(M){return R.H.useRef(M)},xe.useState=function(M){return R.H.useState(M)},xe.useSyncExternalStore=function(M,Z,q){return R.H.useSyncExternalStore(M,Z,q)},xe.useTransition=function(){return R.H.useTransition()},xe.version="19.2.0",xe}var m0;function Gp(){return m0||(m0=1,Hm.exports=Gw()),Hm.exports}var L=Gp();const cr=qw(L);var Fm={exports:{}},Wl={},Gm={exports:{}},Qm={};var p0;function Qw(){return p0||(p0=1,(function(a){function e(X,re){var pe=X.length;X.push(re);e:for(;0<pe;){var ee=pe-1>>>1,de=X[ee];if(0<o(de,re))X[ee]=re,X[pe]=de,pe=ee;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var re=X[0],pe=X.pop();if(pe!==re){X[0]=pe;e:for(var ee=0,de=X.length,M=de>>>1;ee<M;){var Z=2*(ee+1)-1,q=X[Z],le=Z+1,Se=X[le];if(0>o(q,pe))le<de&&0>o(Se,q)?(X[ee]=Se,X[le]=pe,ee=le):(X[ee]=q,X[Z]=pe,ee=Z);else if(le<de&&0>o(Se,pe))X[ee]=Se,X[le]=pe,ee=le;else break e}}return re}function o(X,re){var pe=X.sortIndex-re.sortIndex;return pe!==0?pe:X.id-re.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var v=[],g=[],T=1,b=null,w=3,x=!1,O=!1,Q=!1,z=!1,$=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function _e(X){for(var re=n(g);re!==null;){if(re.callback===null)s(g);else if(re.startTime<=X)s(g),re.sortIndex=re.expirationTime,e(v,re);else break;re=n(g)}}function ge(X){if(Q=!1,_e(X),!O)if(n(v)!==null)O=!0,we||(we=!0,k());else{var re=n(g);re!==null&&ht(ge,re.startTime-X)}}var we=!1,R=-1,N=5,I=-1;function C(){return z?!0:!(a.unstable_now()-I<N)}function V(){if(z=!1,we){var X=a.unstable_now();I=X;var re=!0;try{e:{O=!1,Q&&(Q=!1,ne(R),R=-1),x=!0;var pe=w;try{t:{for(_e(X),b=n(v);b!==null&&!(b.expirationTime>X&&C());){var ee=b.callback;if(typeof ee=="function"){b.callback=null,w=b.priorityLevel;var de=ee(b.expirationTime<=X);if(X=a.unstable_now(),typeof de=="function"){b.callback=de,_e(X),re=!0;break t}b===n(v)&&s(v),_e(X)}else s(v);b=n(v)}if(b!==null)re=!0;else{var M=n(g);M!==null&&ht(ge,M.startTime-X),re=!1}}break e}finally{b=null,w=pe,x=!1}re=void 0}}finally{re?k():we=!1}}}var k;if(typeof se=="function")k=function(){se(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ke=D.port2;D.port1.onmessage=V,k=function(){Ke.postMessage(null)}}else k=function(){$(V,0)};function ht(X,re){R=$(function(){X(a.unstable_now())},re)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(X){X.callback=null},a.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<X?Math.floor(1e3/X):5},a.unstable_getCurrentPriorityLevel=function(){return w},a.unstable_next=function(X){switch(w){case 1:case 2:case 3:var re=3;break;default:re=w}var pe=w;w=re;try{return X()}finally{w=pe}},a.unstable_requestPaint=function(){z=!0},a.unstable_runWithPriority=function(X,re){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var pe=w;w=X;try{return re()}finally{w=pe}},a.unstable_scheduleCallback=function(X,re,pe){var ee=a.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ee+pe:ee):pe=ee,X){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=pe+de,X={id:T++,callback:re,priorityLevel:X,startTime:pe,expirationTime:de,sortIndex:-1},pe>ee?(X.sortIndex=pe,e(g,X),n(v)===null&&X===n(g)&&(Q?(ne(R),R=-1):Q=!0,ht(ge,pe-ee))):(X.sortIndex=de,e(v,X),O||x||(O=!0,we||(we=!0,k()))),X},a.unstable_shouldYield=C,a.unstable_wrapCallback=function(X){var re=w;return function(){var pe=w;w=re;try{return X.apply(this,arguments)}finally{w=pe}}}})(Qm)),Qm}var g0;function Yw(){return g0||(g0=1,Gm.exports=Qw()),Gm.exports}var Ym={exports:{}},Zt={};var v0;function Kw(){if(v0)return Zt;v0=1;var a=Gp();function e(v){var g="https://react.dev/errors/"+v;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+v+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,g,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:v,containerInfo:g,implementation:T}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,g){if(v==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zt.createPortal=function(v,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(v,g,null,T)},Zt.flushSync=function(v){var g=d.T,T=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=g,s.p=T,s.d.f()}},Zt.preconnect=function(v,g){typeof v=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(v,g))},Zt.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Zt.preinit=function(v,g){if(typeof v=="string"&&g&&typeof g.as=="string"){var T=g.as,b=p(T,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(v,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:x}):T==="script"&&s.d.X(v,{crossOrigin:b,integrity:w,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Zt.preinitModule=function(v,g){if(typeof v=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=p(g.as,g.crossOrigin);s.d.M(v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(v)},Zt.preload=function(v,g){if(typeof v=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,b=p(T,g.crossOrigin);s.d.L(v,T,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Zt.preloadModule=function(v,g){if(typeof v=="string")if(g){var T=p(g.as,g.crossOrigin);s.d.m(v,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(v)},Zt.requestFormReset=function(v){s.d.r(v)},Zt.unstable_batchedUpdates=function(v,g){return v(g)},Zt.useFormState=function(v,g,T){return d.H.useFormState(v,g,T)},Zt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Zt.version="19.2.0",Zt}var y0;function $w(){if(y0)return Ym.exports;y0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Ym.exports=Kw(),Ym.exports}var _0;function Xw(){if(_0)return Wl;_0=1;var a=Yw(),e=Gp(),n=$w();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,r=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(r=i.return),t=i.return;while(t)}return i.tag===3?r:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function v(t){if(c(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(s(188));return i!==t?null:t}for(var r=t,l=i;;){var f=r.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){r=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===r)return v(f),t;if(m===l)return v(f),i;m=m.sibling}throw Error(s(188))}if(r.return!==l.return)r=f,l=m;else{for(var _=!1,S=f.child;S;){if(S===r){_=!0,r=f,l=m;break}if(S===l){_=!0,l=f,r=m;break}S=S.sibling}if(!_){for(S=m.child;S;){if(S===r){_=!0,r=m,l=f;break}if(S===l){_=!0,l=m,r=f;break}S=S.sibling}if(!_)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),se=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Ke(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case $:return"Profiler";case z:return"StrictMode";case ge:return"Suspense";case we:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case se:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case _e:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return i=t.displayName||null,i!==null?i:Ke(t.type)||"Memo";case N:i=t._payload,t=t._init;try{return Ke(t(i))}catch{}}return null}var ht=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ee=[],de=-1;function M(t){return{current:t}}function Z(t){0>de||(t.current=ee[de],ee[de]=null,de--)}function q(t,i){de++,ee[de]=t.current,t.current=i}var le=M(null),Se=M(null),Ie=M(null),ze=M(null);function Ot(t,i){switch(q(Ie,i),q(Se,t),q(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?M_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=M_(i),t=V_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(le),q(le,t)}function ot(){Z(le),Z(Se),Z(Ie)}function Is(t){t.memoizedState!==null&&q(ze,t);var i=le.current,r=V_(i,t.type);i!==r&&(q(Se,t),q(le,r))}function xr(t){Se.current===t&&(Z(le),Z(Se)),ze.current===t&&(Z(ze),Kl._currentValue=pe)}var Rr,Nr;function ua(t){if(Rr===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);Rr=i&&i[1]||"",Nr=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rr+t+Nr}var Ko=!1;function Ds(t,i){if(!t||Ko)return"";Ko=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(K){var G=K}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(K){G=K}t.call(ae.prototype)}}else{try{throw Error()}catch(K){G=K}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),_=m[0],S=m[1];if(_&&S){var j=_.split(`
`),F=S.split(`
`);for(f=l=0;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===j.length||f===F.length)for(l=j.length-1,f=F.length-1;1<=l&&0<=f&&j[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(j[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||j[l]!==F[f]){var J=`
`+j[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=f);break}}}finally{Ko=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ua(r):""}function $o(t,i){switch(t.tag){case 26:case 27:case 5:return ua(t.type);case 16:return ua("Lazy");case 13:return t.child!==i&&i!==null?ua("Suspense Fallback"):ua("Suspense");case 19:return ua("SuspenseList");case 0:case 15:return Ds(t.type,!1);case 11:return Ds(t.type.render,!1);case 1:return Ds(t.type,!0);case 31:return ua("Activity");default:return""}}function Xo(t){try{var i="",r=null;do i+=$o(t,r),r=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Tt=Object.prototype.hasOwnProperty,Mt=a.unstable_scheduleCallback,Ci=a.unstable_cancelCallback,Hd=a.unstable_shouldYield,Yc=a.unstable_requestPaint,an=a.unstable_now,js=a.unstable_getCurrentPriorityLevel,Jo=a.unstable_ImmediatePriority,Zo=a.unstable_UserBlockingPriority,Ii=a.unstable_NormalPriority,Fd=a.unstable_LowPriority,Kc=a.unstable_IdlePriority,$c=a.log,Xc=a.unstable_setDisableYieldValue,Gn=null,qt=null;function Rn(t){if(typeof $c=="function"&&Xc(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Gn,t)}catch{}}var pt=Math.clz32?Math.clz32:Zc,Jc=Math.log,Cr=Math.LN2;function Zc(t){return t>>>=0,t===0?32:31-(Jc(t)/Cr|0)|0}var ha=256,Os=262144,bt=4194304;function da(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fa(t,i,r){var l=t.pendingLanes;if(l===0)return 0;var f=0,m=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~m,l!==0?f=da(l):(_&=S,_!==0?f=da(_):r||(r=S&~t,r!==0&&(f=da(r))))):(S=l&~m,S!==0?f=da(S):_!==0?f=da(_):r||(r=l&~t,r!==0&&(f=da(r)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,r=i&-i,m>=r||m===32&&(r&4194048)!==0)?i:f}function Qn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Gd(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wc(){var t=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),t}function ma(t){for(var i=[],r=0;31>r;r++)i.push(t);return i}function Ms(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Qd(t,i,r,l,f,m){var _=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var S=t.entanglements,j=t.expirationTimes,F=t.hiddenUpdates;for(r=_&~r;0<r;){var J=31-pt(r),ae=1<<J;S[J]=0,j[J]=-1;var G=F[J];if(G!==null)for(F[J]=null,J=0;J<G.length;J++){var K=G[J];K!==null&&(K.lane&=-536870913)}r&=~ae}l!==0&&Vs(t,l,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(_&~i))}function Vs(t,i,r){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-pt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function Wo(t,i){var r=t.entangledLanes|=i;for(t=t.entanglements;r;){var l=31-pt(r),f=1<<l;f&i|t[l]&i&&(t[l]|=i),r&=~f}}function el(t,i){var r=i&-i;return r=(r&42)!==0?1:Ps(r),(r&(t.suspendedLanes|i))!==0?0:r}function Ps(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ga(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function eu(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:i0(t.type))}function Yn(t,i){var r=re.p;try{return re.p=t,i()}finally{re.p=r}}var Kn=Math.random().toString(36).slice(2),St="__reactFiber$"+Kn,Lt="__reactProps$"+Kn,pa="__reactContainer$"+Kn,Ir="__reactEvents$"+Kn,Yd="__reactListeners$"+Kn,tu="__reactHandles$"+Kn,nu="__reactResources$"+Kn,ga="__reactMarker$"+Kn;function Dr(t){delete t[St],delete t[Lt],delete t[Ir],delete t[Yd],delete t[tu]}function va(t){var i=t[St];if(i)return i;for(var r=t.parentNode;r;){if(i=r[pa]||r[St]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(t=q_(t);t!==null;){if(r=t[St])return r;t=q_(t)}return i}t=r,r=t.parentNode}return null}function Nn(t){if(t=t[St]||t[pa]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function vn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function ya(t){var i=t[nu];return i||(i=t[nu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function wt(t){t[ga]=!0}var tl=new Set,nl={};function _a(t,i){Ea(t,i),Ea(t+"Capture",i)}function Ea(t,i){for(nl[t]=i,t=0;t<i.length;t++)tl.add(i[t])}var al=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),il={},sl={};function au(t){return Tt.call(sl,t)?!0:Tt.call(il,t)?!1:al.test(t)?sl[t]=!0:(il[t]=!0,!1)}function jr(t,i,r){if(au(i))if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+r)}}function yn(t,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+r)}}function At(t,i,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(i,r,""+l)}}function kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Di(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function rl(t,i,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){r=""+_,m.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(_){r=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function $e(t){if(!t._valueTracker){var i=Di(t)?"checked":"value";t._valueTracker=rl(t,i,""+t[i])}}function Ls(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var r=i.getValue(),l="";return t&&(l=Di(t)?t.checked?"true":"false":t.value),t=l,t!==r?(i.setValue(t),!0):!1}function Ta(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ks=/[\n"\\]/g;function ln(t){return t.replace(ks,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Or(t,i,r,l,f,m,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+kt(i)):t.value!==""+kt(i)&&(t.value=""+kt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?ol(t,_,kt(i)):r!=null?ol(t,_,kt(r)):l!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+kt(S):t.removeAttribute("name")}function iu(t,i,r,l,f,m,_,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){$e(t);return}r=r!=null?""+kt(r):"",i=i!=null?""+kt(i):r,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),$e(t)}function ol(t,i,r){i==="number"&&Ta(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ji(t,i,r,l){if(t=t.options,i){i={};for(var f=0;f<r.length;f++)i["$"+r[f]]=!0;for(r=0;r<t.length;r++)f=i.hasOwnProperty("$"+t[r].value),t[r].selected!==f&&(t[r].selected=f),f&&l&&(t[r].defaultSelected=!0)}else{for(r=""+kt(r),i=null,f=0;f<t.length;f++){if(t[f].value===r){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function su(t,i,r){if(i!=null&&(i=""+kt(i),i!==t.value&&(t.value=i),r==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=r!=null?""+kt(r):""}function Oi(t,i,r,l){if(i==null){if(l!=null){if(r!=null)throw Error(s(92));if(ht(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),i=r}r=kt(i),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),$e(t)}function cn(t,i){if(i){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=i;return}}t.textContent=i}var ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ll(t,i,r){var l=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,r):typeof r!="number"||r===0||ru.has(i)?i==="float"?t.cssFloat=r:t[i]=(""+r).trim():t[i]=r+"px"}function cl(t,i,r){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&r[f]!==l&&ll(t,f,l)}else for(var m in i)i.hasOwnProperty(m)&&ll(t,m,i[m])}function Mr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vr(t){return Mi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function $n(){}var ul=null;function Cn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vi=null,ba=null;function Us(t){var i=Nn(t);if(i&&(t=i.stateNode)){var r=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Or(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ln(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var l=r[i];if(l!==t&&l.form===t.form){var f=l[Lt]||null;if(!f)throw Error(s(90));Or(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<r.length;i++)l=r[i],l.form===t.form&&Ls(l)}break e;case"textarea":su(t,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&ji(t,!!r.multiple,i,!1)}}}var Pr=!1;function Pi(t,i,r){if(Pr)return t(i,r);Pr=!0;try{var l=t(i);return l}finally{if(Pr=!1,(Vi!==null||ba!==null)&&(eh(),Vi&&(i=Vi,t=ba,ba=Vi=null,Us(i),t)))for(i=0;i<t.length;i++)Us(t[i])}}function Xn(t,i){var r=t.stateNode;if(r===null)return null;var l=r[Lt]||null;if(l===null)return null;r=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,i,typeof r));return r}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zs=!1;if(In)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){zs=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{zs=!1}var Sa=null,hl=null,Bs=null;function dl(){if(Bs)return Bs;var t,i=hl,r=i.length,l,f="value"in Sa?Sa.value:Sa.textContent,m=f.length;for(t=0;t<r&&i[t]===f[t];t++);var _=r-t;for(l=1;l<=_&&i[r-l]===f[m-l];l++);return Bs=f.slice(t,1<l?1-l:void 0)}function qs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Qa(){return!0}function Jn(){return!1}function Ht(t){function i(r,l,f,m,_){this._reactName=r,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(r=t[S],this[S]=r?r(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Qa:Jn,this.isPropagationStopped=Jn,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qa)},persist:function(){},isPersistent:Qa}),i}var Ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=Ht(Ya),Li=b({},Ya,{view:0,detail:0}),fl=Ht(Li),ki,Lr,Aa,kr=b({},Li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ui,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Aa&&(Aa&&t.type==="mousemove"?(ki=t.screenX-Aa.screenX,Lr=t.screenY-Aa.screenY):Lr=ki=0,Aa=t),ki)},movementY:function(t){return"movementY"in t?t.movementY:Lr}}),ml=Ht(kr),Hs=b({},kr,{dataTransfer:0}),lu=Ht(Hs),cu=b({},Li,{relatedTarget:0}),Fs=Ht(cu),pl=b({},Ya,{animationName:0,elapsedTime:0,pseudoElement:0}),uu=Ht(pl),Ur=b({},Ya,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hu=Ht(Ur),du=b({},Ya,{data:0}),xa=Ht(du),fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=pu[t])?!!i[t]:!1}function Ui(){return gu}var sn=b({},Li,{key:function(t){if(t.key){var i=fu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=qs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ui,charCode:function(t){return t.type==="keypress"?qs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vu=Ht(sn),yu=b({},kr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ka=Ht(yu),u=b({},Li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ui}),y=Ht(u),E=b({},Ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ht(E),B=b({},kr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Ht(B),oe=b({},Ya,{newState:0,oldState:0}),Ne=Ht(oe),gt=[9,13,27,32],Ge=In&&"CompositionEvent"in window,lt=null;In&&"documentMode"in document&&(lt=document.documentMode);var Dn=In&&"TextEvent"in window&&!lt,Ra=In&&(!Ge||lt&&8<lt&&11>=lt),Zn=" ",Wn=!1;function Gs(t,i){switch(t){case"keyup":return gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Br=!1;function dS(t,i){switch(t){case"compositionend":return zr(i);case"keypress":return i.which!==32?null:(Wn=!0,Zn);case"textInput":return t=i.data,t===Zn&&Wn?null:t;default:return null}}function fS(t,i){if(Br)return t==="compositionend"||!Ge&&Gs(t,i)?(t=dl(),Bs=hl=Sa=null,Br=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ra&&i.locale!=="ko"?null:i.data;default:return null}}var mS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!mS[t.type]:i==="textarea"}function Qg(t,i,r,l){Vi?ba?ba.push(l):ba=[l]:Vi=l,i=oh(i,"onChange"),0<i.length&&(r=new wa("onChange","change",null,r,l),t.push({event:r,listeners:i}))}var gl=null,vl=null;function pS(t){N_(t,0)}function _u(t){var i=vn(t);if(Ls(i))return t}function Yg(t,i){if(t==="change")return i}var Kg=!1;if(In){var Kd;if(In){var $d="oninput"in document;if(!$d){var $g=document.createElement("div");$g.setAttribute("oninput","return;"),$d=typeof $g.oninput=="function"}Kd=$d}else Kd=!1;Kg=Kd&&(!document.documentMode||9<document.documentMode)}function Xg(){gl&&(gl.detachEvent("onpropertychange",Jg),vl=gl=null)}function Jg(t){if(t.propertyName==="value"&&_u(vl)){var i=[];Qg(i,vl,t,Cn(t)),Pi(pS,i)}}function gS(t,i,r){t==="focusin"?(Xg(),gl=i,vl=r,gl.attachEvent("onpropertychange",Jg)):t==="focusout"&&Xg()}function vS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _u(vl)}function yS(t,i){if(t==="click")return _u(i)}function _S(t,i){if(t==="input"||t==="change")return _u(i)}function ES(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _n=typeof Object.is=="function"?Object.is:ES;function yl(t,i){if(_n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var r=Object.keys(t),l=Object.keys(i);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var f=r[l];if(!Tt.call(i,f)||!_n(t[f],i[f]))return!1}return!0}function Zg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wg(t,i){var r=Zg(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=i&&l>=i)return{node:r,offset:i-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zg(r)}}function ev(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?ev(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function tv(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ta(t.document);i instanceof t.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)t=i.contentWindow;else break;i=Ta(t.document)}return i}function Xd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var TS=In&&"documentMode"in document&&11>=document.documentMode,qr=null,Jd=null,_l=null,Zd=!1;function nv(t,i,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zd||qr==null||qr!==Ta(l)||(l=qr,"selectionStart"in l&&Xd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),_l&&yl(_l,l)||(_l=l,l=oh(Jd,"onSelect"),0<l.length&&(i=new wa("onSelect","select",null,i,r),t.push({event:i,listeners:l}),i.target=qr)))}function Qs(t,i){var r={};return r[t.toLowerCase()]=i.toLowerCase(),r["Webkit"+t]="webkit"+i,r["Moz"+t]="moz"+i,r}var Hr={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionrun:Qs("Transition","TransitionRun"),transitionstart:Qs("Transition","TransitionStart"),transitioncancel:Qs("Transition","TransitionCancel"),transitionend:Qs("Transition","TransitionEnd")},Wd={},av={};In&&(av=document.createElement("div").style,"AnimationEvent"in window||(delete Hr.animationend.animation,delete Hr.animationiteration.animation,delete Hr.animationstart.animation),"TransitionEvent"in window||delete Hr.transitionend.transition);function Ys(t){if(Wd[t])return Wd[t];if(!Hr[t])return t;var i=Hr[t],r;for(r in i)if(i.hasOwnProperty(r)&&r in av)return Wd[t]=i[r];return t}var iv=Ys("animationend"),sv=Ys("animationiteration"),rv=Ys("animationstart"),bS=Ys("transitionrun"),SS=Ys("transitionstart"),wS=Ys("transitioncancel"),ov=Ys("transitionend"),lv=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function ea(t,i){lv.set(t,i),_a(i,[t])}var Eu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},jn=[],Fr=0,tf=0;function Tu(){for(var t=Fr,i=tf=Fr=0;i<t;){var r=jn[i];jn[i++]=null;var l=jn[i];jn[i++]=null;var f=jn[i];jn[i++]=null;var m=jn[i];if(jn[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}m!==0&&cv(r,f,m)}}function bu(t,i,r,l){jn[Fr++]=t,jn[Fr++]=i,jn[Fr++]=r,jn[Fr++]=l,tf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function nf(t,i,r,l){return bu(t,i,r,l),Su(t)}function Ks(t,i){return bu(t,null,null,i),Su(t)}function cv(t,i,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var f=!1,m=t.return;m!==null;)m.childLanes|=r,l=m.alternate,l!==null&&(l.childLanes|=r),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&i!==null&&(f=31-pt(r),t=m.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=r|536870912),m):null}function Su(t){if(50<Bl)throw Bl=0,dm=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Gr={};function AS(t,i,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,i,r,l){return new AS(t,i,r,l)}function af(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $a(t,i){var r=t.alternate;return r===null?(r=En(t.tag,i,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=i,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,i=t.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function uv(t,i){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,i=r.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function wu(t,i,r,l,f,m){var _=0;if(l=t,typeof t=="function")af(t)&&(_=1);else if(typeof t=="string")_=Iw(t,r,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=En(31,r,i,f),t.elementType=I,t.lanes=m,t;case Q:return $s(r.children,f,m,i);case z:_=8,f|=24;break;case $:return t=En(12,r,i,f|2),t.elementType=$,t.lanes=m,t;case ge:return t=En(13,r,i,f),t.elementType=ge,t.lanes=m,t;case we:return t=En(19,r,i,f),t.elementType=we,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case se:_=10;break e;case ne:_=9;break e;case _e:_=11;break e;case R:_=14;break e;case N:_=16,l=null;break e}_=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=En(_,r,i,f),i.elementType=t,i.type=l,i.lanes=m,i}function $s(t,i,r,l){return t=En(7,t,l,i),t.lanes=r,t}function sf(t,i,r){return t=En(6,t,null,i),t.lanes=r,t}function hv(t){var i=En(18,null,null,0);return i.stateNode=t,i}function rf(t,i,r){return i=En(4,t.children!==null?t.children:[],t.key,i),i.lanes=r,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var dv=new WeakMap;function On(t,i){if(typeof t=="object"&&t!==null){var r=dv.get(t);return r!==void 0?r:(i={value:t,source:i,stack:Xo(i)},dv.set(t,i),i)}return{value:t,source:i,stack:Xo(i)}}var Qr=[],Yr=0,Au=null,El=0,Mn=[],Vn=0,zi=null,Na=1,Ca="";function Xa(t,i){Qr[Yr++]=El,Qr[Yr++]=Au,Au=t,El=i}function fv(t,i,r){Mn[Vn++]=Na,Mn[Vn++]=Ca,Mn[Vn++]=zi,zi=t;var l=Na;t=Ca;var f=32-pt(l)-1;l&=~(1<<f),r+=1;var m=32-pt(i)+f;if(30<m){var _=f-f%5;m=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Na=1<<32-pt(i)+f|r<<f|l,Ca=m+t}else Na=1<<m|r<<f|l,Ca=t}function of(t){t.return!==null&&(Xa(t,1),fv(t,1,0))}function lf(t){for(;t===Au;)Au=Qr[--Yr],Qr[Yr]=null,El=Qr[--Yr],Qr[Yr]=null;for(;t===zi;)zi=Mn[--Vn],Mn[Vn]=null,Ca=Mn[--Vn],Mn[Vn]=null,Na=Mn[--Vn],Mn[Vn]=null}function mv(t,i){Mn[Vn++]=Na,Mn[Vn++]=Ca,Mn[Vn++]=zi,Na=i.id,Ca=i.overflow,zi=t}var Ft=null,st=null,Ue=!1,Bi=null,Pn=!1,cf=Error(s(519));function qi(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Tl(On(i,t)),cf}function pv(t){var i=t.stateNode,r=t.type,l=t.memoizedProps;switch(i[St]=t,i[Lt]=l,r){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(r=0;r<Hl.length;r++)Oe(Hl[r],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),iu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),Oi(i,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||l.suppressHydrationWarning===!0||j_(i.textContent,r)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=$n),i=!0):i=!1,i||qi(t,!0)}function gv(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:Ft=Ft.return}}function Kr(t){if(t!==Ft)return!1;if(!Ue)return gv(t),Ue=!0,!1;var i=t.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Rm(t.type,t.memoizedProps)),r=!r),r&&st&&qi(t),gv(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));st=B_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));st=B_(t)}else i===27?(i=st,ns(t.type)?(t=jm,jm=null,st=t):st=i):st=Ft?kn(t.stateNode.nextSibling):null;return!0}function Xs(){st=Ft=null,Ue=!1}function uf(){var t=Bi;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),Bi=null),t}function Tl(t){Bi===null?Bi=[t]:Bi.push(t)}var hf=M(null),Js=null,Ja=null;function Hi(t,i,r){q(hf,i._currentValue),i._currentValue=r}function Za(t){t._currentValue=hf.current,Z(hf)}function df(t,i,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===r)break;t=t.return}}function ff(t,i,r,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=f;for(var j=0;j<i.length;j++)if(S.context===i[j]){m.lanes|=r,S=m.alternate,S!==null&&(S.lanes|=r),df(m.return,r,t),l||(_=null);break e}m=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=r,m=_.alternate,m!==null&&(m.lanes|=r),df(_,r,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function $r(t,i,r,l){t=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=f.type;_n(f.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(f===ze.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Kl):t=[Kl])}f=f.return}t!==null&&ff(i,t,r,l),i.flags|=262144}function xu(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Zs(t){Js=t,Ja=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return vv(Js,t)}function Ru(t,i){return Js===null&&Zs(t),vv(t,i)}function vv(t,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},Ja===null){if(t===null)throw Error(s(308));Ja=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ja=Ja.next=i;return r}var xS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(r){return r()})}},RS=a.unstable_scheduleCallback,NS=a.unstable_NormalPriority,xt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mf(){return{controller:new xS,data:new Map,refCount:0}}function bl(t){t.refCount--,t.refCount===0&&RS(NS,function(){t.controller.abort()})}var Sl=null,pf=0,Xr=0,Jr=null;function CS(t,i){if(Sl===null){var r=Sl=[];pf=0,Xr=ym(),Jr={status:"pending",value:void 0,then:function(l){r.push(l)}}}return pf++,i.then(yv,yv),i}function yv(){if(--pf===0&&Sl!==null){Jr!==null&&(Jr.status="fulfilled");var t=Sl;Sl=null,Xr=0,Jr=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function IS(t,i){var r=[],l={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<r.length;f++)(0,r[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),l}var _v=X.S;X.S=function(t,i){n_=an(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&CS(t,i),_v!==null&&_v(t,i)};var Ws=M(null);function gf(){var t=Ws.current;return t!==null?t:nt.pooledCache}function Nu(t,i){i===null?q(Ws,Ws.current):q(Ws,i.pool)}function Ev(){var t=gf();return t===null?null:{parent:xt._currentValue,pool:t}}var Zr=Error(s(460)),vf=Error(s(474)),Cu=Error(s(542)),Iu={then:function(){}};function Tv(t){return t=t.status,t==="fulfilled"||t==="rejected"}function bv(t,i,r){switch(r=t[r],r===void 0?t.push(i):r!==i&&(i.then($n,$n),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,wv(t),t;default:if(typeof i.status=="string")i.then($n,$n);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,wv(t),t}throw tr=i,Zr}}function er(t){try{var i=t._init;return i(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(tr=r,Zr):r}}var tr=null;function Sv(){if(tr===null)throw Error(s(459));var t=tr;return tr=null,t}function wv(t){if(t===Zr||t===Cu)throw Error(s(483))}var Wr=null,wl=0;function Du(t){var i=wl;return wl+=1,Wr===null&&(Wr=[]),bv(Wr,t,i)}function Al(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ju(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Av(t){function i(U,P){if(t){var H=U.deletions;H===null?(U.deletions=[P],U.flags|=16):H.push(P)}}function r(U,P){if(!t)return null;for(;P!==null;)i(U,P),P=P.sibling;return null}function l(U){for(var P=new Map;U!==null;)U.key!==null?P.set(U.key,U):P.set(U.index,U),U=U.sibling;return P}function f(U,P){return U=$a(U,P),U.index=0,U.sibling=null,U}function m(U,P,H){return U.index=H,t?(H=U.alternate,H!==null?(H=H.index,H<P?(U.flags|=67108866,P):H):(U.flags|=67108866,P)):(U.flags|=1048576,P)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function S(U,P,H,W){return P===null||P.tag!==6?(P=sf(H,U.mode,W),P.return=U,P):(P=f(P,H),P.return=U,P)}function j(U,P,H,W){var ve=H.type;return ve===Q?J(U,P,H.props.children,W,H.key):P!==null&&(P.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===N&&er(ve)===P.type)?(P=f(P,H.props),Al(P,H),P.return=U,P):(P=wu(H.type,H.key,H.props,null,U.mode,W),Al(P,H),P.return=U,P)}function F(U,P,H,W){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=rf(H,U.mode,W),P.return=U,P):(P=f(P,H.children||[]),P.return=U,P)}function J(U,P,H,W,ve){return P===null||P.tag!==7?(P=$s(H,U.mode,W,ve),P.return=U,P):(P=f(P,H),P.return=U,P)}function ae(U,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=sf(""+P,U.mode,H),P.return=U,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case x:return H=wu(P.type,P.key,P.props,null,U.mode,H),Al(H,P),H.return=U,H;case O:return P=rf(P,U.mode,H),P.return=U,P;case N:return P=er(P),ae(U,P,H)}if(ht(P)||k(P))return P=$s(P,U.mode,H,null),P.return=U,P;if(typeof P.then=="function")return ae(U,Du(P),H);if(P.$$typeof===se)return ae(U,Ru(U,P),H);ju(U,P)}return null}function G(U,P,H,W){var ve=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ve!==null?null:S(U,P,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return H.key===ve?j(U,P,H,W):null;case O:return H.key===ve?F(U,P,H,W):null;case N:return H=er(H),G(U,P,H,W)}if(ht(H)||k(H))return ve!==null?null:J(U,P,H,W,null);if(typeof H.then=="function")return G(U,P,Du(H),W);if(H.$$typeof===se)return G(U,P,Ru(U,H),W);ju(U,H)}return null}function K(U,P,H,W,ve){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return U=U.get(H)||null,S(P,U,""+W,ve);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case x:return U=U.get(W.key===null?H:W.key)||null,j(P,U,W,ve);case O:return U=U.get(W.key===null?H:W.key)||null,F(P,U,W,ve);case N:return W=er(W),K(U,P,H,W,ve)}if(ht(W)||k(W))return U=U.get(H)||null,J(P,U,W,ve,null);if(typeof W.then=="function")return K(U,P,H,Du(W),ve);if(W.$$typeof===se)return K(U,P,H,Ru(P,W),ve);ju(P,W)}return null}function he(U,P,H,W){for(var ve=null,He=null,me=P,De=P=0,Ve=null;me!==null&&De<H.length;De++){me.index>De?(Ve=me,me=null):Ve=me.sibling;var Fe=G(U,me,H[De],W);if(Fe===null){me===null&&(me=Ve);break}t&&me&&Fe.alternate===null&&i(U,me),P=m(Fe,P,De),He===null?ve=Fe:He.sibling=Fe,He=Fe,me=Ve}if(De===H.length)return r(U,me),Ue&&Xa(U,De),ve;if(me===null){for(;De<H.length;De++)me=ae(U,H[De],W),me!==null&&(P=m(me,P,De),He===null?ve=me:He.sibling=me,He=me);return Ue&&Xa(U,De),ve}for(me=l(me);De<H.length;De++)Ve=K(me,U,De,H[De],W),Ve!==null&&(t&&Ve.alternate!==null&&me.delete(Ve.key===null?De:Ve.key),P=m(Ve,P,De),He===null?ve=Ve:He.sibling=Ve,He=Ve);return t&&me.forEach(function(os){return i(U,os)}),Ue&&Xa(U,De),ve}function Ee(U,P,H,W){if(H==null)throw Error(s(151));for(var ve=null,He=null,me=P,De=P=0,Ve=null,Fe=H.next();me!==null&&!Fe.done;De++,Fe=H.next()){me.index>De?(Ve=me,me=null):Ve=me.sibling;var os=G(U,me,Fe.value,W);if(os===null){me===null&&(me=Ve);break}t&&me&&os.alternate===null&&i(U,me),P=m(os,P,De),He===null?ve=os:He.sibling=os,He=os,me=Ve}if(Fe.done)return r(U,me),Ue&&Xa(U,De),ve;if(me===null){for(;!Fe.done;De++,Fe=H.next())Fe=ae(U,Fe.value,W),Fe!==null&&(P=m(Fe,P,De),He===null?ve=Fe:He.sibling=Fe,He=Fe);return Ue&&Xa(U,De),ve}for(me=l(me);!Fe.done;De++,Fe=H.next())Fe=K(me,U,De,Fe.value,W),Fe!==null&&(t&&Fe.alternate!==null&&me.delete(Fe.key===null?De:Fe.key),P=m(Fe,P,De),He===null?ve=Fe:He.sibling=Fe,He=Fe);return t&&me.forEach(function(Bw){return i(U,Bw)}),Ue&&Xa(U,De),ve}function tt(U,P,H,W){if(typeof H=="object"&&H!==null&&H.type===Q&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case x:e:{for(var ve=H.key;P!==null;){if(P.key===ve){if(ve=H.type,ve===Q){if(P.tag===7){r(U,P.sibling),W=f(P,H.props.children),W.return=U,U=W;break e}}else if(P.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===N&&er(ve)===P.type){r(U,P.sibling),W=f(P,H.props),Al(W,H),W.return=U,U=W;break e}r(U,P);break}else i(U,P);P=P.sibling}H.type===Q?(W=$s(H.props.children,U.mode,W,H.key),W.return=U,U=W):(W=wu(H.type,H.key,H.props,null,U.mode,W),Al(W,H),W.return=U,U=W)}return _(U);case O:e:{for(ve=H.key;P!==null;){if(P.key===ve)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){r(U,P.sibling),W=f(P,H.children||[]),W.return=U,U=W;break e}else{r(U,P);break}else i(U,P);P=P.sibling}W=rf(H,U.mode,W),W.return=U,U=W}return _(U);case N:return H=er(H),tt(U,P,H,W)}if(ht(H))return he(U,P,H,W);if(k(H)){if(ve=k(H),typeof ve!="function")throw Error(s(150));return H=ve.call(H),Ee(U,P,H,W)}if(typeof H.then=="function")return tt(U,P,Du(H),W);if(H.$$typeof===se)return tt(U,P,Ru(U,H),W);ju(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(r(U,P.sibling),W=f(P,H),W.return=U,U=W):(r(U,P),W=sf(H,U.mode,W),W.return=U,U=W),_(U)):r(U,P)}return function(U,P,H,W){try{wl=0;var ve=tt(U,P,H,W);return Wr=null,ve}catch(me){if(me===Zr||me===Cu)throw me;var He=En(29,me,null,U.mode);return He.lanes=W,He.return=U,He}finally{}}}var nr=Av(!0),xv=Av(!1),Fi=!1;function yf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qi(t,i,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Su(t),cv(t,null,r),i}return bu(t,l,i,r),Su(t)}function xl(t,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,r|=l,i.lanes=r,Wo(t,r)}}function Ef(t,i){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var f=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,r=r.next}while(r!==null);m===null?f=m=i:m=m.next=i}else f=m=i;r={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=i:t.next=i,r.lastBaseUpdate=i}var Tf=!1;function Rl(){if(Tf){var t=Jr;if(t!==null)throw t}}function Nl(t,i,r,l){Tf=!1;var f=t.updateQueue;Fi=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var j=S,F=j.next;j.next=null,_===null?m=F:_.next=F,_=j;var J=t.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==_&&(S===null?J.firstBaseUpdate=F:S.next=F,J.lastBaseUpdate=j))}if(m!==null){var ae=f.baseState;_=0,J=F=j=null,S=m;do{var G=S.lane&-536870913,K=G!==S.lane;if(K?(Me&G)===G:(l&G)===G){G!==0&&G===Xr&&(Tf=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var he=t,Ee=S;G=i;var tt=r;switch(Ee.tag){case 1:if(he=Ee.payload,typeof he=="function"){ae=he.call(tt,ae,G);break e}ae=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Ee.payload,G=typeof he=="function"?he.call(tt,ae,G):he,G==null)break e;ae=b({},ae,G);break e;case 2:Fi=!0}}G=S.callback,G!==null&&(t.flags|=64,K&&(t.flags|=8192),K=f.callbacks,K===null?f.callbacks=[G]:K.push(G))}else K={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(F=J=K,j=ae):J=J.next=K,_|=G;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;K=S,S=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);J===null&&(j=ae),f.baseState=j,f.firstBaseUpdate=F,f.lastBaseUpdate=J,m===null&&(f.shared.lanes=0),Ji|=_,t.lanes=_,t.memoizedState=ae}}function Rv(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Nv(t,i){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Rv(r[t],i)}var eo=M(null),Ou=M(0);function Cv(t,i){t=oi,q(Ou,t),q(eo,i),oi=t|i.baseLanes}function bf(){q(Ou,oi),q(eo,eo.current)}function Sf(){oi=Ou.current,Z(eo),Z(Ou)}var Tn=M(null),Ln=null;function Yi(t){var i=t.alternate;q(vt,vt.current&1),q(Tn,t),Ln===null&&(i===null||eo.current!==null||i.memoizedState!==null)&&(Ln=t)}function wf(t){q(vt,vt.current),q(Tn,t),Ln===null&&(Ln=t)}function Iv(t){t.tag===22?(q(vt,vt.current),q(Tn,t),Ln===null&&(Ln=t)):Ki()}function Ki(){q(vt,vt.current),q(Tn,Tn.current)}function bn(t){Z(Tn),Ln===t&&(Ln=null),Z(vt)}var vt=M(0);function Mu(t){for(var i=t;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Im(r)||Dm(r)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Wa=0,Ce=null,We=null,Rt=null,Vu=!1,to=!1,ar=!1,Pu=0,Cl=0,no=null,DS=0;function ft(){throw Error(s(321))}function Af(t,i){if(i===null)return!1;for(var r=0;r<i.length&&r<t.length;r++)if(!_n(t[r],i[r]))return!1;return!0}function xf(t,i,r,l,f,m){return Wa=m,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=t===null||t.memoizedState===null?fy:Bf,ar=!1,m=r(l,f),ar=!1,to&&(m=jv(i,r,l,f)),Dv(t),m}function Dv(t){X.H=jl;var i=We!==null&&We.next!==null;if(Wa=0,Rt=We=Ce=null,Vu=!1,Cl=0,no=null,i)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&xu(t)&&(Nt=!0))}function jv(t,i,r,l){Ce=t;var f=0;do{if(to&&(no=null),Cl=0,to=!1,25<=f)throw Error(s(301));if(f+=1,Rt=We=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}X.H=my,m=i(r,l)}while(to);return m}function jS(){var t=X.H,i=t.useState()[0];return i=typeof i.then=="function"?Il(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Ce.flags|=1024),i}function Rf(){var t=Pu!==0;return Pu=0,t}function Nf(t,i,r){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~r}function Cf(t){if(Vu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Vu=!1}Wa=0,Rt=We=Ce=null,to=!1,Cl=Pu=0,no=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ce.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function yt(){if(We===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=Rt===null?Ce.memoizedState:Rt.next;if(i!==null)Rt=i,We=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Rt===null?Ce.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function Lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Il(t){var i=Cl;return Cl+=1,no===null&&(no=[]),t=bv(no,t,i),i=Ce,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?fy:Bf),t}function ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Il(t);if(t.$$typeof===se)return Gt(t)}throw Error(s(438,String(t)))}function If(t){var i=null,r=Ce.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=Lu(),Ce.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(t),l=0;l<t;l++)r[l]=C;return i.index++,r}function ei(t,i){return typeof i=="function"?i(t):i}function Uu(t){var i=yt();return Df(i,We,t)}function Df(t,i,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var f=t.baseQueue,m=l.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}i.baseQueue=f=m,l.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{i=f.next;var S=_=null,j=null,F=i,J=!1;do{var ae=F.lane&-536870913;if(ae!==F.lane?(Me&ae)===ae:(Wa&ae)===ae){var G=F.revertLane;if(G===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ae===Xr&&(J=!0);else if((Wa&G)===G){F=F.next,G===Xr&&(J=!0);continue}else ae={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},j===null?(S=j=ae,_=m):j=j.next=ae,Ce.lanes|=G,Ji|=G;ae=F.action,ar&&r(m,ae),m=F.hasEagerState?F.eagerState:r(m,ae)}else G={lane:ae,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},j===null?(S=j=G,_=m):j=j.next=G,Ce.lanes|=ae,Ji|=ae;F=F.next}while(F!==null&&F!==i);if(j===null?_=m:j.next=S,!_n(m,t.memoizedState)&&(Nt=!0,J&&(r=Jr,r!==null)))throw r;t.memoizedState=m,t.baseState=_,t.baseQueue=j,l.lastRenderedState=m}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function jf(t){var i=yt(),r=i.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,f=r.pending,m=i.memoizedState;if(f!==null){r.pending=null;var _=f=f.next;do m=t(m,_.action),_=_.next;while(_!==f);_n(m,i.memoizedState)||(Nt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),r.lastRenderedState=m}return[m,l]}function Ov(t,i,r){var l=Ce,f=yt(),m=Ue;if(m){if(r===void 0)throw Error(s(407));r=r()}else r=i();var _=!_n((We||f).memoizedState,r);if(_&&(f.memoizedState=r,Nt=!0),f=f.queue,Vf(Pv.bind(null,l,f,t),[t]),f.getSnapshot!==i||_||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,ao(9,{destroy:void 0},Vv.bind(null,l,f,r,i),null),nt===null)throw Error(s(349));m||(Wa&127)!==0||Mv(l,i,r)}return r}function Mv(t,i,r){t.flags|=16384,t={getSnapshot:i,value:r},i=Ce.updateQueue,i===null?(i=Lu(),Ce.updateQueue=i,i.stores=[t]):(r=i.stores,r===null?i.stores=[t]:r.push(t))}function Vv(t,i,r,l){i.value=r,i.getSnapshot=l,Lv(i)&&kv(t)}function Pv(t,i,r){return r(function(){Lv(i)&&kv(t)})}function Lv(t){var i=t.getSnapshot;t=t.value;try{var r=i();return!_n(t,r)}catch{return!0}}function kv(t){var i=Ks(t,2);i!==null&&mn(i,t,2)}function Of(t){var i=rn();if(typeof t=="function"){var r=t;if(t=r(),ar){Rn(!0);try{r()}finally{Rn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:t},i}function Uv(t,i,r,l){return t.baseState=r,Df(t,We,typeof l=="function"?l:ei)}function OS(t,i,r,l,f){if(qu(t))throw Error(s(485));if(t=i.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};X.T!==null?r(!0):m.isTransition=!1,l(m),r=i.pending,r===null?(m.next=i.pending=m,zv(i,m)):(m.next=r.next,i.pending=r.next=m)}}function zv(t,i){var r=i.action,l=i.payload,f=t.state;if(i.isTransition){var m=X.T,_={};X.T=_;try{var S=r(f,l),j=X.S;j!==null&&j(_,S),Bv(t,i,S)}catch(F){Mf(t,i,F)}finally{m!==null&&_.types!==null&&(m.types=_.types),X.T=m}}else try{m=r(f,l),Bv(t,i,m)}catch(F){Mf(t,i,F)}}function Bv(t,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){qv(t,i,l)},function(l){return Mf(t,i,l)}):qv(t,i,r)}function qv(t,i,r){i.status="fulfilled",i.value=r,Hv(i),t.state=r,i=t.pending,i!==null&&(r=i.next,r===i?t.pending=null:(r=r.next,i.next=r,zv(t,r)))}function Mf(t,i,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=r,Hv(i),i=i.next;while(i!==l)}t.action=null}function Hv(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Fv(t,i){return i}function Gv(t,i){if(Ue){var r=nt.formState;if(r!==null){e:{var l=Ce;if(Ue){if(st){t:{for(var f=st,m=Pn;f.nodeType!==8;){if(!m){f=null;break t}if(f=kn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){st=kn(f.nextSibling),l=f.data==="F!";break e}}qi(l)}l=!1}l&&(i=r[0])}}return r=rn(),r.memoizedState=r.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fv,lastRenderedState:i},r.queue=l,r=uy.bind(null,Ce,l),l.dispatch=r,l=Of(!1),m=zf.bind(null,Ce,!1,l.queue),l=rn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,r=OS.bind(null,Ce,f,m,r),f.dispatch=r,l.memoizedState=t,[i,r,!1]}function Qv(t){var i=yt();return Yv(i,We,t)}function Yv(t,i,r){if(i=Df(t,i,Fv)[0],t=Uu(ei)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Il(i)}catch(_){throw _===Zr?Cu:_}else l=i;i=yt();var f=i.queue,m=f.dispatch;return r!==i.memoizedState&&(Ce.flags|=2048,ao(9,{destroy:void 0},MS.bind(null,f,r),null)),[l,m,t]}function MS(t,i){t.action=i}function Kv(t){var i=yt(),r=We;if(r!==null)return Yv(i,r,t);yt(),i=i.memoizedState,r=yt();var l=r.queue.dispatch;return r.memoizedState=t,[i,l,!1]}function ao(t,i,r,l){return t={tag:t,create:r,deps:l,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=Lu(),Ce.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,i.lastEffect=t),t}function $v(){return yt().memoizedState}function zu(t,i,r,l){var f=rn();Ce.flags|=t,f.memoizedState=ao(1|i,{destroy:void 0},r,l===void 0?null:l)}function Bu(t,i,r,l){var f=yt();l=l===void 0?null:l;var m=f.memoizedState.inst;We!==null&&l!==null&&Af(l,We.memoizedState.deps)?f.memoizedState=ao(i,m,r,l):(Ce.flags|=t,f.memoizedState=ao(1|i,m,r,l))}function Xv(t,i){zu(8390656,8,t,i)}function Vf(t,i){Bu(2048,8,t,i)}function VS(t){Ce.flags|=4;var i=Ce.updateQueue;if(i===null)i=Lu(),Ce.updateQueue=i,i.events=[t];else{var r=i.events;r===null?i.events=[t]:r.push(t)}}function Jv(t){var i=yt().memoizedState;return VS({ref:i,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Zv(t,i){return Bu(4,2,t,i)}function Wv(t,i){return Bu(4,4,t,i)}function ey(t,i){if(typeof i=="function"){t=t();var r=i(t);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ty(t,i,r){r=r!=null?r.concat([t]):null,Bu(4,4,ey.bind(null,i,t),r)}function Pf(){}function ny(t,i){var r=yt();i=i===void 0?null:i;var l=r.memoizedState;return i!==null&&Af(i,l[1])?l[0]:(r.memoizedState=[t,i],t)}function ay(t,i){var r=yt();i=i===void 0?null:i;var l=r.memoizedState;if(i!==null&&Af(i,l[1]))return l[0];if(l=t(),ar){Rn(!0);try{t()}finally{Rn(!1)}}return r.memoizedState=[l,i],l}function Lf(t,i,r){return r===void 0||(Wa&1073741824)!==0&&(Me&261930)===0?t.memoizedState=i:(t.memoizedState=r,t=i_(),Ce.lanes|=t,Ji|=t,r)}function iy(t,i,r,l){return _n(r,i)?r:eo.current!==null?(t=Lf(t,r,l),_n(t,i)||(Nt=!0),t):(Wa&42)===0||(Wa&1073741824)!==0&&(Me&261930)===0?(Nt=!0,t.memoizedState=r):(t=i_(),Ce.lanes|=t,Ji|=t,i)}function sy(t,i,r,l,f){var m=re.p;re.p=m!==0&&8>m?m:8;var _=X.T,S={};X.T=S,zf(t,!1,i,r);try{var j=f(),F=X.S;if(F!==null&&F(S,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var J=IS(j,l);Dl(t,i,J,An(t))}else Dl(t,i,l,An(t))}catch(ae){Dl(t,i,{then:function(){},status:"rejected",reason:ae},An())}finally{re.p=m,_!==null&&S.types!==null&&(_.types=S.types),X.T=_}}function PS(){}function kf(t,i,r,l){if(t.tag!==5)throw Error(s(476));var f=ry(t).queue;sy(t,f,i,pe,r===null?PS:function(){return oy(t),r(l)})}function ry(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:pe},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:r},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function oy(t){var i=ry(t);i.next===null&&(i=t.alternate.memoizedState),Dl(t,i.next.queue,{},An())}function Uf(){return Gt(Kl)}function ly(){return yt().memoizedState}function cy(){return yt().memoizedState}function LS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var r=An();t=Gi(r);var l=Qi(i,t,r);l!==null&&(mn(l,i,r),xl(l,i,r)),i={cache:mf()},t.payload=i;return}i=i.return}}function kS(t,i,r){var l=An();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},qu(t)?hy(i,r):(r=nf(t,i,r,l),r!==null&&(mn(r,t,l),dy(r,i,l)))}function uy(t,i,r){var l=An();Dl(t,i,r,l)}function Dl(t,i,r,l){var f={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(qu(t))hy(i,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,S=m(_,r);if(f.hasEagerState=!0,f.eagerState=S,_n(S,_))return bu(t,i,f,0),nt===null&&Tu(),!1}catch{}finally{}if(r=nf(t,i,f,l),r!==null)return mn(r,t,l),dy(r,i,l),!0}return!1}function zf(t,i,r,l){if(l={lane:2,revertLane:ym(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},qu(t)){if(i)throw Error(s(479))}else i=nf(t,r,l,2),i!==null&&mn(i,t,2)}function qu(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function hy(t,i){to=Vu=!0;var r=t.pending;r===null?i.next=i:(i.next=r.next,r.next=i),t.pending=i}function dy(t,i,r){if((r&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,r|=l,i.lanes=r,Wo(t,r)}}var jl={readContext:Gt,use:ku,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};jl.useEffectEvent=ft;var fy={readContext:Gt,use:ku,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:Xv,useImperativeHandle:function(t,i,r){r=r!=null?r.concat([t]):null,zu(4194308,4,ey.bind(null,i,t),r)},useLayoutEffect:function(t,i){return zu(4194308,4,t,i)},useInsertionEffect:function(t,i){zu(4,2,t,i)},useMemo:function(t,i){var r=rn();i=i===void 0?null:i;var l=t();if(ar){Rn(!0);try{t()}finally{Rn(!1)}}return r.memoizedState=[l,i],l},useReducer:function(t,i,r){var l=rn();if(r!==void 0){var f=r(i);if(ar){Rn(!0);try{r(i)}finally{Rn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=kS.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=Of(t);var i=t.queue,r=uy.bind(null,Ce,i);return i.dispatch=r,[t.memoizedState,r]},useDebugValue:Pf,useDeferredValue:function(t,i){var r=rn();return Lf(r,t,i)},useTransition:function(){var t=Of(!1);return t=sy.bind(null,Ce,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,r){var l=Ce,f=rn();if(Ue){if(r===void 0)throw Error(s(407));r=r()}else{if(r=i(),nt===null)throw Error(s(349));(Me&127)!==0||Mv(l,i,r)}f.memoizedState=r;var m={value:r,getSnapshot:i};return f.queue=m,Xv(Pv.bind(null,l,m,t),[t]),l.flags|=2048,ao(9,{destroy:void 0},Vv.bind(null,l,m,r,i),null),r},useId:function(){var t=rn(),i=nt.identifierPrefix;if(Ue){var r=Ca,l=Na;r=(l&~(1<<32-pt(l)-1)).toString(32)+r,i="_"+i+"R_"+r,r=Pu++,0<r&&(i+="H"+r.toString(32)),i+="_"}else r=DS++,i="_"+i+"r_"+r.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Uf,useFormState:Gv,useActionState:Gv,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=zf.bind(null,Ce,!0,r),r.dispatch=i,[t,i]},useMemoCache:If,useCacheRefresh:function(){return rn().memoizedState=LS.bind(null,Ce)},useEffectEvent:function(t){var i=rn(),r={impl:t};return i.memoizedState=r,function(){if((Qe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},Bf={readContext:Gt,use:ku,useCallback:ny,useContext:Gt,useEffect:Vf,useImperativeHandle:ty,useInsertionEffect:Zv,useLayoutEffect:Wv,useMemo:ay,useReducer:Uu,useRef:$v,useState:function(){return Uu(ei)},useDebugValue:Pf,useDeferredValue:function(t,i){var r=yt();return iy(r,We.memoizedState,t,i)},useTransition:function(){var t=Uu(ei)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:Il(t),i]},useSyncExternalStore:Ov,useId:ly,useHostTransitionStatus:Uf,useFormState:Qv,useActionState:Qv,useOptimistic:function(t,i){var r=yt();return Uv(r,We,t,i)},useMemoCache:If,useCacheRefresh:cy};Bf.useEffectEvent=Jv;var my={readContext:Gt,use:ku,useCallback:ny,useContext:Gt,useEffect:Vf,useImperativeHandle:ty,useInsertionEffect:Zv,useLayoutEffect:Wv,useMemo:ay,useReducer:jf,useRef:$v,useState:function(){return jf(ei)},useDebugValue:Pf,useDeferredValue:function(t,i){var r=yt();return We===null?Lf(r,t,i):iy(r,We.memoizedState,t,i)},useTransition:function(){var t=jf(ei)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:Il(t),i]},useSyncExternalStore:Ov,useId:ly,useHostTransitionStatus:Uf,useFormState:Kv,useActionState:Kv,useOptimistic:function(t,i){var r=yt();return We!==null?Uv(r,We,t,i):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:If,useCacheRefresh:cy};my.useEffectEvent=Jv;function qf(t,i,r,l){i=t.memoizedState,r=r(l,i),r=r==null?i:b({},i,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Hf={enqueueSetState:function(t,i,r){t=t._reactInternals;var l=An(),f=Gi(l);f.payload=i,r!=null&&(f.callback=r),i=Qi(t,f,l),i!==null&&(mn(i,t,l),xl(i,t,l))},enqueueReplaceState:function(t,i,r){t=t._reactInternals;var l=An(),f=Gi(l);f.tag=1,f.payload=i,r!=null&&(f.callback=r),i=Qi(t,f,l),i!==null&&(mn(i,t,l),xl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var r=An(),l=Gi(r);l.tag=2,i!=null&&(l.callback=i),i=Qi(t,l,r),i!==null&&(mn(i,t,r),xl(i,t,r))}};function py(t,i,r,l,f,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,_):i.prototype&&i.prototype.isPureReactComponent?!yl(r,l)||!yl(f,m):!0}function gy(t,i,r,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,l),i.state!==t&&Hf.enqueueReplaceState(i,i.state,null)}function ir(t,i){var r=i;if("ref"in i){r={};for(var l in i)l!=="ref"&&(r[l]=i[l])}if(t=t.defaultProps){r===i&&(r=b({},r));for(var f in t)r[f]===void 0&&(r[f]=t[f])}return r}function vy(t){Eu(t)}function yy(t){console.error(t)}function _y(t){Eu(t)}function Hu(t,i){try{var r=t.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ey(t,i,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ff(t,i,r){return r=Gi(r),r.tag=3,r.payload={element:null},r.callback=function(){Hu(t,i)},r}function Ty(t){return t=Gi(t),t.tag=3,t}function by(t,i,r,l){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;t.payload=function(){return f(m)},t.callback=function(){Ey(i,r,l)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Ey(i,r,l),typeof f!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function US(t,i,r,l,f){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=r.alternate,i!==null&&$r(i,r,f,!0),r=Tn.current,r!==null){switch(r.tag){case 31:case 13:return Ln===null?th():r.alternate===null&&mt===0&&(mt=3),r.flags&=-257,r.flags|=65536,r.lanes=f,l===Iu?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([l]):i.add(l),pm(t,l,f)),!1;case 22:return r.flags|=65536,l===Iu?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([l]):r.add(l)),pm(t,l,f)),!1}throw Error(s(435,r.tag))}return pm(t,l,f),th(),!1}if(Ue)return i=Tn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==cf&&(t=Error(s(422),{cause:l}),Tl(On(t,r)))):(l!==cf&&(i=Error(s(423),{cause:l}),Tl(On(i,r))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=On(l,r),f=Ff(t.stateNode,l,f),Ef(t,f),mt!==4&&(mt=2)),!1;var m=Error(s(520),{cause:l});if(m=On(m,r),zl===null?zl=[m]:zl.push(m),mt!==4&&(mt=2),i===null)return!0;l=On(l,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,t=f&-f,r.lanes|=t,t=Ff(r.stateNode,l,t),Ef(r,t),!1;case 1:if(i=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Zi===null||!Zi.has(m))))return r.flags|=65536,f&=-f,r.lanes|=f,f=Ty(f),by(f,t,r,l),Ef(r,f),!1}r=r.return}while(r!==null);return!1}var Gf=Error(s(461)),Nt=!1;function Qt(t,i,r,l){i.child=t===null?xv(i,null,r,l):nr(i,t.child,r,l)}function Sy(t,i,r,l,f){r=r.render;var m=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Zs(i),l=xf(t,i,r,_,m,f),S=Rf(),t!==null&&!Nt?(Nf(t,i,f),ti(t,i,f)):(Ue&&S&&of(i),i.flags|=1,Qt(t,i,l,f),i.child)}function wy(t,i,r,l,f){if(t===null){var m=r.type;return typeof m=="function"&&!af(m)&&m.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=m,Ay(t,i,m,l,f)):(t=wu(r.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!Wf(t,f)){var _=m.memoizedProps;if(r=r.compare,r=r!==null?r:yl,r(_,l)&&t.ref===i.ref)return ti(t,i,f)}return i.flags|=1,t=$a(m,l),t.ref=i.ref,t.return=i,i.child=t}function Ay(t,i,r,l,f){if(t!==null){var m=t.memoizedProps;if(yl(m,l)&&t.ref===i.ref)if(Nt=!1,i.pendingProps=l=m,Wf(t,f))(t.flags&131072)!==0&&(Nt=!0);else return i.lanes=t.lanes,ti(t,i,f)}return Qf(t,i,r,l,f)}function xy(t,i,r,l){var f=l.children,m=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|r:r,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~m}else l=0,i.child=null;return Ry(t,i,m,r,l)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Nu(i,m!==null?m.cachePool:null),m!==null?Cv(i,m):bf(),Iv(i);else return l=i.lanes=536870912,Ry(t,i,m!==null?m.baseLanes|r:r,r,l)}else m!==null?(Nu(i,m.cachePool),Cv(i,m),Ki(),i.memoizedState=null):(t!==null&&Nu(i,null),bf(),Ki());return Qt(t,i,f,r),i.child}function Ol(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ry(t,i,r,l,f){var m=gf();return m=m===null?null:{parent:xt._currentValue,pool:m},i.memoizedState={baseLanes:r,cachePool:m},t!==null&&Nu(i,null),bf(),Iv(i),t!==null&&$r(t,i,l,!0),i.childLanes=f,null}function Fu(t,i){return i=Qu({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Ny(t,i,r){return nr(i,t.child,null,r),t=Fu(i,i.pendingProps),t.flags|=2,bn(i),i.memoizedState=null,t}function zS(t,i,r){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ue){if(l.mode==="hidden")return t=Fu(i,l),i.lanes=536870912,Ol(null,t);if(wf(i),(t=st)?(t=z_(t,Pn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:zi!==null?{id:Na,overflow:Ca}:null,retryLane:536870912,hydrationErrors:null},r=hv(t),r.return=i,i.child=r,Ft=i,st=null)):t=null,t===null)throw qi(i);return i.lanes=536870912,null}return Fu(i,l)}var m=t.memoizedState;if(m!==null){var _=m.dehydrated;if(wf(i),f)if(i.flags&256)i.flags&=-257,i=Ny(t,i,r);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Nt||$r(t,i,r,!1),f=(r&t.childLanes)!==0,Nt||f){if(l=nt,l!==null&&(_=el(l,r),_!==0&&_!==m.retryLane))throw m.retryLane=_,Ks(t,_),mn(l,t,_),Gf;th(),i=Ny(t,i,r)}else t=m.treeContext,st=kn(_.nextSibling),Ft=i,Ue=!0,Bi=null,Pn=!1,t!==null&&mv(i,t),i=Fu(i,l),i.flags|=4096;return i}return t=$a(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Gu(t,i){var r=i.ref;if(r===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(i.flags|=4194816)}}function Qf(t,i,r,l,f){return Zs(i),r=xf(t,i,r,l,void 0,f),l=Rf(),t!==null&&!Nt?(Nf(t,i,f),ti(t,i,f)):(Ue&&l&&of(i),i.flags|=1,Qt(t,i,r,f),i.child)}function Cy(t,i,r,l,f,m){return Zs(i),i.updateQueue=null,r=jv(i,l,r,f),Dv(t),l=Rf(),t!==null&&!Nt?(Nf(t,i,m),ti(t,i,m)):(Ue&&l&&of(i),i.flags|=1,Qt(t,i,r,m),i.child)}function Iy(t,i,r,l,f){if(Zs(i),i.stateNode===null){var m=Gr,_=r.contextType;typeof _=="object"&&_!==null&&(m=Gt(_)),m=new r(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Hf,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},yf(i),_=r.contextType,m.context=typeof _=="object"&&_!==null?Gt(_):Gr,m.state=i.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(qf(i,r,_,l),m.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&Hf.enqueueReplaceState(m,m.state,null),Nl(i,l,m,f),Rl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){m=i.stateNode;var S=i.memoizedProps,j=ir(r,S);m.props=j;var F=m.context,J=r.contextType;_=Gr,typeof J=="object"&&J!==null&&(_=Gt(J));var ae=r.getDerivedStateFromProps;J=typeof ae=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,J||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||F!==_)&&gy(i,m,l,_),Fi=!1;var G=i.memoizedState;m.state=G,Nl(i,l,m,f),Rl(),F=i.memoizedState,S||G!==F||Fi?(typeof ae=="function"&&(qf(i,r,ae,l),F=i.memoizedState),(j=Fi||py(i,r,j,l,G,F,_))?(J||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),m.props=l,m.state=F,m.context=_,l=j):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,_f(t,i),_=i.memoizedProps,J=ir(r,_),m.props=J,ae=i.pendingProps,G=m.context,F=r.contextType,j=Gr,typeof F=="object"&&F!==null&&(j=Gt(F)),S=r.getDerivedStateFromProps,(F=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==ae||G!==j)&&gy(i,m,l,j),Fi=!1,G=i.memoizedState,m.state=G,Nl(i,l,m,f),Rl();var K=i.memoizedState;_!==ae||G!==K||Fi||t!==null&&t.dependencies!==null&&xu(t.dependencies)?(typeof S=="function"&&(qf(i,r,S,l),K=i.memoizedState),(J=Fi||py(i,r,J,l,G,K,j)||t!==null&&t.dependencies!==null&&xu(t.dependencies))?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,K,j),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,K,j)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),m.props=l,m.state=K,m.context=j,l=J):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),l=!1)}return m=l,Gu(t,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&l?(i.child=nr(i,t.child,null,f),i.child=nr(i,null,r,f)):Qt(t,i,r,f),i.memoizedState=m.state,t=i.child):t=ti(t,i,f),t}function Dy(t,i,r,l){return Xs(),i.flags|=256,Qt(t,i,r,l),i.child}var Yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kf(t){return{baseLanes:t,cachePool:Ev()}}function $f(t,i,r){return t=t!==null?t.childLanes&~r:0,i&&(t|=wn),t}function jy(t,i,r){var l=i.pendingProps,f=!1,m=(i.flags&128)!==0,_;if((_=m)||(_=t!==null&&t.memoizedState===null?!1:(vt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ue){if(f?Yi(i):Ki(),(t=st)?(t=z_(t,Pn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:zi!==null?{id:Na,overflow:Ca}:null,retryLane:536870912,hydrationErrors:null},r=hv(t),r.return=i,i.child=r,Ft=i,st=null)):t=null,t===null)throw qi(i);return Dm(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(Ki(),f=i.mode,S=Qu({mode:"hidden",children:S},f),l=$s(l,f,r,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=Kf(r),l.childLanes=$f(t,_,r),i.memoizedState=Yf,Ol(null,l)):(Yi(i),Xf(i,S))}var j=t.memoizedState;if(j!==null&&(S=j.dehydrated,S!==null)){if(m)i.flags&256?(Yi(i),i.flags&=-257,i=Jf(t,i,r)):i.memoizedState!==null?(Ki(),i.child=t.child,i.flags|=128,i=null):(Ki(),S=l.fallback,f=i.mode,l=Qu({mode:"visible",children:l.children},f),S=$s(S,f,r,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,nr(i,t.child,null,r),l=i.child,l.memoizedState=Kf(r),l.childLanes=$f(t,_,r),i.memoizedState=Yf,i=Ol(null,l));else if(Yi(i),Dm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(s(419)),l.stack="",l.digest=_,Tl({value:l,source:null,stack:null}),i=Jf(t,i,r)}else if(Nt||$r(t,i,r,!1),_=(r&t.childLanes)!==0,Nt||_){if(_=nt,_!==null&&(l=el(_,r),l!==0&&l!==j.retryLane))throw j.retryLane=l,Ks(t,l),mn(_,t,l),Gf;Im(S)||th(),i=Jf(t,i,r)}else Im(S)?(i.flags|=192,i.child=t.child,i=null):(t=j.treeContext,st=kn(S.nextSibling),Ft=i,Ue=!0,Bi=null,Pn=!1,t!==null&&mv(i,t),i=Xf(i,l.children),i.flags|=4096);return i}return f?(Ki(),S=l.fallback,f=i.mode,j=t.child,F=j.sibling,l=$a(j,{mode:"hidden",children:l.children}),l.subtreeFlags=j.subtreeFlags&65011712,F!==null?S=$a(F,S):(S=$s(S,f,r,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,Ol(null,l),l=i.child,S=t.child.memoizedState,S===null?S=Kf(r):(f=S.cachePool,f!==null?(j=xt._currentValue,f=f.parent!==j?{parent:j,pool:j}:f):f=Ev(),S={baseLanes:S.baseLanes|r,cachePool:f}),l.memoizedState=S,l.childLanes=$f(t,_,r),i.memoizedState=Yf,Ol(t.child,l)):(Yi(i),r=t.child,t=r.sibling,r=$a(r,{mode:"visible",children:l.children}),r.return=i,r.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=r,i.memoizedState=null,r)}function Xf(t,i){return i=Qu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Qu(t,i){return t=En(22,t,null,i),t.lanes=0,t}function Jf(t,i,r){return nr(i,t.child,null,r),t=Xf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Oy(t,i,r){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),df(t.return,i,r)}function Zf(t,i,r,l,f,m){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:f,treeForkCount:m}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=r,_.tailMode=f,_.treeForkCount=m)}function My(t,i,r){var l=i.pendingProps,f=l.revealOrder,m=l.tail;l=l.children;var _=vt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,q(vt,_),Qt(t,i,l,r),l=Ue?El:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Oy(t,r,i);else if(t.tag===19)Oy(t,r,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(r=i.child,f=null;r!==null;)t=r.alternate,t!==null&&Mu(t)===null&&(f=r),r=r.sibling;r=f,r===null?(f=i.child,i.child=null):(f=r.sibling,r.sibling=null),Zf(i,!1,f,r,m,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&Mu(t)===null){i.child=f;break}t=f.sibling,f.sibling=r,r=f,f=t}Zf(i,!0,r,null,m,l);break;case"together":Zf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ti(t,i,r){if(t!==null&&(i.dependencies=t.dependencies),Ji|=i.lanes,(r&i.childLanes)===0)if(t!==null){if($r(t,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,r=$a(t,t.pendingProps),i.child=r,r.return=i;t.sibling!==null;)t=t.sibling,r=r.sibling=$a(t,t.pendingProps),r.return=i;r.sibling=null}return i.child}function Wf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&xu(t)))}function BS(t,i,r){switch(i.tag){case 3:Ot(i,i.stateNode.containerInfo),Hi(i,xt,t.memoizedState.cache),Xs();break;case 27:case 5:Is(i);break;case 4:Ot(i,i.stateNode.containerInfo);break;case 10:Hi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,wf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Yi(i),i.flags|=128,null):(r&i.child.childLanes)!==0?jy(t,i,r):(Yi(i),t=ti(t,i,r),t!==null?t.sibling:null);Yi(i);break;case 19:var f=(t.flags&128)!==0;if(l=(r&i.childLanes)!==0,l||($r(t,i,r,!1),l=(r&i.childLanes)!==0),f){if(l)return My(t,i,r);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),q(vt,vt.current),l)break;return null;case 22:return i.lanes=0,xy(t,i,r,i.pendingProps);case 24:Hi(i,xt,t.memoizedState.cache)}return ti(t,i,r)}function Vy(t,i,r){if(t!==null)if(t.memoizedProps!==i.pendingProps)Nt=!0;else{if(!Wf(t,r)&&(i.flags&128)===0)return Nt=!1,BS(t,i,r);Nt=(t.flags&131072)!==0}else Nt=!1,Ue&&(i.flags&1048576)!==0&&fv(i,El,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=er(i.elementType),i.type=t,typeof t=="function")af(t)?(l=ir(t,l),i.tag=1,i=Iy(null,i,t,l,r)):(i.tag=0,i=Qf(null,i,t,l,r));else{if(t!=null){var f=t.$$typeof;if(f===_e){i.tag=11,i=Sy(null,i,t,l,r);break e}else if(f===R){i.tag=14,i=wy(null,i,t,l,r);break e}}throw i=Ke(t)||t,Error(s(306,i,""))}}return i;case 0:return Qf(t,i,i.type,i.pendingProps,r);case 1:return l=i.type,f=ir(l,i.pendingProps),Iy(t,i,l,f,r);case 3:e:{if(Ot(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var m=i.memoizedState;f=m.element,_f(t,i),Nl(i,l,null,r);var _=i.memoizedState;if(l=_.cache,Hi(i,xt,l),l!==m.cache&&ff(i,[xt],r,!0),Rl(),l=_.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=Dy(t,i,l,r);break e}else if(l!==f){f=On(Error(s(424)),i),Tl(f),i=Dy(t,i,l,r);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(st=kn(t.firstChild),Ft=i,Ue=!0,Bi=null,Pn=!0,r=xv(i,null,l,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Xs(),l===f){i=ti(t,i,r);break e}Qt(t,i,l,r)}i=i.child}return i;case 26:return Gu(t,i),t===null?(r=Q_(i.type,null,i.pendingProps,null))?i.memoizedState=r:Ue||(r=i.type,t=i.pendingProps,l=lh(Ie.current).createElement(r),l[St]=i,l[Lt]=t,Yt(l,r,t),wt(l),i.stateNode=l):i.memoizedState=Q_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Is(i),t===null&&Ue&&(l=i.stateNode=H_(i.type,i.pendingProps,Ie.current),Ft=i,Pn=!0,f=st,ns(i.type)?(jm=f,st=kn(l.firstChild)):st=f),Qt(t,i,i.pendingProps.children,r),Gu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ue&&((f=l=st)&&(l=vw(l,i.type,i.pendingProps,Pn),l!==null?(i.stateNode=l,Ft=i,st=kn(l.firstChild),Pn=!1,f=!0):f=!1),f||qi(i)),Is(i),f=i.type,m=i.pendingProps,_=t!==null?t.memoizedProps:null,l=m.children,Rm(f,m)?l=null:_!==null&&Rm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=xf(t,i,jS,null,null,r),Kl._currentValue=f),Gu(t,i),Qt(t,i,l,r),i.child;case 6:return t===null&&Ue&&((t=r=st)&&(r=yw(r,i.pendingProps,Pn),r!==null?(i.stateNode=r,Ft=i,st=null,t=!0):t=!1),t||qi(i)),null;case 13:return jy(t,i,r);case 4:return Ot(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=nr(i,null,l,r):Qt(t,i,l,r),i.child;case 11:return Sy(t,i,i.type,i.pendingProps,r);case 7:return Qt(t,i,i.pendingProps,r),i.child;case 8:return Qt(t,i,i.pendingProps.children,r),i.child;case 12:return Qt(t,i,i.pendingProps.children,r),i.child;case 10:return l=i.pendingProps,Hi(i,i.type,l.value),Qt(t,i,l.children,r),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Zs(i),f=Gt(f),l=l(f),i.flags|=1,Qt(t,i,l,r),i.child;case 14:return wy(t,i,i.type,i.pendingProps,r);case 15:return Ay(t,i,i.type,i.pendingProps,r);case 19:return My(t,i,r);case 31:return zS(t,i,r);case 22:return xy(t,i,r,i.pendingProps);case 24:return Zs(i),l=Gt(xt),t===null?(f=gf(),f===null&&(f=nt,m=mf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=r),f=m),i.memoizedState={parent:l,cache:f},yf(i),Hi(i,xt,f)):((t.lanes&r)!==0&&(_f(t,i),Nl(i,null,null,r),Rl()),f=t.memoizedState,m=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Hi(i,xt,l)):(l=m.cache,Hi(i,xt,l),l!==f.cache&&ff(i,[xt],r,!0))),Qt(t,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ni(t){t.flags|=4}function em(t,i,r,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(l_())t.flags|=8192;else throw tr=Iu,vf}else t.flags&=-16777217}function Py(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!J_(i))if(l_())t.flags|=8192;else throw tr=Iu,vf}function Yu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Wc():536870912,t.lanes|=i,oo|=i)}function Ml(t,i){if(!Ue)switch(t.tailMode){case"hidden":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(i)for(var f=t.child;f!==null;)r|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)r|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=r,i}function qS(t,i,r){var l=i.pendingProps;switch(lf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return r=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Za(xt),ot(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Kr(i)?ni(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,uf())),rt(i),null;case 26:var f=i.type,m=i.memoizedState;return t===null?(ni(i),m!==null?(rt(i),Py(i,m)):(rt(i),em(i,f,null,l,r))):m?m!==t.memoizedState?(ni(i),rt(i),Py(i,m)):(rt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&ni(i),rt(i),em(i,f,t,l,r)),null;case 27:if(xr(i),r=Ie.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ni(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}t=le.current,Kr(i)?pv(i):(t=H_(f,l,r),i.stateNode=t,ni(i))}return rt(i),null;case 5:if(xr(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ni(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(m=le.current,Kr(i))pv(i);else{var _=lh(Ie.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}m[St]=i,m[Lt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=m;e:switch(Yt(m,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ni(i)}}return rt(i),em(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,r),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ni(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ie.current,Kr(i)){if(t=i.stateNode,r=i.memoizedProps,l=null,f=Ft,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[St]=i,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||j_(t.nodeValue,r)),t||qi(i,!0)}else t=lh(t).createTextNode(l),t[St]=i,i.stateNode=t}return rt(i),null;case 31:if(r=i.memoizedState,t===null||t.memoizedState!==null){if(l=Kr(i),r!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[St]=i}else Xs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),t=!1}else r=uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return i.flags&256?(bn(i),i):(bn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Kr(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[St]=i}else Xs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),f=!1}else f=uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(bn(i),i):(bn(i),null)}return bn(i),(i.flags&128)!==0?(i.lanes=r,i):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)),r!==t&&r&&(i.child.flags|=8192),Yu(i,i.updateQueue),rt(i),null);case 4:return ot(),t===null&&bm(i.stateNode.containerInfo),rt(i),null;case 10:return Za(i.type),rt(i),null;case 19:if(Z(vt),l=i.memoizedState,l===null)return rt(i),null;if(f=(i.flags&128)!==0,m=l.rendering,m===null)if(f)Ml(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=Mu(t),m!==null){for(i.flags|=128,Ml(l,!1),t=m.updateQueue,i.updateQueue=t,Yu(i,t),i.subtreeFlags=0,t=r,r=i.child;r!==null;)uv(r,t),r=r.sibling;return q(vt,vt.current&1|2),Ue&&Xa(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&an()>Zu&&(i.flags|=128,f=!0,Ml(l,!1),i.lanes=4194304)}else{if(!f)if(t=Mu(m),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Yu(i,t),Ml(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!Ue)return rt(i),null}else 2*an()-l.renderingStartTime>Zu&&r!==536870912&&(i.flags|=128,f=!0,Ml(l,!1),i.lanes=4194304);l.isBackwards?(m.sibling=i.child,i.child=m):(t=l.last,t!==null?t.sibling=m:i.child=m,l.last=m)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=an(),t.sibling=null,r=vt.current,q(vt,f?r&1|2:r&1),Ue&&Xa(i,l.treeForkCount),t):(rt(i),null);case 22:case 23:return bn(i),Sf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(r&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),r=i.updateQueue,r!==null&&Yu(i,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==r&&(i.flags|=2048),t!==null&&Z(Ws),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),Za(xt),rt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function HS(t,i){switch(lf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Za(xt),ot(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return xr(i),null;case 31:if(i.memoizedState!==null){if(bn(i),i.alternate===null)throw Error(s(340));Xs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(bn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Xs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Z(vt),null;case 4:return ot(),null;case 10:return Za(i.type),null;case 22:case 23:return bn(i),Sf(),t!==null&&Z(Ws),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Za(xt),null;case 25:return null;default:return null}}function Ly(t,i){switch(lf(i),i.tag){case 3:Za(xt),ot();break;case 26:case 27:case 5:xr(i);break;case 4:ot();break;case 31:i.memoizedState!==null&&bn(i);break;case 13:bn(i);break;case 19:Z(vt);break;case 10:Za(i.type);break;case 22:case 23:bn(i),Sf(),t!==null&&Z(Ws);break;case 24:Za(xt)}}function Vl(t,i){try{var r=i.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var f=l.next;r=f;do{if((r.tag&t)===t){l=void 0;var m=r.create,_=r.inst;l=m(),_.destroy=l}r=r.next}while(r!==f)}}catch(S){Je(i,i.return,S)}}function $i(t,i,r){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=i;var j=r,F=S;try{F()}catch(J){Je(f,j,J)}}}l=l.next}while(l!==m)}}catch(J){Je(i,i.return,J)}}function ky(t){var i=t.updateQueue;if(i!==null){var r=t.stateNode;try{Nv(i,r)}catch(l){Je(t,t.return,l)}}}function Uy(t,i,r){r.props=ir(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Je(t,i,l)}}function Pl(t,i){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(f){Je(t,i,f)}}function Ia(t,i){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(f){Je(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){Je(t,i,f)}else r.current=null}function zy(t){var i=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(f){Je(t,t.return,f)}}function tm(t,i,r){try{var l=t.stateNode;hw(l,t.type,r,i),l[Lt]=i}catch(f){Je(t,t.return,f)}}function By(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ns(t.type)||t.tag===4}function nm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||By(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ns(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function am(t,i,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(t),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=$n));else if(l!==4&&(l===27&&ns(t.type)&&(r=t.stateNode,i=null),t=t.child,t!==null))for(am(t,i,r),t=t.sibling;t!==null;)am(t,i,r),t=t.sibling}function Ku(t,i,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?r.insertBefore(t,i):r.appendChild(t);else if(l!==4&&(l===27&&ns(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Ku(t,i,r),t=t.sibling;t!==null;)Ku(t,i,r),t=t.sibling}function qy(t){var i=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Yt(i,l,r),i[St]=t,i[Lt]=r}catch(m){Je(t,t.return,m)}}var ai=!1,Ct=!1,im=!1,Hy=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function FS(t,i){if(t=t.containerInfo,Am=ph,t=tv(t),Xd(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break e}var _=0,S=-1,j=-1,F=0,J=0,ae=t,G=null;t:for(;;){for(var K;ae!==r||f!==0&&ae.nodeType!==3||(S=_+f),ae!==m||l!==0&&ae.nodeType!==3||(j=_+l),ae.nodeType===3&&(_+=ae.nodeValue.length),(K=ae.firstChild)!==null;)G=ae,ae=K;for(;;){if(ae===t)break t;if(G===r&&++F===f&&(S=_),G===m&&++J===l&&(j=_),(K=ae.nextSibling)!==null)break;ae=G,G=ae.parentNode}ae=K}r=S===-1||j===-1?null:{start:S,end:j}}else r=null}r=r||{start:0,end:0}}else r=null;for(xm={focusedElem:t,selectionRange:r},ph=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,m=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)f=t[r],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,r=i,f=m.memoizedProps,m=m.memoizedState,l=r.stateNode;try{var he=ir(r.type,f);t=l.getSnapshotBeforeUpdate(he,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){Je(r,r.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,r=t.nodeType,r===9)Cm(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Cm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function Fy(t,i,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:si(t,r),l&4&&Vl(5,r);break;case 1:if(si(t,r),l&4)if(t=r.stateNode,i===null)try{t.componentDidMount()}catch(_){Je(r,r.return,_)}else{var f=ir(r.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Je(r,r.return,_)}}l&64&&ky(r),l&512&&Pl(r,r.return);break;case 3:if(si(t,r),l&64&&(t=r.updateQueue,t!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{Nv(t,i)}catch(_){Je(r,r.return,_)}}break;case 27:i===null&&l&4&&qy(r);case 26:case 5:si(t,r),i===null&&l&4&&zy(r),l&512&&Pl(r,r.return);break;case 12:si(t,r);break;case 31:si(t,r),l&4&&Yy(t,r);break;case 13:si(t,r),l&4&&Ky(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=WS.bind(null,r),_w(t,r))));break;case 22:if(l=r.memoizedState!==null||ai,!l){i=i!==null&&i.memoizedState!==null||Ct,f=ai;var m=Ct;ai=l,(Ct=i)&&!m?ri(t,r,(r.subtreeFlags&8772)!==0):si(t,r),ai=f,Ct=m}break;case 30:break;default:si(t,r)}}function Gy(t){var i=t.alternate;i!==null&&(t.alternate=null,Gy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Dr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,un=!1;function ii(t,i,r){for(r=r.child;r!==null;)Qy(t,i,r),r=r.sibling}function Qy(t,i,r){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Gn,r)}catch{}switch(r.tag){case 26:Ct||Ia(r,i),ii(t,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ct||Ia(r,i);var l=ct,f=un;ns(r.type)&&(ct=r.stateNode,un=!1),ii(t,i,r),Gl(r.stateNode),ct=l,un=f;break;case 5:Ct||Ia(r,i);case 6:if(l=ct,f=un,ct=null,ii(t,i,r),ct=l,un=f,ct!==null)if(un)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(r.stateNode)}catch(m){Je(r,i,m)}else try{ct.removeChild(r.stateNode)}catch(m){Je(r,i,m)}break;case 18:ct!==null&&(un?(t=ct,k_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),go(t)):k_(ct,r.stateNode));break;case 4:l=ct,f=un,ct=r.stateNode.containerInfo,un=!0,ii(t,i,r),ct=l,un=f;break;case 0:case 11:case 14:case 15:$i(2,r,i),Ct||$i(4,r,i),ii(t,i,r);break;case 1:Ct||(Ia(r,i),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Uy(r,i,l)),ii(t,i,r);break;case 21:ii(t,i,r);break;case 22:Ct=(l=Ct)||r.memoizedState!==null,ii(t,i,r),Ct=l;break;default:ii(t,i,r)}}function Yy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{go(t)}catch(r){Je(i,i.return,r)}}}function Ky(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{go(t)}catch(r){Je(i,i.return,r)}}function GS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Hy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Hy),i;default:throw Error(s(435,t.tag))}}function $u(t,i){var r=GS(t);i.forEach(function(l){if(!r.has(l)){r.add(l);var f=ew.bind(null,t,l);l.then(f,f)}})}function hn(t,i){var r=i.deletions;if(r!==null)for(var l=0;l<r.length;l++){var f=r[l],m=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(ns(S.type)){ct=S.stateNode,un=!1;break e}break;case 5:ct=S.stateNode,un=!1;break e;case 3:case 4:ct=S.stateNode.containerInfo,un=!0;break e}S=S.return}if(ct===null)throw Error(s(160));Qy(m,_,f),ct=null,un=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)$y(i,t),i=i.sibling}var ta=null;function $y(t,i){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(i,t),dn(t),l&4&&($i(3,t,t.return),Vl(3,t),$i(5,t,t.return));break;case 1:hn(i,t),dn(t),l&512&&(Ct||r===null||Ia(r,r.return)),l&64&&ai&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var f=ta;if(hn(i,t),dn(t),l&512&&(Ct||r===null||Ia(r,r.return)),l&4){var m=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[ga]||m[St]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Yt(m,l,r),m[St]=t,wt(m),l=m;break e;case"link":var _=$_("link","href",f).get(l+(r.href||""));if(_){for(var S=0;S<_.length;S++)if(m=_[S],m.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(S,1);break t}}m=f.createElement(l),Yt(m,l,r),f.head.appendChild(m);break;case"meta":if(_=$_("meta","content",f).get(l+(r.content||""))){for(S=0;S<_.length;S++)if(m=_[S],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(S,1);break t}}m=f.createElement(l),Yt(m,l,r),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[St]=t,wt(m),l=m}t.stateNode=l}else X_(f,t.type,t.stateNode);else t.stateNode=K_(f,l,t.memoizedProps);else m!==l?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,l===null?X_(f,t.type,t.stateNode):K_(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&tm(t,t.memoizedProps,r.memoizedProps)}break;case 27:hn(i,t),dn(t),l&512&&(Ct||r===null||Ia(r,r.return)),r!==null&&l&4&&tm(t,t.memoizedProps,r.memoizedProps);break;case 5:if(hn(i,t),dn(t),l&512&&(Ct||r===null||Ia(r,r.return)),t.flags&32){f=t.stateNode;try{cn(f,"")}catch(he){Je(t,t.return,he)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,tm(t,f,r!==null?r.memoizedProps:f)),l&1024&&(im=!0);break;case 6:if(hn(i,t),dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(he){Je(t,t.return,he)}}break;case 3:if(hh=null,f=ta,ta=ch(i.containerInfo),hn(i,t),ta=f,dn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{go(i.containerInfo)}catch(he){Je(t,t.return,he)}im&&(im=!1,Xy(t));break;case 4:l=ta,ta=ch(t.stateNode.containerInfo),hn(i,t),dn(t),ta=l;break;case 12:hn(i,t),dn(t);break;case 31:hn(i,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$u(t,l)));break;case 13:hn(i,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ju=an()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$u(t,l)));break;case 22:f=t.memoizedState!==null;var j=r!==null&&r.memoizedState!==null,F=ai,J=Ct;if(ai=F||f,Ct=J||j,hn(i,t),Ct=J,ai=F,dn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(r===null||j||ai||Ct||sr(t)),r=null,i=t;;){if(i.tag===5||i.tag===26){if(r===null){j=r=i;try{if(m=j.stateNode,f)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=j.stateNode;var ae=j.memoizedProps.style,G=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(he){Je(j,j.return,he)}}}else if(i.tag===6){if(r===null){j=i;try{j.stateNode.nodeValue=f?"":j.memoizedProps}catch(he){Je(j,j.return,he)}}}else if(i.tag===18){if(r===null){j=i;try{var K=j.stateNode;f?U_(K,!0):U_(j.stateNode,!1)}catch(he){Je(j,j.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,$u(t,r))));break;case 19:hn(i,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$u(t,l)));break;case 30:break;case 21:break;default:hn(i,t),dn(t)}}function dn(t){var i=t.flags;if(i&2){try{for(var r,l=t.return;l!==null;){if(By(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var f=r.stateNode,m=nm(t);Ku(t,m,f);break;case 5:var _=r.stateNode;r.flags&32&&(cn(_,""),r.flags&=-33);var S=nm(t);Ku(t,S,_);break;case 3:case 4:var j=r.stateNode.containerInfo,F=nm(t);am(t,F,j);break;default:throw Error(s(161))}}catch(J){Je(t,t.return,J)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Xy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Xy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function si(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Fy(t,i.alternate,i),i=i.sibling}function sr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:$i(4,i,i.return),sr(i);break;case 1:Ia(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&Uy(i,i.return,r),sr(i);break;case 27:Gl(i.stateNode);case 26:case 5:Ia(i,i.return),sr(i);break;case 22:i.memoizedState===null&&sr(i);break;case 30:sr(i);break;default:sr(i)}t=t.sibling}}function ri(t,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,m=i,_=m.flags;switch(m.tag){case 0:case 11:case 15:ri(f,m,r),Vl(4,m);break;case 1:if(ri(f,m,r),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){Je(l,l.return,F)}if(l=m,f=l.updateQueue,f!==null){var S=l.stateNode;try{var j=f.shared.hiddenCallbacks;if(j!==null)for(f.shared.hiddenCallbacks=null,f=0;f<j.length;f++)Rv(j[f],S)}catch(F){Je(l,l.return,F)}}r&&_&64&&ky(m),Pl(m,m.return);break;case 27:qy(m);case 26:case 5:ri(f,m,r),r&&l===null&&_&4&&zy(m),Pl(m,m.return);break;case 12:ri(f,m,r);break;case 31:ri(f,m,r),r&&_&4&&Yy(f,m);break;case 13:ri(f,m,r),r&&_&4&&Ky(f,m);break;case 22:m.memoizedState===null&&ri(f,m,r),Pl(m,m.return);break;case 30:break;default:ri(f,m,r)}i=i.sibling}}function sm(t,i){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&bl(r))}function rm(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&bl(t))}function na(t,i,r,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Jy(t,i,r,l),i=i.sibling}function Jy(t,i,r,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:na(t,i,r,l),f&2048&&Vl(9,i);break;case 1:na(t,i,r,l);break;case 3:na(t,i,r,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&bl(t)));break;case 12:if(f&2048){na(t,i,r,l),t=i.stateNode;try{var m=i.memoizedProps,_=m.id,S=m.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(j){Je(i,i.return,j)}}else na(t,i,r,l);break;case 31:na(t,i,r,l);break;case 13:na(t,i,r,l);break;case 23:break;case 22:m=i.stateNode,_=i.alternate,i.memoizedState!==null?m._visibility&2?na(t,i,r,l):Ll(t,i):m._visibility&2?na(t,i,r,l):(m._visibility|=2,io(t,i,r,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&sm(_,i);break;case 24:na(t,i,r,l),f&2048&&rm(i.alternate,i);break;default:na(t,i,r,l)}}function io(t,i,r,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=t,_=i,S=r,j=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:io(m,_,S,j,f),Vl(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?io(m,_,S,j,f):Ll(m,_):(J._visibility|=2,io(m,_,S,j,f)),f&&F&2048&&sm(_.alternate,_);break;case 24:io(m,_,S,j,f),f&&F&2048&&rm(_.alternate,_);break;default:io(m,_,S,j,f)}i=i.sibling}}function Ll(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=t,l=i,f=l.flags;switch(l.tag){case 22:Ll(r,l),f&2048&&sm(l.alternate,l);break;case 24:Ll(r,l),f&2048&&rm(l.alternate,l);break;default:Ll(r,l)}i=i.sibling}}var kl=8192;function so(t,i,r){if(t.subtreeFlags&kl)for(t=t.child;t!==null;)Zy(t,i,r),t=t.sibling}function Zy(t,i,r){switch(t.tag){case 26:so(t,i,r),t.flags&kl&&t.memoizedState!==null&&Dw(r,ta,t.memoizedState,t.memoizedProps);break;case 5:so(t,i,r);break;case 3:case 4:var l=ta;ta=ch(t.stateNode.containerInfo),so(t,i,r),ta=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=kl,kl=16777216,so(t,i,r),kl=l):so(t,i,r));break;default:so(t,i,r)}}function Wy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ul(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var l=i[r];Ut=l,t_(l,t)}Wy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)e_(t),t=t.sibling}function e_(t){switch(t.tag){case 0:case 11:case 15:Ul(t),t.flags&2048&&$i(9,t,t.return);break;case 3:Ul(t);break;case 12:Ul(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Xu(t)):Ul(t);break;default:Ul(t)}}function Xu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var l=i[r];Ut=l,t_(l,t)}Wy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:$i(8,i,i.return),Xu(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,Xu(i));break;default:Xu(i)}t=t.sibling}}function t_(t,i){for(;Ut!==null;){var r=Ut;switch(r.tag){case 0:case 11:case 15:$i(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:bl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ut=l;else e:for(r=t;Ut!==null;){l=Ut;var f=l.sibling,m=l.return;if(Gy(l),l===r){Ut=null;break e}if(f!==null){f.return=m,Ut=f;break e}Ut=m}}}var QS={getCacheForType:function(t){var i=Gt(xt),r=i.data.get(t);return r===void 0&&(r=t(),i.data.set(t,r)),r},cacheSignal:function(){return Gt(xt).controller.signal}},YS=typeof WeakMap=="function"?WeakMap:Map,Qe=0,nt=null,je=null,Me=0,Xe=0,Sn=null,Xi=!1,ro=!1,om=!1,oi=0,mt=0,Ji=0,rr=0,lm=0,wn=0,oo=0,zl=null,fn=null,cm=!1,Ju=0,n_=0,Zu=1/0,Wu=null,Zi=null,Vt=0,Wi=null,lo=null,li=0,um=0,hm=null,a_=null,Bl=0,dm=null;function An(){return(Qe&2)!==0&&Me!==0?Me&-Me:X.T!==null?ym():eu()}function i_(){if(wn===0)if((Me&536870912)===0||Ue){var t=Os;Os<<=1,(Os&3932160)===0&&(Os=262144),wn=t}else wn=536870912;return t=Tn.current,t!==null&&(t.flags|=32),wn}function mn(t,i,r){(t===nt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(co(t,0),es(t,Me,wn,!1)),Ms(t,r),((Qe&2)===0||t!==nt)&&(t===nt&&((Qe&2)===0&&(rr|=r),mt===4&&es(t,Me,wn,!1)),Da(t))}function s_(t,i,r){if((Qe&6)!==0)throw Error(s(327));var l=!r&&(i&127)===0&&(i&t.expiredLanes)===0||Qn(t,i),f=l?XS(t,i):mm(t,i,!0),m=l;do{if(f===0){ro&&!l&&es(t,i,0,!1);break}else{if(r=t.current.alternate,m&&!KS(r)){f=mm(t,i,!1),m=!1;continue}if(f===2){if(m=i,t.errorRecoveryDisabledLanes&m)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;f=zl;var j=S.current.memoizedState.isDehydrated;if(j&&(co(S,_).flags|=256),_=mm(S,_,!1),_!==2){if(om&&!j){S.errorRecoveryDisabledLanes|=m,rr|=m,f=4;break e}m=fn,fn=f,m!==null&&(fn===null?fn=m:fn.push.apply(fn,m))}f=_}if(m=!1,f!==2)continue}}if(f===1){co(t,0),es(t,i,0,!0);break}e:{switch(l=t,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:es(l,i,wn,!Xi);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Ju+300-an(),10<f)){if(es(l,i,wn,!Xi),fa(l,0,!0)!==0)break e;li=i,l.timeoutHandle=P_(r_.bind(null,l,r,fn,Wu,cm,i,wn,rr,oo,Xi,m,"Throttled",-0,0),f);break e}r_(l,r,fn,Wu,cm,i,wn,rr,oo,Xi,m,null,-0,0)}}break}while(!0);Da(t)}function r_(t,i,r,l,f,m,_,S,j,F,J,ae,G,K){if(t.timeoutHandle=-1,ae=i.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},Zy(i,m,ae);var he=(m&62914560)===m?Ju-an():(m&4194048)===m?n_-an():0;if(he=jw(ae,he),he!==null){li=m,t.cancelPendingCommit=he(m_.bind(null,t,i,m,r,l,f,_,S,j,J,ae,null,G,K)),es(t,m,_,!F);return}}m_(t,i,m,r,l,f,_,S,j)}function KS(t){for(var i=t;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var f=r[l],m=f.getSnapshot;f=f.value;try{if(!_n(m(),f))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function es(t,i,r,l){i&=~lm,i&=~rr,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var m=31-pt(f),_=1<<m;l[m]=-1,f&=~_}r!==0&&Vs(t,r,i)}function eh(){return(Qe&6)===0?(ql(0),!1):!0}function fm(){if(je!==null){if(Xe===0)var t=je.return;else t=je,Ja=Js=null,Cf(t),Wr=null,wl=0,t=je;for(;t!==null;)Ly(t.alternate,t),t=t.return;je=null}}function co(t,i){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,mw(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),li=0,fm(),nt=t,je=r=$a(t.current,null),Me=i,Xe=0,Sn=null,Xi=!1,ro=Qn(t,i),om=!1,oo=wn=lm=rr=Ji=mt=0,fn=zl=null,cm=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-pt(l),m=1<<f;i|=t[f],l&=~m}return oi=i,Tu(),r}function o_(t,i){Ce=null,X.H=jl,i===Zr||i===Cu?(i=Sv(),Xe=3):i===vf?(i=Sv(),Xe=4):Xe=i===Gf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,je===null&&(mt=1,Hu(t,On(i,t.current)))}function l_(){var t=Tn.current;return t===null?!0:(Me&4194048)===Me?Ln===null:(Me&62914560)===Me||(Me&536870912)!==0?t===Ln:!1}function c_(){var t=X.H;return X.H=jl,t===null?jl:t}function u_(){var t=X.A;return X.A=QS,t}function th(){mt=4,Xi||(Me&4194048)!==Me&&Tn.current!==null||(ro=!0),(Ji&134217727)===0&&(rr&134217727)===0||nt===null||es(nt,Me,wn,!1)}function mm(t,i,r){var l=Qe;Qe|=2;var f=c_(),m=u_();(nt!==t||Me!==i)&&(Wu=null,co(t,i)),i=!1;var _=mt;e:do try{if(Xe!==0&&je!==null){var S=je,j=Sn;switch(Xe){case 8:fm(),_=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(i=!0);var F=Xe;if(Xe=0,Sn=null,uo(t,S,j,F),r&&ro){_=0;break e}break;default:F=Xe,Xe=0,Sn=null,uo(t,S,j,F)}}$S(),_=mt;break}catch(J){o_(t,J)}while(!0);return i&&t.shellSuspendCounter++,Ja=Js=null,Qe=l,X.H=f,X.A=m,je===null&&(nt=null,Me=0,Tu()),_}function $S(){for(;je!==null;)h_(je)}function XS(t,i){var r=Qe;Qe|=2;var l=c_(),f=u_();nt!==t||Me!==i?(Wu=null,Zu=an()+500,co(t,i)):ro=Qn(t,i);e:do try{if(Xe!==0&&je!==null){i=je;var m=Sn;t:switch(Xe){case 1:Xe=0,Sn=null,uo(t,i,m,1);break;case 2:case 9:if(Tv(m)){Xe=0,Sn=null,d_(i);break}i=function(){Xe!==2&&Xe!==9||nt!==t||(Xe=7),Da(t)},m.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Tv(m)?(Xe=0,Sn=null,d_(i)):(Xe=0,Sn=null,uo(t,i,m,7));break;case 5:var _=null;switch(je.tag){case 26:_=je.memoizedState;case 5:case 27:var S=je;if(_?J_(_):S.stateNode.complete){Xe=0,Sn=null;var j=S.sibling;if(j!==null)je=j;else{var F=S.return;F!==null?(je=F,nh(F)):je=null}break t}}Xe=0,Sn=null,uo(t,i,m,5);break;case 6:Xe=0,Sn=null,uo(t,i,m,6);break;case 8:fm(),mt=6;break e;default:throw Error(s(462))}}JS();break}catch(J){o_(t,J)}while(!0);return Ja=Js=null,X.H=l,X.A=f,Qe=r,je!==null?0:(nt=null,Me=0,Tu(),mt)}function JS(){for(;je!==null&&!Hd();)h_(je)}function h_(t){var i=Vy(t.alternate,t,oi);t.memoizedProps=t.pendingProps,i===null?nh(t):je=i}function d_(t){var i=t,r=i.alternate;switch(i.tag){case 15:case 0:i=Cy(r,i,i.pendingProps,i.type,void 0,Me);break;case 11:i=Cy(r,i,i.pendingProps,i.type.render,i.ref,Me);break;case 5:Cf(i);default:Ly(r,i),i=je=uv(i,oi),i=Vy(r,i,oi)}t.memoizedProps=t.pendingProps,i===null?nh(t):je=i}function uo(t,i,r,l){Ja=Js=null,Cf(i),Wr=null,wl=0;var f=i.return;try{if(US(t,f,i,r,Me)){mt=1,Hu(t,On(r,t.current)),je=null;return}}catch(m){if(f!==null)throw je=f,m;mt=1,Hu(t,On(r,t.current)),je=null;return}i.flags&32768?(Ue||l===1?t=!0:ro||(Me&536870912)!==0?t=!1:(Xi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),f_(i,t)):nh(i)}function nh(t){var i=t;do{if((i.flags&32768)!==0){f_(i,Xi);return}t=i.return;var r=qS(i.alternate,i,oi);if(r!==null){je=r;return}if(i=i.sibling,i!==null){je=i;return}je=i=t}while(i!==null);mt===0&&(mt=5)}function f_(t,i){do{var r=HS(t.alternate,t);if(r!==null){r.flags&=32767,je=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(t=t.sibling,t!==null)){je=t;return}je=t=r}while(t!==null);mt=6,je=null}function m_(t,i,r,l,f,m,_,S,j){t.cancelPendingCommit=null;do ah();while(Vt!==0);if((Qe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=tf,Qd(t,r,m,_,S,j),t===nt&&(je=nt=null,Me=0),lo=i,Wi=t,li=r,um=m,hm=f,a_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,tw(Ii,function(){return __(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=re.p,re.p=2,_=Qe,Qe|=4;try{FS(t,i,r)}finally{Qe=_,re.p=f,X.T=l}}Vt=1,p_(),g_(),v_()}}function p_(){if(Vt===1){Vt=0;var t=Wi,i=lo,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=X.T,X.T=null;var l=re.p;re.p=2;var f=Qe;Qe|=4;try{$y(i,t);var m=xm,_=tv(t.containerInfo),S=m.focusedElem,j=m.selectionRange;if(_!==S&&S&&S.ownerDocument&&ev(S.ownerDocument.documentElement,S)){if(j!==null&&Xd(S)){var F=j.start,J=j.end;if(J===void 0&&(J=F),"selectionStart"in S)S.selectionStart=F,S.selectionEnd=Math.min(J,S.value.length);else{var ae=S.ownerDocument||document,G=ae&&ae.defaultView||window;if(G.getSelection){var K=G.getSelection(),he=S.textContent.length,Ee=Math.min(j.start,he),tt=j.end===void 0?Ee:Math.min(j.end,he);!K.extend&&Ee>tt&&(_=tt,tt=Ee,Ee=_);var U=Wg(S,Ee),P=Wg(S,tt);if(U&&P&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==P.node||K.focusOffset!==P.offset)){var H=ae.createRange();H.setStart(U.node,U.offset),K.removeAllRanges(),Ee>tt?(K.addRange(H),K.extend(P.node,P.offset)):(H.setEnd(P.node,P.offset),K.addRange(H))}}}}for(ae=[],K=S;K=K.parentNode;)K.nodeType===1&&ae.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ae.length;S++){var W=ae[S];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}ph=!!Am,xm=Am=null}finally{Qe=f,re.p=l,X.T=r}}t.current=i,Vt=2}}function g_(){if(Vt===2){Vt=0;var t=Wi,i=lo,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=X.T,X.T=null;var l=re.p;re.p=2;var f=Qe;Qe|=4;try{Fy(t,i.alternate,i)}finally{Qe=f,re.p=l,X.T=r}}Vt=3}}function v_(){if(Vt===4||Vt===3){Vt=0,Yc();var t=Wi,i=lo,r=li,l=a_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,lo=Wi=null,y_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Zi=null),Ga(r),i=i.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Gn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,f=re.p,re.p=2,X.T=null;try{for(var m=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];m(S.value,{componentStack:S.stack})}}finally{X.T=i,re.p=f}}(li&3)!==0&&ah(),Da(t),f=t.pendingLanes,(r&261930)!==0&&(f&42)!==0?t===dm?Bl++:(Bl=0,dm=t):Bl=0,ql(0)}}function y_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,bl(i)))}function ah(){return p_(),g_(),v_(),__()}function __(){if(Vt!==5)return!1;var t=Wi,i=um;um=0;var r=Ga(li),l=X.T,f=re.p;try{re.p=32>r?32:r,X.T=null,r=hm,hm=null;var m=Wi,_=li;if(Vt=0,lo=Wi=null,li=0,(Qe&6)!==0)throw Error(s(331));var S=Qe;if(Qe|=4,e_(m.current),Jy(m,m.current,_,r),Qe=S,ql(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Gn,m)}catch{}return!0}finally{re.p=f,X.T=l,y_(t,i)}}function E_(t,i,r){i=On(r,i),i=Ff(t.stateNode,i,2),t=Qi(t,i,2),t!==null&&(Ms(t,2),Da(t))}function Je(t,i,r){if(t.tag===3)E_(t,t,r);else for(;i!==null;){if(i.tag===3){E_(i,t,r);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Zi===null||!Zi.has(l))){t=On(r,t),r=Ty(2),l=Qi(i,r,2),l!==null&&(by(r,l,i,t),Ms(l,2),Da(l));break}}i=i.return}}function pm(t,i,r){var l=t.pingCache;if(l===null){l=t.pingCache=new YS;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(r)||(om=!0,f.add(r),t=ZS.bind(null,t,i,r),i.then(t,t))}function ZS(t,i,r){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,nt===t&&(Me&r)===r&&(mt===4||mt===3&&(Me&62914560)===Me&&300>an()-Ju?(Qe&2)===0&&co(t,0):lm|=r,oo===Me&&(oo=0)),Da(t)}function T_(t,i){i===0&&(i=Wc()),t=Ks(t,i),t!==null&&(Ms(t,i),Da(t))}function WS(t){var i=t.memoizedState,r=0;i!==null&&(r=i.retryLane),T_(t,r)}function ew(t,i){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(r=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),T_(t,r)}function tw(t,i){return Mt(t,i)}var ih=null,ho=null,gm=!1,sh=!1,vm=!1,ts=0;function Da(t){t!==ho&&t.next===null&&(ho===null?ih=ho=t:ho=ho.next=t),sh=!0,gm||(gm=!0,aw())}function ql(t,i){if(!vm&&sh){vm=!0;do for(var r=!1,l=ih;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var _=l.suspendedLanes,S=l.pingedLanes;m=(1<<31-pt(42|t)+1)-1,m&=f&~(_&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(r=!0,A_(l,m))}else m=Me,m=fa(l,l===nt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Qn(l,m)||(r=!0,A_(l,m));l=l.next}while(r);vm=!1}}function nw(){b_()}function b_(){sh=gm=!1;var t=0;ts!==0&&fw()&&(t=ts);for(var i=an(),r=null,l=ih;l!==null;){var f=l.next,m=S_(l,i);m===0?(l.next=null,r===null?ih=f:r.next=f,f===null&&(ho=r)):(r=l,(t!==0||(m&3)!==0)&&(sh=!0)),l=f}Vt!==0&&Vt!==5||ql(t),ts!==0&&(ts=0)}function S_(t,i){for(var r=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var _=31-pt(m),S=1<<_,j=f[_];j===-1?((S&r)===0||(S&l)!==0)&&(f[_]=Gd(S,i)):j<=i&&(t.expiredLanes|=S),m&=~S}if(i=nt,r=Me,r=fa(t,t===i?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ci(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Qn(t,r)){if(i=r&-r,i===t.callbackPriority)return i;switch(l!==null&&Ci(l),Ga(r)){case 2:case 8:r=Zo;break;case 32:r=Ii;break;case 268435456:r=Kc;break;default:r=Ii}return l=w_.bind(null,t),r=Mt(r,l),t.callbackPriority=i,t.callbackNode=r,i}return l!==null&&l!==null&&Ci(l),t.callbackPriority=2,t.callbackNode=null,2}function w_(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(ah()&&t.callbackNode!==r)return null;var l=Me;return l=fa(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(s_(t,l,i),S_(t,an()),t.callbackNode!=null&&t.callbackNode===r?w_.bind(null,t):null)}function A_(t,i){if(ah())return null;s_(t,i,!0)}function aw(){pw(function(){(Qe&6)!==0?Mt(Jo,nw):b_()})}function ym(){if(ts===0){var t=Xr;t===0&&(t=ha,ha<<=1,(ha&261888)===0&&(ha=256)),ts=t}return ts}function x_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Vr(""+t)}function R_(t,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,t.id&&r.setAttribute("form",t.id),i.parentNode.insertBefore(r,i),t=new FormData(t),r.parentNode.removeChild(r),t}function iw(t,i,r,l,f){if(i==="submit"&&r&&r.stateNode===f){var m=x_((f[Lt]||null).action),_=l.submitter;_&&(i=(i=_[Lt]||null)?x_(i.formAction):_.getAttribute("formAction"),i!==null&&(m=i,_=null));var S=new wa("action","action",null,l,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ts!==0){var j=_?R_(f,_):new FormData(f);kf(r,{pending:!0,data:j,method:f.method,action:m},null,j)}}else typeof m=="function"&&(S.preventDefault(),j=_?R_(f,_):new FormData(f),kf(r,{pending:!0,data:j,method:f.method,action:m},m,j))},currentTarget:f}]})}}for(var _m=0;_m<ef.length;_m++){var Em=ef[_m],sw=Em.toLowerCase(),rw=Em[0].toUpperCase()+Em.slice(1);ea(sw,"on"+rw)}ea(iv,"onAnimationEnd"),ea(sv,"onAnimationIteration"),ea(rv,"onAnimationStart"),ea("dblclick","onDoubleClick"),ea("focusin","onFocus"),ea("focusout","onBlur"),ea(bS,"onTransitionRun"),ea(SS,"onTransitionStart"),ea(wS,"onTransitionCancel"),ea(ov,"onTransitionEnd"),Ea("onMouseEnter",["mouseout","mouseover"]),Ea("onMouseLeave",["mouseout","mouseover"]),Ea("onPointerEnter",["pointerout","pointerover"]),Ea("onPointerLeave",["pointerout","pointerover"]),_a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_a("onBeforeInput",["compositionend","keypress","textInput","paste"]),_a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ow=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function N_(t,i){i=(i&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],f=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],j=S.instance,F=S.currentTarget;if(S=S.listener,j!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=F;try{m(f)}catch(J){Eu(J)}f.currentTarget=null,m=j}else for(_=0;_<l.length;_++){if(S=l[_],j=S.instance,F=S.currentTarget,S=S.listener,j!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=F;try{m(f)}catch(J){Eu(J)}f.currentTarget=null,m=j}}}}function Oe(t,i){var r=i[Ir];r===void 0&&(r=i[Ir]=new Set);var l=t+"__bubble";r.has(l)||(C_(i,t,2,!1),r.add(l))}function Tm(t,i,r){var l=0;i&&(l|=4),C_(r,t,l,i)}var rh="_reactListening"+Math.random().toString(36).slice(2);function bm(t){if(!t[rh]){t[rh]=!0,tl.forEach(function(r){r!=="selectionchange"&&(ow.has(r)||Tm(r,!1,t),Tm(r,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[rh]||(i[rh]=!0,Tm("selectionchange",!1,i))}}function C_(t,i,r,l){switch(i0(i)){case 2:var f=Vw;break;case 8:f=Pw;break;default:f=Lm}r=f.bind(null,i,r,t),f=void 0,!zs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,r,{capture:!0,passive:f}):t.addEventListener(i,r,!0):f!==void 0?t.addEventListener(i,r,{passive:f}):t.addEventListener(i,r,!1)}function Sm(t,i,r,l,f){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=l.return;_!==null;){var j=_.tag;if((j===3||j===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=va(S),_===null)return;if(j=_.tag,j===5||j===6||j===26||j===27){l=m=_;continue e}S=S.parentNode}}l=l.return}Pi(function(){var F=m,J=Cn(r),ae=[];e:{var G=lv.get(t);if(G!==void 0){var K=wa,he=t;switch(t){case"keypress":if(qs(r)===0)break e;case"keydown":case"keyup":K=vu;break;case"focusin":he="focus",K=Fs;break;case"focusout":he="blur",K=Fs;break;case"beforeblur":case"afterblur":K=Fs;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=y;break;case iv:case sv:case rv:K=uu;break;case ov:K=A;break;case"scroll":case"scrollend":K=fl;break;case"wheel":K=Y;break;case"copy":case"cut":case"paste":K=hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Ka;break;case"toggle":case"beforetoggle":K=Ne}var Ee=(i&4)!==0,tt=!Ee&&(t==="scroll"||t==="scrollend"),U=Ee?G!==null?G+"Capture":null:G;Ee=[];for(var P=F,H;P!==null;){var W=P;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||U===null||(W=Xn(P,U),W!=null&&Ee.push(Fl(P,W,H))),tt)break;P=P.return}0<Ee.length&&(G=new K(G,he,null,r,J),ae.push({event:G,listeners:Ee}))}}if((i&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",G&&r!==ul&&(he=r.relatedTarget||r.fromElement)&&(va(he)||he[pa]))break e;if((K||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,K?(he=r.relatedTarget||r.toElement,K=F,he=he?va(he):null,he!==null&&(tt=c(he),Ee=he.tag,he!==tt||Ee!==5&&Ee!==27&&Ee!==6)&&(he=null)):(K=null,he=F),K!==he)){if(Ee=ml,W="onMouseLeave",U="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=Ka,W="onPointerLeave",U="onPointerEnter",P="pointer"),tt=K==null?G:vn(K),H=he==null?G:vn(he),G=new Ee(W,P+"leave",K,r,J),G.target=tt,G.relatedTarget=H,W=null,va(J)===F&&(Ee=new Ee(U,P+"enter",he,r,J),Ee.target=H,Ee.relatedTarget=tt,W=Ee),tt=W,K&&he)t:{for(Ee=lw,U=K,P=he,H=0,W=U;W;W=Ee(W))H++;W=0;for(var ve=P;ve;ve=Ee(ve))W++;for(;0<H-W;)U=Ee(U),H--;for(;0<W-H;)P=Ee(P),W--;for(;H--;){if(U===P||P!==null&&U===P.alternate){Ee=U;break t}U=Ee(U),P=Ee(P)}Ee=null}else Ee=null;K!==null&&I_(ae,G,K,Ee,!1),he!==null&&tt!==null&&I_(ae,tt,he,Ee,!0)}}e:{if(G=F?vn(F):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var He=Yg;else if(Gg(G))if(Kg)He=_S;else{He=vS;var me=gS}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Mr(F.elementType)&&(He=Yg):He=yS;if(He&&(He=He(t,F))){Qg(ae,He,r,J);break e}me&&me(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&ol(G,"number",G.value)}switch(me=F?vn(F):window,t){case"focusin":(Gg(me)||me.contentEditable==="true")&&(qr=me,Jd=F,_l=null);break;case"focusout":_l=Jd=qr=null;break;case"mousedown":Zd=!0;break;case"contextmenu":case"mouseup":case"dragend":Zd=!1,nv(ae,r,J);break;case"selectionchange":if(TS)break;case"keydown":case"keyup":nv(ae,r,J)}var De;if(Ge)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Br?Gs(t,r)&&(Ve="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Ve="onCompositionStart");Ve&&(Ra&&r.locale!=="ko"&&(Br||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Br&&(De=dl()):(Sa=J,hl="value"in Sa?Sa.value:Sa.textContent,Br=!0)),me=oh(F,Ve),0<me.length&&(Ve=new xa(Ve,t,null,r,J),ae.push({event:Ve,listeners:me}),De?Ve.data=De:(De=zr(r),De!==null&&(Ve.data=De)))),(De=Dn?dS(t,r):fS(t,r))&&(Ve=oh(F,"onBeforeInput"),0<Ve.length&&(me=new xa("onBeforeInput","beforeinput",null,r,J),ae.push({event:me,listeners:Ve}),me.data=De)),iw(ae,t,F,r,J)}N_(ae,i)})}function Fl(t,i,r){return{instance:t,listener:i,currentTarget:r}}function oh(t,i){for(var r=i+"Capture",l=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Xn(t,r),f!=null&&l.unshift(Fl(t,f,m)),f=Xn(t,i),f!=null&&l.push(Fl(t,f,m))),t.tag===3)return l;t=t.return}return[]}function lw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function I_(t,i,r,l,f){for(var m=i._reactName,_=[];r!==null&&r!==l;){var S=r,j=S.alternate,F=S.stateNode;if(S=S.tag,j!==null&&j===l)break;S!==5&&S!==26&&S!==27||F===null||(j=F,f?(F=Xn(r,m),F!=null&&_.unshift(Fl(r,F,j))):f||(F=Xn(r,m),F!=null&&_.push(Fl(r,F,j)))),r=r.return}_.length!==0&&t.push({event:i,listeners:_})}var cw=/\r\n?/g,uw=/\u0000|\uFFFD/g;function D_(t){return(typeof t=="string"?t:""+t).replace(cw,`
`).replace(uw,"")}function j_(t,i){return i=D_(i),D_(t)===i}function et(t,i,r,l,f,m){switch(r){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||cn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&cn(t,""+l);break;case"className":yn(t,"class",l);break;case"tabIndex":yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,r,l);break;case"style":cl(t,l,m);break;case"data":if(i!=="object"){yn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Vr(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(i!=="input"&&et(t,i,"name",f.name,f,null),et(t,i,"formEncType",f.formEncType,f,null),et(t,i,"formMethod",f.formMethod,f,null),et(t,i,"formTarget",f.formTarget,f,null)):(et(t,i,"encType",f.encType,f,null),et(t,i,"method",f.method,f,null),et(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Vr(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=$n);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Vr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),jr(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":jr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=ou.get(r)||r,jr(t,r,l))}}function wm(t,i,r,l,f,m){switch(r){case"style":cl(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?cn(t,l):(typeof l=="number"||typeof l=="bigint")&&cn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),i=r.slice(2,f?r.length-7:void 0),m=t[Lt]||null,m=m!=null?m[r]:null,typeof m=="function"&&t.removeEventListener(i,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(i,l,f);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):jr(t,r,l)}}}function Yt(t,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,f=!1,m;for(m in r)if(r.hasOwnProperty(m)){var _=r[m];if(_!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,m,_,r,null)}}f&&et(t,i,"srcSet",r.srcSet,r,null),l&&et(t,i,"src",r.src,r,null);return;case"input":Oe("invalid",t);var S=m=_=f=null,j=null,F=null;for(l in r)if(r.hasOwnProperty(l)){var J=r[l];if(J!=null)switch(l){case"name":f=J;break;case"type":_=J;break;case"checked":j=J;break;case"defaultChecked":F=J;break;case"value":m=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:et(t,i,l,J,r,null)}}iu(t,m,S,j,F,_,f,!1);return;case"select":Oe("invalid",t),l=_=m=null;for(f in r)if(r.hasOwnProperty(f)&&(S=r[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:et(t,i,f,S,r,null)}i=m,r=_,t.multiple=!!l,i!=null?ji(t,!!l,i,!1):r!=null&&ji(t,!!l,r,!0);return;case"textarea":Oe("invalid",t),m=f=l=null;for(_ in r)if(r.hasOwnProperty(_)&&(S=r[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:et(t,i,_,S,r,null)}Oi(t,l,f,m);return;case"option":for(j in r)if(r.hasOwnProperty(j)&&(l=r[j],l!=null))switch(j){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(t,i,j,l,r,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<Hl.length;l++)Oe(Hl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in r)if(r.hasOwnProperty(F)&&(l=r[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,F,l,r,null)}return;default:if(Mr(i)){for(J in r)r.hasOwnProperty(J)&&(l=r[J],l!==void 0&&wm(t,i,J,l,r,void 0));return}}for(S in r)r.hasOwnProperty(S)&&(l=r[S],l!=null&&et(t,i,S,l,r,null))}function hw(t,i,r,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,S=null,j=null,F=null,J=null;for(K in r){var ae=r[K];if(r.hasOwnProperty(K)&&ae!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":j=ae;default:l.hasOwnProperty(K)||et(t,i,K,null,l,ae)}}for(var G in l){var K=l[G];if(ae=r[G],l.hasOwnProperty(G)&&(K!=null||ae!=null))switch(G){case"type":m=K;break;case"name":f=K;break;case"checked":F=K;break;case"defaultChecked":J=K;break;case"value":_=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==ae&&et(t,i,G,K,l,ae)}}Or(t,_,S,j,F,J,m,f);return;case"select":K=_=S=G=null;for(m in r)if(j=r[m],r.hasOwnProperty(m)&&j!=null)switch(m){case"value":break;case"multiple":K=j;default:l.hasOwnProperty(m)||et(t,i,m,null,l,j)}for(f in l)if(m=l[f],j=r[f],l.hasOwnProperty(f)&&(m!=null||j!=null))switch(f){case"value":G=m;break;case"defaultValue":S=m;break;case"multiple":_=m;default:m!==j&&et(t,i,f,m,l,j)}i=S,r=_,l=K,G!=null?ji(t,!!r,G,!1):!!l!=!!r&&(i!=null?ji(t,!!r,i,!0):ji(t,!!r,r?[]:"",!1));return;case"textarea":K=G=null;for(S in r)if(f=r[S],r.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:et(t,i,S,null,l,f)}for(_ in l)if(f=l[_],m=r[_],l.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":G=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&et(t,i,_,f,l,m)}su(t,G,K);return;case"option":for(var he in r)if(G=r[he],r.hasOwnProperty(he)&&G!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:et(t,i,he,null,l,G)}for(j in l)if(G=l[j],K=r[j],l.hasOwnProperty(j)&&G!==K&&(G!=null||K!=null))switch(j){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:et(t,i,j,G,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in r)G=r[Ee],r.hasOwnProperty(Ee)&&G!=null&&!l.hasOwnProperty(Ee)&&et(t,i,Ee,null,l,G);for(F in l)if(G=l[F],K=r[F],l.hasOwnProperty(F)&&G!==K&&(G!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:et(t,i,F,G,l,K)}return;default:if(Mr(i)){for(var tt in r)G=r[tt],r.hasOwnProperty(tt)&&G!==void 0&&!l.hasOwnProperty(tt)&&wm(t,i,tt,void 0,l,G);for(J in l)G=l[J],K=r[J],!l.hasOwnProperty(J)||G===K||G===void 0&&K===void 0||wm(t,i,J,G,l,K);return}}for(var U in r)G=r[U],r.hasOwnProperty(U)&&G!=null&&!l.hasOwnProperty(U)&&et(t,i,U,null,l,G);for(ae in l)G=l[ae],K=r[ae],!l.hasOwnProperty(ae)||G===K||G==null&&K==null||et(t,i,ae,G,l,K)}function O_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var f=r[l],m=f.transferSize,_=f.initiatorType,S=f.duration;if(m&&S&&O_(_)){for(_=0,S=f.responseEnd,l+=1;l<r.length;l++){var j=r[l],F=j.startTime;if(F>S)break;var J=j.transferSize,ae=j.initiatorType;J&&O_(ae)&&(j=j.responseEnd,_+=J*(j<S?1:(S-F)/(j-F)))}if(--l,i+=8*(m+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Am=null,xm=null;function lh(t){return t.nodeType===9?t:t.ownerDocument}function M_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Rm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Nm=null;function fw(){var t=window.event;return t&&t.type==="popstate"?t===Nm?!1:(Nm=t,!0):(Nm=null,!1)}var P_=typeof setTimeout=="function"?setTimeout:void 0,mw=typeof clearTimeout=="function"?clearTimeout:void 0,L_=typeof Promise=="function"?Promise:void 0,pw=typeof queueMicrotask=="function"?queueMicrotask:typeof L_<"u"?function(t){return L_.resolve(null).then(t).catch(gw)}:P_;function gw(t){setTimeout(function(){throw t})}function ns(t){return t==="head"}function k_(t,i){var r=i,l=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(f),go(i);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")Gl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Gl(r);for(var m=r.firstChild;m;){var _=m.nextSibling,S=m.nodeName;m[ga]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&m.rel.toLowerCase()==="stylesheet"||r.removeChild(m),m=_}}else r==="body"&&Gl(t.ownerDocument.body);r=f}while(r);go(i)}function U_(t,i){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?i?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(i?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function Cm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Cm(r),Dr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function vw(t,i,r,l){for(;t.nodeType===1;){var f=r;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ga])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function yw(t,i,r){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=kn(t.nextSibling),t===null))return null;return t}function z_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=kn(t.nextSibling),t===null))return null;return t}function Im(t){return t.data==="$?"||t.data==="$~"}function Dm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function _w(t,i){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||r.readyState!=="loading")i();else{var l=function(){i(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function kn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var jm=null;function B_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(i===0)return kn(t.nextSibling);i--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||i++}t=t.nextSibling}return null}function q_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(i===0)return t;i--}else r!=="/$"&&r!=="/&"||i++}t=t.previousSibling}return null}function H_(t,i,r){switch(i=lh(r),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Gl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Dr(t)}var Un=new Map,F_=new Set;function ch(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ci=re.d;re.d={f:Ew,r:Tw,D:bw,C:Sw,L:ww,m:Aw,X:Rw,S:xw,M:Nw};function Ew(){var t=ci.f(),i=eh();return t||i}function Tw(t){var i=Nn(t);i!==null&&i.tag===5&&i.type==="form"?oy(i):ci.r(t)}var fo=typeof document>"u"?null:document;function G_(t,i,r){var l=fo;if(l&&typeof i=="string"&&i){var f=ln(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),F_.has(f)||(F_.add(f),t={rel:t,crossOrigin:r,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Yt(i,"link",t),wt(i),l.head.appendChild(i)))}}function bw(t){ci.D(t),G_("dns-prefetch",t,null)}function Sw(t,i){ci.C(t,i),G_("preconnect",t,i)}function ww(t,i,r){ci.L(t,i,r);var l=fo;if(l&&t&&i){var f='link[rel="preload"][as="'+ln(i)+'"]';i==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+ln(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+ln(r.imageSizes)+'"]')):f+='[href="'+ln(t)+'"]';var m=f;switch(i){case"style":m=mo(t);break;case"script":m=po(t)}Un.has(m)||(t=b({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:t,as:i},r),Un.set(m,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Ql(m))||i==="script"&&l.querySelector(Yl(m))||(i=l.createElement("link"),Yt(i,"link",t),wt(i),l.head.appendChild(i)))}}function Aw(t,i){ci.m(t,i);var r=fo;if(r&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(t)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=po(t)}if(!Un.has(m)&&(t=b({rel:"modulepreload",href:t},i),Un.set(m,t),r.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Yl(m)))return}l=r.createElement("link"),Yt(l,"link",t),wt(l),r.head.appendChild(l)}}}function xw(t,i,r){ci.S(t,i,r);var l=fo;if(l&&t){var f=ya(l).hoistableStyles,m=mo(t);i=i||"default";var _=f.get(m);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Ql(m)))S.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},r),(r=Un.get(m))&&Om(t,r);var j=_=l.createElement("link");wt(j),Yt(j,"link",t),j._p=new Promise(function(F,J){j.onload=F,j.onerror=J}),j.addEventListener("load",function(){S.loading|=1}),j.addEventListener("error",function(){S.loading|=2}),S.loading|=4,uh(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(m,_)}}}function Rw(t,i){ci.X(t,i);var r=fo;if(r&&t){var l=ya(r).hoistableScripts,f=po(t),m=l.get(f);m||(m=r.querySelector(Yl(f)),m||(t=b({src:t,async:!0},i),(i=Un.get(f))&&Mm(t,i),m=r.createElement("script"),wt(m),Yt(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Nw(t,i){ci.M(t,i);var r=fo;if(r&&t){var l=ya(r).hoistableScripts,f=po(t),m=l.get(f);m||(m=r.querySelector(Yl(f)),m||(t=b({src:t,async:!0,type:"module"},i),(i=Un.get(f))&&Mm(t,i),m=r.createElement("script"),wt(m),Yt(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Q_(t,i,r,l){var f=(f=Ie.current)?ch(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=mo(r.href),r=ya(f).hoistableStyles,l=r.get(i),l||(l={type:"style",instance:null,count:0,state:null},r.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=mo(r.href);var m=ya(f).hoistableStyles,_=m.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,_),(m=f.querySelector(Ql(t)))&&!m._p&&(_.instance=m,_.state.loading=5),Un.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Un.set(t,r),m||Cw(f,t,r,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=po(r),r=ya(f).hoistableScripts,l=r.get(i),l||(l={type:"script",instance:null,count:0,state:null},r.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function mo(t){return'href="'+ln(t)+'"'}function Ql(t){return'link[rel="stylesheet"]['+t+"]"}function Y_(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function Cw(t,i,r,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Yt(i,"link",r),wt(i),t.head.appendChild(i))}function po(t){return'[src="'+ln(t)+'"]'}function Yl(t){return"script[async]"+t}function K_(t,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+ln(r.href)+'"]');if(l)return i.instance=l,wt(l),l;var f=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),wt(l),Yt(l,"style",f),uh(l,r.precedence,t),i.instance=l;case"stylesheet":f=mo(r.href);var m=t.querySelector(Ql(f));if(m)return i.state.loading|=4,i.instance=m,wt(m),m;l=Y_(r),(f=Un.get(f))&&Om(l,f),m=(t.ownerDocument||t).createElement("link"),wt(m);var _=m;return _._p=new Promise(function(S,j){_.onload=S,_.onerror=j}),Yt(m,"link",l),i.state.loading|=4,uh(m,r.precedence,t),i.instance=m;case"script":return m=po(r.src),(f=t.querySelector(Yl(m)))?(i.instance=f,wt(f),f):(l=r,(f=Un.get(m))&&(l=b({},r),Mm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),wt(f),Yt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,uh(l,r.precedence,t));return i.instance}function uh(t,i,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(t,i.firstChild))}function Om(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Mm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var hh=null;function $_(t,i,r){if(hh===null){var l=new Map,f=hh=new Map;f.set(r,l)}else f=hh,l=f.get(r),l||(l=new Map,f.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),f=0;f<r.length;f++){var m=r[f];if(!(m[ga]||m[St]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(m):l.set(_,[m])}}return l}function X_(t,i,r){t=t.ownerDocument||t,t.head.insertBefore(r,i==="title"?t.querySelector("head > title"):null)}function Iw(t,i,r){if(r===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function J_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Dw(t,i,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=mo(l.href),m=i.querySelector(Ql(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=dh.bind(t),i.then(t,t)),r.state.loading|=4,r.instance=m,wt(m);return}m=i.ownerDocument||i,l=Y_(l),(f=Un.get(f))&&Om(l,f),m=m.createElement("link"),wt(m);var _=m;_._p=new Promise(function(S,j){_.onload=S,_.onerror=j}),Yt(m,"link",l),r.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=dh.bind(t),i.addEventListener("load",r),i.addEventListener("error",r))}}var Vm=0;function jw(t,i){return t.stylesheets&&t.count===0&&mh(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&mh(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+i);0<t.imgBytes&&Vm===0&&(Vm=62500*dw());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&mh(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>Vm?50:800)+i);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function dh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var fh=null;function mh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,fh=new Map,i.forEach(Ow,t),fh=null,dh.call(t))}function Ow(t,i){if(!(i.state.loading&4)){var r=fh.get(t);if(r)var l=r.get(null);else{r=new Map,fh.set(t,r);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),l=_)}l&&r.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),m=r.get(_)||l,m===l&&r.set(null,f),r.set(_,f),this.count++,l=dh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Kl={$$typeof:se,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function Mw(t,i,r,l,f,m,_,S,j){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ma(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ma(0),this.hiddenUpdates=ma(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function Z_(t,i,r,l,f,m,_,S,j,F,J,ae){return t=new Mw(t,i,r,_,j,F,J,ae,S),i=1,m===!0&&(i|=24),m=En(3,null,null,i),t.current=m,m.stateNode=t,i=mf(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:r,cache:i},yf(m),t}function W_(t){return t?(t=Gr,t):Gr}function e0(t,i,r,l,f,m){f=W_(f),l.context===null?l.context=f:l.pendingContext=f,l=Gi(i),l.payload={element:r},m=m===void 0?null:m,m!==null&&(l.callback=m),r=Qi(t,l,i),r!==null&&(mn(r,t,i),xl(r,t,i))}function t0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<i?r:i}}function Pm(t,i){t0(t,i),(t=t.alternate)&&t0(t,i)}function n0(t){if(t.tag===13||t.tag===31){var i=Ks(t,67108864);i!==null&&mn(i,t,67108864),Pm(t,67108864)}}function a0(t){if(t.tag===13||t.tag===31){var i=An();i=Ps(i);var r=Ks(t,i);r!==null&&mn(r,t,i),Pm(t,i)}}var ph=!0;function Vw(t,i,r,l){var f=X.T;X.T=null;var m=re.p;try{re.p=2,Lm(t,i,r,l)}finally{re.p=m,X.T=f}}function Pw(t,i,r,l){var f=X.T;X.T=null;var m=re.p;try{re.p=8,Lm(t,i,r,l)}finally{re.p=m,X.T=f}}function Lm(t,i,r,l){if(ph){var f=km(l);if(f===null)Sm(t,i,l,gh,r),s0(t,l);else if(kw(f,t,i,r,l))l.stopPropagation();else if(s0(t,l),i&4&&-1<Lw.indexOf(t)){for(;f!==null;){var m=Nn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=da(m.pendingLanes);if(_!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var j=1<<31-pt(_);S.entanglements[1]|=j,_&=~j}Da(m),(Qe&6)===0&&(Zu=an()+500,ql(0))}}break;case 31:case 13:S=Ks(m,2),S!==null&&mn(S,m,2),eh(),Pm(m,2)}if(m=km(l),m===null&&Sm(t,i,l,gh,r),m===f)break;f=m}f!==null&&l.stopPropagation()}else Sm(t,i,l,null,r)}}function km(t){return t=Cn(t),Um(t)}var gh=null;function Um(t){if(gh=null,t=va(t),t!==null){var i=c(t);if(i===null)t=null;else{var r=i.tag;if(r===13){if(t=d(i),t!==null)return t;t=null}else if(r===31){if(t=p(i),t!==null)return t;t=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return gh=t,null}function i0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(js()){case Jo:return 2;case Zo:return 8;case Ii:case Fd:return 32;case Kc:return 268435456;default:return 32}default:return 32}}var zm=!1,as=null,is=null,ss=null,$l=new Map,Xl=new Map,rs=[],Lw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function s0(t,i){switch(t){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":is=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":$l.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(i.pointerId)}}function Jl(t,i,r,l,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:r,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Nn(i),i!==null&&n0(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function kw(t,i,r,l,f){switch(i){case"focusin":return as=Jl(as,t,i,r,l,f),!0;case"dragenter":return is=Jl(is,t,i,r,l,f),!0;case"mouseover":return ss=Jl(ss,t,i,r,l,f),!0;case"pointerover":var m=f.pointerId;return $l.set(m,Jl($l.get(m)||null,t,i,r,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Xl.set(m,Jl(Xl.get(m)||null,t,i,r,l,f)),!0}return!1}function r0(t){var i=va(t.target);if(i!==null){var r=c(i);if(r!==null){if(i=r.tag,i===13){if(i=d(r),i!==null){t.blockedOn=i,Yn(t.priority,function(){a0(r)});return}}else if(i===31){if(i=p(r),i!==null){t.blockedOn=i,Yn(t.priority,function(){a0(r)});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var r=km(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);ul=l,r.target.dispatchEvent(l),ul=null}else return i=Nn(r),i!==null&&n0(i),t.blockedOn=r,!1;i.shift()}return!0}function o0(t,i,r){vh(t)&&r.delete(i)}function Uw(){zm=!1,as!==null&&vh(as)&&(as=null),is!==null&&vh(is)&&(is=null),ss!==null&&vh(ss)&&(ss=null),$l.forEach(o0),Xl.forEach(o0)}function yh(t,i){t.blockedOn===i&&(t.blockedOn=null,zm||(zm=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Uw)))}var _h=null;function l0(t){_h!==t&&(_h=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){_h===t&&(_h=null);for(var i=0;i<t.length;i+=3){var r=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(Um(l||r)===null)continue;break}var m=Nn(r);m!==null&&(t.splice(i,3),i-=3,kf(m,{pending:!0,data:f,method:r.method,action:l},l,f))}}))}function go(t){function i(j){return yh(j,t)}as!==null&&yh(as,t),is!==null&&yh(is,t),ss!==null&&yh(ss,t),$l.forEach(i),Xl.forEach(i);for(var r=0;r<rs.length;r++){var l=rs[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<rs.length&&(r=rs[0],r.blockedOn===null);)r0(r),r.blockedOn===null&&rs.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var f=r[l],m=r[l+1],_=f[Lt]||null;if(typeof m=="function")_||l0(r);else if(_){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[Lt]||null)S=_.formAction;else if(Um(f)!==null)continue}else S=_.action;typeof S=="function"?r[l+1]=S:(r.splice(l,3),l-=3),l0(r)}}}function c0(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Bm(t){this._internalRoot=t}Eh.prototype.render=Bm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var r=i.current,l=An();e0(r,l,t,i,null,null)},Eh.prototype.unmount=Bm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;e0(t.current,2,null,t,null,null),eh(),i[pa]=null}};function Eh(t){this._internalRoot=t}Eh.prototype.unstable_scheduleHydration=function(t){if(t){var i=eu();t={blockedOn:null,target:t,priority:i};for(var r=0;r<rs.length&&i!==0&&i<rs[r].priority;r++);rs.splice(r,0,t),r===0&&r0(t)}};var u0=e.version;if(u0!=="19.2.0")throw Error(s(527,u0,"19.2.0"));re.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var zw={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Th.isDisabled&&Th.supportsFiber)try{Gn=Th.inject(zw),qt=Th}catch{}}return Wl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var r=!1,l="",f=vy,m=yy,_=_y;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Z_(t,1,!1,null,null,r,l,null,f,m,_,c0),t[pa]=i.current,bm(t),new Bm(i)},Wl.hydrateRoot=function(t,i,r){if(!o(t))throw Error(s(299));var l=!1,f="",m=vy,_=yy,S=_y,j=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.formState!==void 0&&(j=r.formState)),i=Z_(t,1,!0,i,r??null,l,f,j,m,_,S,c0),i.context=W_(null),r=i.current,l=An(),l=Ps(l),f=Gi(l),f.callback=null,Qi(r,f,l),r=l,i.current.lanes=r,Ms(i,r),Da(i),t[pa]=i.current,bm(t),new Eh(i)},Wl.version="19.2.0",Wl}var E0;function Jw(){if(E0)return Fm.exports;E0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Fm.exports=Xw(),Fm.exports}var Zw=Jw();const Ww=()=>{};var T0={};const d1=function(a){const e=[];let n=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},eA=function(a){const e=[];let n=0,s=0;for(;n<a.length;){const o=a[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=a[n++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=a[n++],d=a[n++],p=a[n++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const c=a[n++],d=a[n++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},f1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const c=a[o],d=o+1<a.length,p=d?a[o+1]:0,v=o+2<a.length,g=v?a[o+2]:0,T=c>>2,b=(c&3)<<4|p>>4;let w=(p&15)<<2|g>>6,x=g&63;v||(x=64,d||(w=64)),s.push(n[T],n[b],n[w],n[x])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(d1(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):eA(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const c=n[a.charAt(o++)],p=o<a.length?n[a.charAt(o)]:0;++o;const g=o<a.length?n[a.charAt(o)]:64;++o;const b=o<a.length?n[a.charAt(o)]:64;if(++o,c==null||p==null||g==null||b==null)throw new tA;const w=c<<2|p>>4;if(s.push(w),g!==64){const x=p<<4&240|g>>2;if(s.push(x),b!==64){const O=g<<6&192|b;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class tA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nA=function(a){const e=d1(a);return f1.encodeByteArray(e,!0)},Gh=function(a){return nA(a).replace(/\./g,"")},m1=function(a){try{return f1.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function aA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const iA=()=>aA().__FIREBASE_DEFAULTS__,sA=()=>{if(typeof process>"u"||typeof T0>"u")return;const a=T0.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},rA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&m1(a[1]);return e&&JSON.parse(e)},pd=()=>{try{return Ww()||iA()||sA()||rA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},p1=a=>pd()?.emulatorHosts?.[a],oA=a=>{const e=p1(a);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},g1=()=>pd()?.config,v1=a=>pd()?.[`_${a}`];class lA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Vo(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function y1(a){return(await fetch(a,{credentials:"include"})).ok}function cA(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Gh(JSON.stringify(n)),Gh(JSON.stringify(d)),""].join(".")}const uc={};function uA(){const a={prod:[],emulator:[]};for(const e of Object.keys(uc))uc[e]?a.emulator.push(e):a.prod.push(e);return a}function hA(a){let e=document.getElementById(a),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),n=!0),{created:n,element:e}}let b0=!1;function _1(a,e){if(typeof window>"u"||typeof document>"u"||!Vo(window.location.host)||uc[a]===e||uc[a]||b0)return;uc[a]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",c=uA().prod.length>0;function d(){const w=document.getElementById(s);w&&w.remove()}function p(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function v(w,x){w.setAttribute("width","24"),w.setAttribute("id",x),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{b0=!0,d()},w}function T(w,x){w.setAttribute("id",x),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=hA(s),x=n("text"),O=document.getElementById(x)||document.createElement("span"),Q=n("learnmore"),z=document.getElementById(Q)||document.createElement("a"),$=n("preprendIcon"),ne=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const se=w.element;p(se),T(z,Q);const _e=g();v(ne,$),se.append(ne,O,z,_e),document.body.appendChild(se)}c?(O.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function fA(){const a=pd()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pA(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function gA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vA(){const a=nn();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function yA(){return!fA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _A(){try{return typeof indexedDB=="object"}catch{return!1}}function EA(){return new Promise((a,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const TA="FirebaseError";class Ri extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=TA,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jc.prototype.create)}}class jc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?bA(c,s):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Ri(o,p,s)}}function bA(a,e){return a.replace(SA,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const SA=/\{\$([^}]+)}/g;function wA(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function fr(a,e){if(a===e)return!0;const n=Object.keys(a),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const c=a[o],d=e[o];if(S0(c)&&S0(d)){if(!fr(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function S0(a){return a!==null&&typeof a=="object"}function Oc(a){const e=[];for(const[n,s]of Object.entries(a))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ac(a){const e={};return a.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function ic(a){const e=a.indexOf("?");if(!e)return"";const n=a.indexOf("#",e);return a.substring(e,n>0?n:void 0)}function AA(a,e){const n=new xA(a,e);return n.subscribe.bind(n)}class xA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");RA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Km),o.error===void 0&&(o.error=Km),o.complete===void 0&&(o.complete=Km);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RA(a,e){if(typeof a!="object"||a===null)return!1;for(const n of e)if(n in a&&typeof a[n]=="function")return!0;return!1}function Km(){}function Bt(a){return a&&a._delegate?a._delegate:a}class mr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const or="[DEFAULT]";class NA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new lA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IA(e))try{this.getOrInitializeService({instanceIdentifier:or})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=or){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=or){return this.instances.has(e)}getOptions(e=or){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:CA(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=or){return this.component?this.component.multipleInstances?e:or:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CA(a){return a===or?void 0:a}function IA(a){return a.instantiationMode==="EAGER"}class DA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Pe||(Pe={}));const jA={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},OA=Pe.INFO,MA={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},VA=(a,e,...n)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=MA[e];if(o)console[o](`[${s}]  ${a.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qp{constructor(e){this.name=e,this._logLevel=OA,this._logHandler=VA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const PA=(a,e)=>e.some(n=>a instanceof n);let w0,A0;function LA(){return w0||(w0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kA(){return A0||(A0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E1=new WeakMap,up=new WeakMap,T1=new WeakMap,$m=new WeakMap,Yp=new WeakMap;function UA(a){const e=new Promise((n,s)=>{const o=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{n(ps(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",c),a.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&E1.set(n,a)}).catch(()=>{}),Yp.set(e,a),e}function zA(a){if(up.has(a))return;const e=new Promise((n,s)=>{const o=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{n(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});up.set(a,e)}let hp={get(a,e,n){if(a instanceof IDBTransaction){if(e==="done")return up.get(a);if(e==="objectStoreNames")return a.objectStoreNames||T1.get(a);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ps(a[e])},set(a,e,n){return a[e]=n,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function BA(a){hp=a(hp)}function qA(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=a.call(Xm(this),e,...n);return T1.set(s,e.sort?e.sort():[e]),ps(s)}:kA().includes(a)?function(...e){return a.apply(Xm(this),e),ps(E1.get(this))}:function(...e){return ps(a.apply(Xm(this),e))}}function HA(a){return typeof a=="function"?qA(a):(a instanceof IDBTransaction&&zA(a),PA(a,LA())?new Proxy(a,hp):a)}function ps(a){if(a instanceof IDBRequest)return UA(a);if($m.has(a))return $m.get(a);const e=HA(a);return e!==a&&($m.set(a,e),Yp.set(e,a)),e}const Xm=a=>Yp.get(a);function FA(a,e,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(a,e),p=ps(d);return s&&d.addEventListener("upgradeneeded",v=>{s(ps(d.result),v.oldVersion,v.newVersion,ps(d.transaction),v)}),n&&d.addEventListener("blocked",v=>n(v.oldVersion,v.newVersion,v)),p.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const GA=["get","getKey","getAll","getAllKeys","count"],QA=["put","add","delete","clear"],Jm=new Map;function x0(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Jm.get(e))return Jm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=QA.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||GA.includes(n)))return;const c=async function(d,...p){const v=this.transaction(d,o?"readwrite":"readonly");let g=v.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[n](...p),o&&v.done]))[0]};return Jm.set(e,c),c}BA(a=>({...a,get:(e,n,s)=>x0(e,n)||a.get(e,n,s),has:(e,n)=>!!x0(e,n)||a.has(e,n)}));class YA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KA(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function KA(a){return a.getComponent()?.type==="VERSION"}const dp="@firebase/app",R0="0.14.6";const bi=new Qp("@firebase/app"),$A="@firebase/app-compat",XA="@firebase/analytics-compat",JA="@firebase/analytics",ZA="@firebase/app-check-compat",WA="@firebase/app-check",ex="@firebase/auth",tx="@firebase/auth-compat",nx="@firebase/database",ax="@firebase/data-connect",ix="@firebase/database-compat",sx="@firebase/functions",rx="@firebase/functions-compat",ox="@firebase/installations",lx="@firebase/installations-compat",cx="@firebase/messaging",ux="@firebase/messaging-compat",hx="@firebase/performance",dx="@firebase/performance-compat",fx="@firebase/remote-config",mx="@firebase/remote-config-compat",px="@firebase/storage",gx="@firebase/storage-compat",vx="@firebase/firestore",yx="@firebase/ai",_x="@firebase/firestore-compat",Ex="firebase",Tx="12.6.0";const fp="[DEFAULT]",bx={[dp]:"fire-core",[$A]:"fire-core-compat",[JA]:"fire-analytics",[XA]:"fire-analytics-compat",[WA]:"fire-app-check",[ZA]:"fire-app-check-compat",[ex]:"fire-auth",[tx]:"fire-auth-compat",[nx]:"fire-rtdb",[ax]:"fire-data-connect",[ix]:"fire-rtdb-compat",[sx]:"fire-fn",[rx]:"fire-fn-compat",[ox]:"fire-iid",[lx]:"fire-iid-compat",[cx]:"fire-fcm",[ux]:"fire-fcm-compat",[hx]:"fire-perf",[dx]:"fire-perf-compat",[fx]:"fire-rc",[mx]:"fire-rc-compat",[px]:"fire-gcs",[gx]:"fire-gcs-compat",[vx]:"fire-fst",[_x]:"fire-fst-compat",[yx]:"fire-vertex","fire-js":"fire-js",[Ex]:"fire-js-all"};const Qh=new Map,Sx=new Map,mp=new Map;function N0(a,e){try{a.container.addComponent(e)}catch(n){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,n)}}function No(a){const e=a.name;if(mp.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;mp.set(e,a);for(const n of Qh.values())N0(n,a);for(const n of Sx.values())N0(n,a);return!0}function Kp(a,e){const n=a.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),a.container.getProvider(e)}function zn(a){return a==null?!1:a.settings!==void 0}const wx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gs=new jc("app","Firebase",wx);class Ax{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gs.create("app-deleted",{appName:this._name})}}const Po=Tx;function b1(a,e={}){let n=a;typeof e!="object"&&(e={name:e});const s={name:fp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw gs.create("bad-app-name",{appName:String(o)});if(n||(n=g1()),!n)throw gs.create("no-options");const c=Qh.get(o);if(c){if(fr(n,c.options)&&fr(s,c.config))return c;throw gs.create("duplicate-app",{appName:o})}const d=new DA(o);for(const v of mp.values())d.addComponent(v);const p=new Ax(n,s,d);return Qh.set(o,p),p}function S1(a=fp){const e=Qh.get(a);if(!e&&a===fp&&g1())return b1();if(!e)throw gs.create("no-app",{appName:a});return e}function vs(a,e,n){let s=bx[a]??a;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(d.join(" "));return}No(new mr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const xx="firebase-heartbeat-database",Rx=1,yc="firebase-heartbeat-store";let Zm=null;function w1(){return Zm||(Zm=FA(xx,Rx,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(yc)}catch(n){console.warn(n)}}}}).catch(a=>{throw gs.create("idb-open",{originalErrorMessage:a.message})})),Zm}async function Nx(a){try{const n=(await w1()).transaction(yc),s=await n.objectStore(yc).get(A1(a));return await n.done,s}catch(e){if(e instanceof Ri)bi.warn(e.message);else{const n=gs.create("idb-get",{originalErrorMessage:e?.message});bi.warn(n.message)}}}async function C0(a,e){try{const s=(await w1()).transaction(yc,"readwrite");await s.objectStore(yc).put(e,A1(a)),await s.done}catch(n){if(n instanceof Ri)bi.warn(n.message);else{const s=gs.create("idb-set",{originalErrorMessage:n?.message});bi.warn(s.message)}}}function A1(a){return`${a.name}!${a.options.appId}`}const Cx=1024,Ix=30;class Dx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ox(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=I0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Ix){const o=Mx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){bi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=I0(),{heartbeatsToSend:n,unsentEntries:s}=jx(this._heartbeatsCache.heartbeats),o=Gh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return bi.warn(e),""}}}function I0(){return new Date().toISOString().substring(0,10)}function jx(a,e=Cx){const n=[];let s=a.slice();for(const o of a){const c=n.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),D0(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),D0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Ox{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _A()?EA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Nx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return C0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return C0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function D0(a){return Gh(JSON.stringify({version:2,heartbeats:a})).length}function Mx(a){if(a.length===0)return-1;let e=0,n=a[0].date;for(let s=1;s<a.length;s++)a[s].date<n&&(n=a[s].date,e=s);return e}function Vx(a){No(new mr("platform-logger",e=>new YA(e),"PRIVATE")),No(new mr("heartbeat",e=>new Dx(e),"PRIVATE")),vs(dp,R0,a),vs(dp,R0,"esm2020"),vs("fire-js","")}Vx("");var Px="firebase",Lx="12.6.0";vs(Px,Lx,"app");var j0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ys,x1;(function(){var a;function e(R,N){function I(){}I.prototype=N.prototype,R.F=N.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(C,V,k){for(var D=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)D[Ke-2]=arguments[Ke];return N.prototype[V].apply(C,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,N,I){I||(I=0);const C=Array(16);if(typeof N=="string")for(var V=0;V<16;++V)C[V]=N.charCodeAt(I++)|N.charCodeAt(I++)<<8|N.charCodeAt(I++)<<16|N.charCodeAt(I++)<<24;else for(V=0;V<16;++V)C[V]=N[I++]|N[I++]<<8|N[I++]<<16|N[I++]<<24;N=R.g[0],I=R.g[1],V=R.g[2];let k=R.g[3],D;D=N+(k^I&(V^k))+C[0]+3614090360&4294967295,N=I+(D<<7&4294967295|D>>>25),D=k+(V^N&(I^V))+C[1]+3905402710&4294967295,k=N+(D<<12&4294967295|D>>>20),D=V+(I^k&(N^I))+C[2]+606105819&4294967295,V=k+(D<<17&4294967295|D>>>15),D=I+(N^V&(k^N))+C[3]+3250441966&4294967295,I=V+(D<<22&4294967295|D>>>10),D=N+(k^I&(V^k))+C[4]+4118548399&4294967295,N=I+(D<<7&4294967295|D>>>25),D=k+(V^N&(I^V))+C[5]+1200080426&4294967295,k=N+(D<<12&4294967295|D>>>20),D=V+(I^k&(N^I))+C[6]+2821735955&4294967295,V=k+(D<<17&4294967295|D>>>15),D=I+(N^V&(k^N))+C[7]+4249261313&4294967295,I=V+(D<<22&4294967295|D>>>10),D=N+(k^I&(V^k))+C[8]+1770035416&4294967295,N=I+(D<<7&4294967295|D>>>25),D=k+(V^N&(I^V))+C[9]+2336552879&4294967295,k=N+(D<<12&4294967295|D>>>20),D=V+(I^k&(N^I))+C[10]+4294925233&4294967295,V=k+(D<<17&4294967295|D>>>15),D=I+(N^V&(k^N))+C[11]+2304563134&4294967295,I=V+(D<<22&4294967295|D>>>10),D=N+(k^I&(V^k))+C[12]+1804603682&4294967295,N=I+(D<<7&4294967295|D>>>25),D=k+(V^N&(I^V))+C[13]+4254626195&4294967295,k=N+(D<<12&4294967295|D>>>20),D=V+(I^k&(N^I))+C[14]+2792965006&4294967295,V=k+(D<<17&4294967295|D>>>15),D=I+(N^V&(k^N))+C[15]+1236535329&4294967295,I=V+(D<<22&4294967295|D>>>10),D=N+(V^k&(I^V))+C[1]+4129170786&4294967295,N=I+(D<<5&4294967295|D>>>27),D=k+(I^V&(N^I))+C[6]+3225465664&4294967295,k=N+(D<<9&4294967295|D>>>23),D=V+(N^I&(k^N))+C[11]+643717713&4294967295,V=k+(D<<14&4294967295|D>>>18),D=I+(k^N&(V^k))+C[0]+3921069994&4294967295,I=V+(D<<20&4294967295|D>>>12),D=N+(V^k&(I^V))+C[5]+3593408605&4294967295,N=I+(D<<5&4294967295|D>>>27),D=k+(I^V&(N^I))+C[10]+38016083&4294967295,k=N+(D<<9&4294967295|D>>>23),D=V+(N^I&(k^N))+C[15]+3634488961&4294967295,V=k+(D<<14&4294967295|D>>>18),D=I+(k^N&(V^k))+C[4]+3889429448&4294967295,I=V+(D<<20&4294967295|D>>>12),D=N+(V^k&(I^V))+C[9]+568446438&4294967295,N=I+(D<<5&4294967295|D>>>27),D=k+(I^V&(N^I))+C[14]+3275163606&4294967295,k=N+(D<<9&4294967295|D>>>23),D=V+(N^I&(k^N))+C[3]+4107603335&4294967295,V=k+(D<<14&4294967295|D>>>18),D=I+(k^N&(V^k))+C[8]+1163531501&4294967295,I=V+(D<<20&4294967295|D>>>12),D=N+(V^k&(I^V))+C[13]+2850285829&4294967295,N=I+(D<<5&4294967295|D>>>27),D=k+(I^V&(N^I))+C[2]+4243563512&4294967295,k=N+(D<<9&4294967295|D>>>23),D=V+(N^I&(k^N))+C[7]+1735328473&4294967295,V=k+(D<<14&4294967295|D>>>18),D=I+(k^N&(V^k))+C[12]+2368359562&4294967295,I=V+(D<<20&4294967295|D>>>12),D=N+(I^V^k)+C[5]+4294588738&4294967295,N=I+(D<<4&4294967295|D>>>28),D=k+(N^I^V)+C[8]+2272392833&4294967295,k=N+(D<<11&4294967295|D>>>21),D=V+(k^N^I)+C[11]+1839030562&4294967295,V=k+(D<<16&4294967295|D>>>16),D=I+(V^k^N)+C[14]+4259657740&4294967295,I=V+(D<<23&4294967295|D>>>9),D=N+(I^V^k)+C[1]+2763975236&4294967295,N=I+(D<<4&4294967295|D>>>28),D=k+(N^I^V)+C[4]+1272893353&4294967295,k=N+(D<<11&4294967295|D>>>21),D=V+(k^N^I)+C[7]+4139469664&4294967295,V=k+(D<<16&4294967295|D>>>16),D=I+(V^k^N)+C[10]+3200236656&4294967295,I=V+(D<<23&4294967295|D>>>9),D=N+(I^V^k)+C[13]+681279174&4294967295,N=I+(D<<4&4294967295|D>>>28),D=k+(N^I^V)+C[0]+3936430074&4294967295,k=N+(D<<11&4294967295|D>>>21),D=V+(k^N^I)+C[3]+3572445317&4294967295,V=k+(D<<16&4294967295|D>>>16),D=I+(V^k^N)+C[6]+76029189&4294967295,I=V+(D<<23&4294967295|D>>>9),D=N+(I^V^k)+C[9]+3654602809&4294967295,N=I+(D<<4&4294967295|D>>>28),D=k+(N^I^V)+C[12]+3873151461&4294967295,k=N+(D<<11&4294967295|D>>>21),D=V+(k^N^I)+C[15]+530742520&4294967295,V=k+(D<<16&4294967295|D>>>16),D=I+(V^k^N)+C[2]+3299628645&4294967295,I=V+(D<<23&4294967295|D>>>9),D=N+(V^(I|~k))+C[0]+4096336452&4294967295,N=I+(D<<6&4294967295|D>>>26),D=k+(I^(N|~V))+C[7]+1126891415&4294967295,k=N+(D<<10&4294967295|D>>>22),D=V+(N^(k|~I))+C[14]+2878612391&4294967295,V=k+(D<<15&4294967295|D>>>17),D=I+(k^(V|~N))+C[5]+4237533241&4294967295,I=V+(D<<21&4294967295|D>>>11),D=N+(V^(I|~k))+C[12]+1700485571&4294967295,N=I+(D<<6&4294967295|D>>>26),D=k+(I^(N|~V))+C[3]+2399980690&4294967295,k=N+(D<<10&4294967295|D>>>22),D=V+(N^(k|~I))+C[10]+4293915773&4294967295,V=k+(D<<15&4294967295|D>>>17),D=I+(k^(V|~N))+C[1]+2240044497&4294967295,I=V+(D<<21&4294967295|D>>>11),D=N+(V^(I|~k))+C[8]+1873313359&4294967295,N=I+(D<<6&4294967295|D>>>26),D=k+(I^(N|~V))+C[15]+4264355552&4294967295,k=N+(D<<10&4294967295|D>>>22),D=V+(N^(k|~I))+C[6]+2734768916&4294967295,V=k+(D<<15&4294967295|D>>>17),D=I+(k^(V|~N))+C[13]+1309151649&4294967295,I=V+(D<<21&4294967295|D>>>11),D=N+(V^(I|~k))+C[4]+4149444226&4294967295,N=I+(D<<6&4294967295|D>>>26),D=k+(I^(N|~V))+C[11]+3174756917&4294967295,k=N+(D<<10&4294967295|D>>>22),D=V+(N^(k|~I))+C[2]+718787259&4294967295,V=k+(D<<15&4294967295|D>>>17),D=I+(k^(V|~N))+C[9]+3951481745&4294967295,R.g[0]=R.g[0]+N&4294967295,R.g[1]=R.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+k&4294967295}s.prototype.v=function(R,N){N===void 0&&(N=R.length);const I=N-this.blockSize,C=this.C;let V=this.h,k=0;for(;k<N;){if(V==0)for(;k<=I;)o(this,R,k),k+=this.blockSize;if(typeof R=="string"){for(;k<N;)if(C[V++]=R.charCodeAt(k++),V==this.blockSize){o(this,C),V=0;break}}else for(;k<N;)if(C[V++]=R[k++],V==this.blockSize){o(this,C),V=0;break}}this.h=V,this.o+=N},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var N=1;N<R.length-8;++N)R[N]=0;N=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=N&255,N/=256;for(this.v(R),R=Array(16),N=0,I=0;I<4;++I)for(let C=0;C<32;C+=8)R[N++]=this.g[I]>>>C&255;return R};function c(R,N){var I=p;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=N(R)}function d(R,N){this.h=N;const I=[];let C=!0;for(let V=R.length-1;V>=0;V--){const k=R[V]|0;C&&k==N||(I[V]=k,C=!1)}this.g=I}var p={};function v(R){return-128<=R&&R<128?c(R,function(N){return new d([N|0],N<0?-1:0)}):new d([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return b;if(R<0)return z(g(-R));const N=[];let I=1;for(let C=0;R>=I;C++)N[C]=R/I|0,I*=4294967296;return new d(N,0)}function T(R,N){if(R.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(R.charAt(0)=="-")return z(T(R.substring(1),N));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(N,8));let C=b;for(let k=0;k<R.length;k+=8){var V=Math.min(8,R.length-k);const D=parseInt(R.substring(k,k+V),N);V<8?(V=g(Math.pow(N,V)),C=C.j(V).add(g(D))):(C=C.j(I),C=C.add(g(D)))}return C}var b=v(0),w=v(1),x=v(16777216);a=d.prototype,a.m=function(){if(Q(this))return-z(this).m();let R=0,N=1;for(let I=0;I<this.g.length;I++){const C=this.i(I);R+=(C>=0?C:4294967296+C)*N,N*=4294967296}return R},a.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(O(this))return"0";if(Q(this))return"-"+z(this).toString(R);const N=g(Math.pow(R,6));var I=this;let C="";for(;;){const V=_e(I,N).g;I=$(I,V.j(N));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=V,O(I))return k+C;for(;k.length<6;)k="0"+k;C=k+C}},a.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function O(R){if(R.h!=0)return!1;for(let N=0;N<R.g.length;N++)if(R.g[N]!=0)return!1;return!0}function Q(R){return R.h==-1}a.l=function(R){return R=$(this,R),Q(R)?-1:O(R)?0:1};function z(R){const N=R.g.length,I=[];for(let C=0;C<N;C++)I[C]=~R.g[C];return new d(I,~R.h).add(w)}a.abs=function(){return Q(this)?z(this):this},a.add=function(R){const N=Math.max(this.g.length,R.g.length),I=[];let C=0;for(let V=0;V<=N;V++){let k=C+(this.i(V)&65535)+(R.i(V)&65535),D=(k>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);C=D>>>16,k&=65535,D&=65535,I[V]=D<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function $(R,N){return R.add(z(N))}a.j=function(R){if(O(this)||O(R))return b;if(Q(this))return Q(R)?z(this).j(z(R)):z(z(this).j(R));if(Q(R))return z(this.j(z(R)));if(this.l(x)<0&&R.l(x)<0)return g(this.m()*R.m());const N=this.g.length+R.g.length,I=[];for(var C=0;C<2*N;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(let V=0;V<R.g.length;V++){const k=this.i(C)>>>16,D=this.i(C)&65535,Ke=R.i(V)>>>16,ht=R.i(V)&65535;I[2*C+2*V]+=D*ht,ne(I,2*C+2*V),I[2*C+2*V+1]+=k*ht,ne(I,2*C+2*V+1),I[2*C+2*V+1]+=D*Ke,ne(I,2*C+2*V+1),I[2*C+2*V+2]+=k*Ke,ne(I,2*C+2*V+2)}for(R=0;R<N;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=N;R<2*N;R++)I[R]=0;return new d(I,0)};function ne(R,N){for(;(R[N]&65535)!=R[N];)R[N+1]+=R[N]>>>16,R[N]&=65535,N++}function se(R,N){this.g=R,this.h=N}function _e(R,N){if(O(N))throw Error("division by zero");if(O(R))return new se(b,b);if(Q(R))return N=_e(z(R),N),new se(z(N.g),z(N.h));if(Q(N))return N=_e(R,z(N)),new se(z(N.g),N.h);if(R.g.length>30){if(Q(R)||Q(N))throw Error("slowDivide_ only works with positive integers.");for(var I=w,C=N;C.l(R)<=0;)I=ge(I),C=ge(C);var V=we(I,1),k=we(C,1);for(C=we(C,2),I=we(I,2);!O(C);){var D=k.add(C);D.l(R)<=0&&(V=V.add(I),k=D),C=we(C,1),I=we(I,1)}return N=$(R,V.j(N)),new se(V,N)}for(V=b;R.l(N)>=0;){for(I=Math.max(1,Math.floor(R.m()/N.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),k=g(I),D=k.j(N);Q(D)||D.l(R)>0;)I-=C,k=g(I),D=k.j(N);O(k)&&(k=w),V=V.add(k),R=$(R,D)}return new se(V,R)}a.B=function(R){return _e(this,R).h},a.and=function(R){const N=Math.max(this.g.length,R.g.length),I=[];for(let C=0;C<N;C++)I[C]=this.i(C)&R.i(C);return new d(I,this.h&R.h)},a.or=function(R){const N=Math.max(this.g.length,R.g.length),I=[];for(let C=0;C<N;C++)I[C]=this.i(C)|R.i(C);return new d(I,this.h|R.h)},a.xor=function(R){const N=Math.max(this.g.length,R.g.length),I=[];for(let C=0;C<N;C++)I[C]=this.i(C)^R.i(C);return new d(I,this.h^R.h)};function ge(R){const N=R.g.length+1,I=[];for(let C=0;C<N;C++)I[C]=R.i(C)<<1|R.i(C-1)>>>31;return new d(I,R.h)}function we(R,N){const I=N>>5;N%=32;const C=R.g.length-I,V=[];for(let k=0;k<C;k++)V[k]=N>0?R.i(k+I)>>>N|R.i(k+I+1)<<32-N:R.i(k+I);return new d(V,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,x1=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=T,ys=d}).apply(typeof j0<"u"?j0:typeof self<"u"?self:typeof window<"u"?window:{});var bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var R1,sc,N1,jh,pp,C1,I1,D1;(function(){var a,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof bh=="object"&&bh];for(var y=0;y<u.length;++y){var E=u[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(u,y){if(y)e:{var E=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var B=u[A];if(!(B in E))break e;E=E[B]}u=u[u.length-1],A=E[u],y=y(A),y!=A&&y!=null&&e(E,u,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(y){var E=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&E.push([A,y[A]]);return E}});var c=c||{},d=this||self;function p(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function v(u,y,E){return u.call.apply(u.bind,arguments)}function g(u,y,E){return g=v,g.apply(null,arguments)}function T(u,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function b(u,y){function E(){}E.prototype=y.prototype,u.Z=y.prototype,u.prototype=new E,u.prototype.constructor=u,u.Ob=function(A,B,Y){for(var oe=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)oe[Ne-2]=arguments[Ne];return y.prototype[B].apply(A,oe)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function x(u){const y=u.length;if(y>0){const E=Array(y);for(let A=0;A<y;A++)E[A]=u[A];return E}return[]}function O(u,y){for(let A=1;A<arguments.length;A++){const B=arguments[A];var E=typeof B;if(E=E!="object"?E:B?Array.isArray(B)?"array":E:"null",E=="array"||E=="object"&&typeof B.length=="number"){E=u.length||0;const Y=B.length||0;u.length=E+Y;for(let oe=0;oe<Y;oe++)u[E+oe]=B[oe]}else u.push(B)}}class Q{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function z(u){d.setTimeout(()=>{throw u},0)}function $(){var u=R;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class ne{constructor(){this.h=this.g=null}add(y,E){const A=se.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var se=new Q(()=>new _e,u=>u.reset());class _e{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,we=!1,R=new ne,N=()=>{const u=Promise.resolve(void 0);ge=()=>{u.then(I)}};function I(){for(var u;u=$();){try{u.h.call(u.g)}catch(E){z(E)}var y=se;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}we=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};d.addEventListener("test",E,y),d.removeEventListener("test",E,y)}catch{}return u})();function D(u){return/^[\s\xa0]*$/.test(u)}function Ke(u,y){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}b(Ke,V),Ke.prototype.init=function(u,y){const E=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(E=="mouseover"?y=u.fromElement:E=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ke.Z.h.call(this)},Ke.prototype.h=function(){Ke.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ht="closure_listenable_"+(Math.random()*1e6|0),X=0;function re(u,y,E,A,B){this.listener=u,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=B,this.key=++X,this.da=this.fa=!1}function pe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ee(u,y,E){for(const A in u)y.call(E,u[A],A,u)}function de(u,y){for(const E in u)y.call(void 0,u[E],E,u)}function M(u){const y={};for(const E in u)y[E]=u[E];return y}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(u,y){let E,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(E in A)u[E]=A[E];for(let Y=0;Y<Z.length;Y++)E=Z[Y],Object.prototype.hasOwnProperty.call(A,E)&&(u[E]=A[E])}}function le(u){this.src=u,this.g={},this.h=0}le.prototype.add=function(u,y,E,A,B){const Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);const oe=Ie(u,y,A,B);return oe>-1?(y=u[oe],E||(y.fa=!1)):(y=new re(y,this.src,Y,!!A,B),y.fa=E,u.push(y)),y};function Se(u,y){const E=y.type;if(E in u.g){var A=u.g[E],B=Array.prototype.indexOf.call(A,y,void 0),Y;(Y=B>=0)&&Array.prototype.splice.call(A,B,1),Y&&(pe(y),u.g[E].length==0&&(delete u.g[E],u.h--))}}function Ie(u,y,E,A){for(let B=0;B<u.length;++B){const Y=u[B];if(!Y.da&&Y.listener==y&&Y.capture==!!E&&Y.ha==A)return B}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Ot={};function ot(u,y,E,A,B){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)ot(u,y[Y],E,A,B);return null}return E=Xo(E),u&&u[ht]?u.J(y,E,p(A)?!!A.capture:!1,B):Is(u,y,E,!1,A,B)}function Is(u,y,E,A,B,Y){if(!y)throw Error("Invalid event type");const oe=p(B)?!!B.capture:!!B;let Ne=Ds(u);if(Ne||(u[ze]=Ne=new le(u)),E=Ne.add(y,E,A,oe,Y),E.proxy)return E;if(A=xr(),E.proxy=A,A.src=u,A.listener=E,u.addEventListener)k||(B=oe),B===void 0&&(B=!1),u.addEventListener(y.toString(),A,B);else if(u.attachEvent)u.attachEvent(ua(y.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function xr(){function u(E){return y.call(u.src,u.listener,E)}const y=Ko;return u}function Rr(u,y,E,A,B){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Rr(u,y[Y],E,A,B);else A=p(A)?!!A.capture:!!A,E=Xo(E),u&&u[ht]?(u=u.i,Y=String(y).toString(),Y in u.g&&(y=u.g[Y],E=Ie(y,E,A,B),E>-1&&(pe(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete u.g[Y],u.h--)))):u&&(u=Ds(u))&&(y=u.g[y.toString()],u=-1,y&&(u=Ie(y,E,A,B)),(E=u>-1?y[u]:null)&&Nr(E))}function Nr(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[ht])Se(y.i,u);else{var E=u.type,A=u.proxy;y.removeEventListener?y.removeEventListener(E,A,u.capture):y.detachEvent?y.detachEvent(ua(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=Ds(y))?(Se(E,u),E.h==0&&(E.src=null,y[ze]=null)):pe(u)}}}function ua(u){return u in Ot?Ot[u]:Ot[u]="on"+u}function Ko(u,y){if(u.da)u=!0;else{y=new Ke(y,this);const E=u.listener,A=u.ha||u.src;u.fa&&Nr(u),u=E.call(A,y)}return u}function Ds(u){return u=u[ze],u instanceof le?u:null}var $o="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xo(u){return typeof u=="function"?u:(u[$o]||(u[$o]=function(y){return u.handleEvent(y)}),u[$o])}function Tt(){C.call(this),this.i=new le(this),this.M=this,this.G=null}b(Tt,C),Tt.prototype[ht]=!0,Tt.prototype.removeEventListener=function(u,y,E,A){Rr(this,u,y,E,A)};function Mt(u,y){var E,A=u.G;if(A)for(E=[];A;A=A.G)E.push(A);if(u=u.M,A=y.type||y,typeof y=="string")y=new V(y,u);else if(y instanceof V)y.target=y.target||u;else{var B=y;y=new V(A,u),q(y,B)}B=!0;let Y,oe;if(E)for(oe=E.length-1;oe>=0;oe--)Y=y.g=E[oe],B=Ci(Y,A,!0,y)&&B;if(Y=y.g=u,B=Ci(Y,A,!0,y)&&B,B=Ci(Y,A,!1,y)&&B,E)for(oe=0;oe<E.length;oe++)Y=y.g=E[oe],B=Ci(Y,A,!1,y)&&B}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const E=u.g[y];for(let A=0;A<E.length;A++)pe(E[A]);delete u.g[y],u.h--}}this.G=null},Tt.prototype.J=function(u,y,E,A){return this.i.add(String(u),y,!1,E,A)},Tt.prototype.K=function(u,y,E,A){return this.i.add(String(u),y,!0,E,A)};function Ci(u,y,E,A){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let Y=0;Y<y.length;++Y){const oe=y[Y];if(oe&&!oe.da&&oe.capture==E){const Ne=oe.listener,gt=oe.ha||oe.src;oe.fa&&Se(u.i,oe),B=Ne.call(gt,A)!==!1&&B}}return B&&!A.defaultPrevented}function Hd(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:d.setTimeout(u,y||0)}function Yc(u){u.g=Hd(()=>{u.g=null,u.i&&(u.i=!1,Yc(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class an extends C{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Yc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function js(u){C.call(this),this.h=u,this.g={}}b(js,C);var Jo=[];function Zo(u){ee(u.g,function(y,E){this.g.hasOwnProperty(E)&&Nr(y)},u),u.g={}}js.prototype.N=function(){js.Z.N.call(this),Zo(this)},js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ii=d.JSON.stringify,Fd=d.JSON.parse,Kc=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function $c(){}function Xc(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){V.call(this,"d")}b(qt,V);function Rn(){V.call(this,"c")}b(Rn,V);var pt={},Jc=null;function Cr(){return Jc=Jc||new Tt}pt.Ia="serverreachability";function Zc(u){V.call(this,pt.Ia,u)}b(Zc,V);function ha(u){const y=Cr();Mt(y,new Zc(y))}pt.STAT_EVENT="statevent";function Os(u,y){V.call(this,pt.STAT_EVENT,u),this.stat=y}b(Os,V);function bt(u){const y=Cr();Mt(y,new Os(y,u))}pt.Ja="timingevent";function da(u,y){V.call(this,pt.Ja,u),this.size=y}b(da,V);function fa(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},y)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function Gd(u,y,E,A,B,Y){u.info(function(){if(u.g)if(Y){var oe="",Ne=Y.split("&");for(let Ge=0;Ge<Ne.length;Ge++){var gt=Ne[Ge].split("=");if(gt.length>1){const lt=gt[0];gt=gt[1];const Dn=lt.split("_");oe=Dn.length>=2&&Dn[1]=="type"?oe+(lt+"="+gt+"&"):oe+(lt+"=redacted&")}}}else oe=null;else oe=Y;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+y+`
`+E+`
`+oe})}function Wc(u,y,E,A,B,Y,oe){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+y+`
`+E+`
`+Y+" "+oe})}function ma(u,y,E,A){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+Qd(u,E)+(A?" "+A:"")})}function Ms(u,y){u.info(function(){return"TIMEOUT: "+y})}Qn.prototype.info=function(){};function Qd(u,y){if(!u.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(u=0;u<Y.length;u++)if(Array.isArray(Y[u])){var E=Y[u];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var B=A[0];if(B!="noop"&&B!="stop"&&B!="close")for(let oe=1;oe<A.length;oe++)A[oe]=""}}}}return Ii(Y)}catch{return y}}var Vs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Wo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},el;function Ps(){}b(Ps,$c),Ps.prototype.g=function(){return new XMLHttpRequest},el=new Ps;function Ga(u){return encodeURIComponent(String(u))}function eu(u){var y=1;u=u.split(":");const E=[];for(;y>0&&u.length;)E.push(u.shift()),y--;return u.length&&E.push(u.join(":")),E}function Yn(u,y,E,A){this.j=u,this.i=y,this.l=E,this.S=A||1,this.V=new js(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var St={},Lt={};function pa(u,y,E){u.M=1,u.A=Ls(At(y)),u.u=E,u.R=!0,Ir(u,null)}function Ir(u,y){u.F=Date.now(),ga(u),u.B=At(u.A);var E=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),Mr(E.i,"t",A),u.C=0,E=u.j.L,u.h=new Kn,u.g=pu(u.j,E?y:null,!u.u),u.P>0&&(u.O=new an(g(u.Y,u,u.g),u.P)),y=u.V,E=u.g,A=u.ba;var B="readystatechange";Array.isArray(B)||(B&&(Jo[0]=B.toString()),B=Jo);for(let Y=0;Y<B.length;Y++){const oe=ot(E,B[Y],A||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),ha(),Gd(u.i,u.v,u.B,u.l,u.S,u.u)}Yn.prototype.ba=function(u){u=u.target;const y=this.O;y&&Jn(u)==3?y.j():this.Y(u)},Yn.prototype.Y=function(u){try{if(u==this.g)e:{const Ne=Jn(this.g),gt=this.g.ya(),Ge=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||Ne!=4||gt==7||(gt==8||Ge<=0?ha(3):ha(2)),va(this);var y=this.g.ca();this.X=y;var E=Yd(this);if(this.o=y==200,Wc(this.i,this.v,this.B,this.l,this.S,Ne,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,B=this.g;if((A=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var Y=A;break t}}Y=null}if(u=Y)ma(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ya(this,u);else{this.o=!1,this.m=3,bt(12),vn(this),Nn(this);break e}}if(this.R){u=!0;let lt;for(;!this.K&&this.C<E.length;)if(lt=nu(this,E),lt==Lt){Ne==4&&(this.m=4,bt(14),u=!1),ma(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==St){this.m=4,bt(15),ma(this.i,this.l,E,"[Invalid Chunk]"),u=!1;break}else ma(this.i,this.l,lt,null),ya(this,lt);if(tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||E.length!=0||this.h.h||(this.m=1,bt(16),u=!1),this.o=this.o&&u,!u)ma(this.i,this.l,E,"[Invalid Chunked Response]"),vn(this),Nn(this);else if(E.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),pl(oe),oe.P=!0,bt(11))}}else ma(this.i,this.l,E,null),ya(this,E);Ne==4&&vn(this),this.o&&!this.K&&(Ne==4?hu(this.j,this):(this.o=!1,ga(this)))}else Ya(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),vn(this),Nn(this)}}}catch{}finally{}};function Yd(u){if(!tu(u))return u.g.la();const y=Ht(u.g);if(y==="")return"";let E="";const A=y.length,B=Jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return vn(u),Nn(u),"";u.h.i=new d.TextDecoder}for(let Y=0;Y<A;Y++)u.h.h=!0,E+=u.h.i.decode(y[Y],{stream:!(B&&Y==A-1)});return y.length=0,u.h.g+=E,u.C=0,u.h.g}function tu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function nu(u,y){var E=u.C,A=y.indexOf(`
`,E);return A==-1?Lt:(E=Number(y.substring(E,A)),isNaN(E)?St:(A+=1,A+E>y.length?Lt:(y=y.slice(A,A+E),u.C=A+E,y)))}Yn.prototype.cancel=function(){this.K=!0,vn(this)};function ga(u){u.T=Date.now()+u.H,Dr(u,u.H)}function Dr(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=fa(g(u.aa,u),y)}function va(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Yn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ms(this.i,this.B),this.M!=2&&(ha(),bt(17)),vn(this),this.m=2,Nn(this)):Dr(this,this.T-u)};function Nn(u){u.j.I==0||u.K||hu(u.j,u)}function vn(u){va(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,Zo(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function ya(u,y){try{var E=u.j;if(E.I!=0&&(E.g==u||Ea(E.h,u))){if(!u.L&&Ea(E.h,u)&&E.I==3){try{var A=E.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<u.F)Ur(E),ki(E);else break e;Fs(E),bt(18)}}else E.xa=B[1],0<E.xa-E.K&&B[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=fa(g(E.Va,E),6e3));_a(E.h)<=1&&E.ta&&(E.ta=void 0)}else xa(E,11)}else if((u.L||E.g==u)&&Ur(E),!D(y))for(B=E.Ba.g.parse(y),y=0;y<B.length;y++){let Ge=B[y];const lt=Ge[0];if(!(lt<=E.K))if(E.K=lt,Ge=Ge[1],E.I==2)if(Ge[0]=="c"){E.M=Ge[1],E.ba=Ge[2];const Dn=Ge[3];Dn!=null&&(E.ka=Dn,E.j.info("VER="+E.ka));const Ra=Ge[4];Ra!=null&&(E.za=Ra,E.j.info("SVER="+E.za));const Zn=Ge[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(A=1.5*Zn,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Wn=u.g;if(Wn){const Gs=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gs){var Y=A.h;Y.g||Gs.indexOf("spdy")==-1&&Gs.indexOf("quic")==-1&&Gs.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(al(Y,Y.h),Y.h=null))}if(A.G){const zr=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;zr&&(A.wa=zr,$e(A.J,A.G,zr))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-u.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var oe=u;if(A.na=mu(A,A.L?A.ba:null,A.W),oe.L){il(A.h,oe);var Ne=oe,gt=A.O;gt&&(Ne.H=gt),Ne.D&&(va(Ne),ga(Ne)),A.g=oe}else cu(A);E.i.length>0&&Aa(E)}else Ge[0]!="stop"&&Ge[0]!="close"||xa(E,7);else E.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?xa(E,7):fl(E):Ge[0]!="noop"&&E.l&&E.l.qa(Ge),E.A=0)}}ha(4)}catch{}}var wt=class{constructor(u,y){this.g=u,this.map=y}};function tl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function nl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function _a(u){return u.h?1:u.g?u.g.size:0}function Ea(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function al(u,y){u.g?u.g.add(y):u.h=y}function il(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}tl.prototype.cancel=function(){if(this.i=sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function sl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const E of u.g.values())y=y.concat(E.G);return y}return x(u.i)}var au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jr(u,y){if(u){u=u.split("&");for(let E=0;E<u.length;E++){const A=u[E].indexOf("=");let B,Y=null;A>=0?(B=u[E].substring(0,A),Y=u[E].substring(A+1)):B=u[E],y(B,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function yn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof yn?(this.l=u.l,kt(this,u.j),this.o=u.o,this.g=u.g,Di(this,u.u),this.h=u.h,rl(this,ou(u.i)),this.m=u.m):u&&(y=String(u).match(au))?(this.l=!1,kt(this,y[1]||"",!0),this.o=Ta(y[2]||""),this.g=Ta(y[3]||"",!0),Di(this,y[4]),this.h=Ta(y[5]||"",!0),rl(this,y[6]||"",!0),this.m=Ta(y[7]||"")):(this.l=!1,this.i=new Oi(null,this.l))}yn.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(ks(y,Or,!0),":");var E=this.g;return(E||y=="file")&&(u.push("//"),(y=this.o)&&u.push(ks(y,Or,!0),"@"),u.push(Ga(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&u.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(ks(E,E.charAt(0)=="/"?ol:iu,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",ks(E,su)),u.join("")},yn.prototype.resolve=function(u){const y=At(this);let E=!!u.j;E?kt(y,u.j):E=!!u.o,E?y.o=u.o:E=!!u.g,E?y.g=u.g:E=u.u!=null;var A=u.h;if(E)Di(y,u.u);else if(E=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var B=y.h.lastIndexOf("/");B!=-1&&(A=y.h.slice(0,B+1)+A)}if(B=A,B==".."||B==".")A="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){A=B.lastIndexOf("/",0)==0,B=B.split("/");const Y=[];for(let oe=0;oe<B.length;){const Ne=B[oe++];Ne=="."?A&&oe==B.length&&Y.push(""):Ne==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),A&&oe==B.length&&Y.push("")):(Y.push(Ne),A=!0)}A=Y.join("/")}else A=B}return E?y.h=A:E=u.i.toString()!=="",E?rl(y,ou(u.i)):E=!!u.m,E&&(y.m=u.m),y};function At(u){return new yn(u)}function kt(u,y,E){u.j=E?Ta(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Di(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function rl(u,y,E){y instanceof Oi?(u.i=y,Vr(u.i,u.l)):(E||(y=ks(y,ji)),u.i=new Oi(y,u.l))}function $e(u,y,E){u.i.set(y,E)}function Ls(u){return $e(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ta(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ks(u,y,E){return typeof u=="string"?(u=encodeURI(u).replace(y,ln),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ln(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Or=/[#\/\?@]/g,iu=/[#\?:]/g,ol=/[#\?]/g,ji=/[#\?@]/g,su=/#/g;function Oi(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function cn(u){u.g||(u.g=new Map,u.h=0,u.i&&jr(u.i,function(y,E){u.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}a=Oi.prototype,a.add=function(u,y){cn(this),this.i=null,u=Mi(this,u);let E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(y),this.h+=1,this};function ru(u,y){cn(u),y=Mi(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function ll(u,y){return cn(u),y=Mi(u,y),u.g.has(y)}a.forEach=function(u,y){cn(this),this.g.forEach(function(E,A){E.forEach(function(B){u.call(y,B,A,this)},this)},this)};function cl(u,y){cn(u);let E=[];if(typeof y=="string")ll(u,y)&&(E=E.concat(u.g.get(Mi(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)E=E.concat(u[y]);return E}a.set=function(u,y){return cn(this),this.i=null,u=Mi(this,u),ll(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},a.get=function(u,y){return u?(u=cl(this,u),u.length>0?String(u[0]):y):y};function Mr(u,y,E){ru(u,y),E.length>0&&(u.i=null,u.g.set(Mi(u,y),x(E)),u.h+=E.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var E=y[A];const B=Ga(E);E=cl(this,E);for(let Y=0;Y<E.length;Y++){let oe=B;E[Y]!==""&&(oe+="="+Ga(E[Y])),u.push(oe)}}return this.i=u.join("&")};function ou(u){const y=new Oi;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function Mi(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function Vr(u,y){y&&!u.j&&(cn(u),u.i=null,u.g.forEach(function(E,A){const B=A.toLowerCase();A!=B&&(ru(this,A),Mr(this,B,E))},u)),u.j=y}function $n(u,y){const E=new Qn;if(d.Image){const A=new Image;A.onload=T(Cn,E,"TestLoadImage: loaded",!0,y,A),A.onerror=T(Cn,E,"TestLoadImage: error",!1,y,A),A.onabort=T(Cn,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=T(Cn,E,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else y(!1)}function ul(u,y){const E=new Qn,A=new AbortController,B=setTimeout(()=>{A.abort(),Cn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:A.signal}).then(Y=>{clearTimeout(B),Y.ok?Cn(E,"TestPingServer: ok",!0,y):Cn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Cn(E,"TestPingServer: error",!1,y)})}function Cn(u,y,E,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(E)}catch{}}function Vi(){this.g=new Kc}function ba(u){this.i=u.Sb||null,this.h=u.ab||!1}b(ba,$c),ba.prototype.g=function(){return new Us(this.i,this.h)};function Us(u,y){Tt.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Us,Tt),a=Us.prototype,a.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,Xn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||d).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Pi(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Pr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Pr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?Pi(this):Xn(this),this.readyState==3&&Pr(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,Pi(this))},a.Na=function(u){this.g&&(this.response=u,Pi(this))},a.ga=function(){this.g&&Pi(this)};function Pi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Xn(u)}a.setRequestHeader=function(u,y){this.A.append(u,y)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=y.next();return u.join(`\r
`)};function Xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function In(u){let y="";return ee(u,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function zs(u,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=In(E),typeof u=="string"?E!=null&&Ga(E):$e(u,y,E))}function Ze(u){Tt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Ze,Tt);var Sa=/^https?$/i,hl=["POST","PUT"];a=Ze.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():el.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(Y){Bs(this,Y);return}if(u=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)E.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())E.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(hl,y,void 0)>=0)||A||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,oe]of E)this.g.setRequestHeader(Y,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Y){Bs(this,Y)}};function Bs(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,dl(u),Qa(u)}function dl(u){u.A||(u.A=!0,Mt(u,"complete"),Mt(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Mt(this,"complete"),Mt(this,"abort"),Qa(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qa(this,!0)),Ze.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?qs(this):this.Xa())},a.Xa=function(){qs(this)};function qs(u){if(u.h&&typeof c<"u"){if(u.v&&Jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Mt(u,"readystatechange"),Jn(u)==4){u.h=!1;try{const Y=u.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=Y===0){let oe=String(u.D).match(au)[1]||null;!oe&&d.self&&d.self.location&&(oe=d.self.location.protocol.slice(0,-1)),A=!Sa.test(oe?oe.toLowerCase():"")}E=A}if(E)Mt(u,"complete"),Mt(u,"success");else{u.o=6;try{var B=Jn(u)>2?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.ca()+"]",dl(u)}}finally{Qa(u)}}}}function Qa(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const E=u.g;u.g=null,y||Mt(u,"ready");try{E.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Jn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),Fd(y)}};function Ht(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ya(u){const y={};u=(u.g&&Jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(D(u[A]))continue;var E=eu(u[A]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=y[B]||[];y[B]=Y,Y.push(E)}de(y,function(A){return A.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wa(u,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||y}function Li(u){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wa("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wa("baseRetryDelayMs",5e3,u),this.Za=wa("retryDelaySeedMs",1e4,u),this.Ta=wa("forwardChannelMaxRetries",2,u),this.va=wa("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new tl(u&&u.concurrentRequestLimit),this.Ba=new Vi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=Li.prototype,a.ka=8,a.I=1,a.connect=function(u,y,E,A){bt(0),this.W=u,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=mu(this,null,this.W),Aa(this)};function fl(u){if(Lr(u),u.I==3){var y=u.V++,E=At(u.J);if($e(E,"SID",u.M),$e(E,"RID",y),$e(E,"TYPE","terminate"),Hs(u,E),y=new Yn(u,u.j,y),y.M=2,y.A=Ls(At(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&d.Image&&(new Image().src=y.A,E=!0),E||(y.g=pu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),ga(y)}fu(u)}function ki(u){u.g&&(pl(u),u.g.cancel(),u.g=null)}function Lr(u){ki(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ur(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Aa(u){if(!nl(u.h)&&!u.m){u.m=!0;var y=u.Ea;ge||N(),we||(ge(),we=!0),R.add(y,u),u.D=0}}function kr(u,y){return _a(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=fa(g(u.Ea,u,y),du(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const B=new Yn(this,this.j,u);let Y=this.o;if(this.U&&(Y?(Y=M(Y),q(Y,this.U)):Y=this.U),this.u!==null||this.R||(B.J=Y,Y=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=lu(this,B,y),E=At(this.J),$e(E,"RID",u),$e(E,"CVER",22),this.G&&$e(E,"X-HTTP-Session-Id",this.G),Hs(this,E),Y&&(this.R?y="headers="+Ga(In(Y))+"&"+y:this.u&&zs(E,this.u,Y)),al(this.h,B),this.Ra&&$e(E,"TYPE","init"),this.S?($e(E,"$req",y),$e(E,"SID","null"),B.U=!0,pa(B,E,null)):pa(B,E,y),this.I=2}}else this.I==3&&(u?ml(this,u):this.i.length==0||nl(this.h)||ml(this))};function ml(u,y){var E;y?E=y.l:E=u.V++;const A=At(u.J);$e(A,"SID",u.M),$e(A,"RID",E),$e(A,"AID",u.K),Hs(u,A),u.u&&u.o&&zs(A,u.u,u.o),E=new Yn(u,u.j,E,u.D+1),u.u===null&&(E.J=u.o),y&&(u.i=y.G.concat(u.i)),y=lu(u,E,1e3),E.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),al(u.h,E),pa(E,A,y)}function Hs(u,y){u.H&&ee(u.H,function(E,A){$e(y,A,E)}),u.l&&ee({},function(E,A){$e(y,A,E)})}function lu(u,y,E){E=Math.min(u.i.length,E);const A=u.l?g(u.l.Ka,u.l,u):null;e:{var B=u.i;let Ne=-1;for(;;){const gt=["count="+E];Ne==-1?E>0?(Ne=B[0].g,gt.push("ofs="+Ne)):Ne=0:gt.push("ofs="+Ne);let Ge=!0;for(let lt=0;lt<E;lt++){var Y=B[lt].g;const Dn=B[lt].map;if(Y-=Ne,Y<0)Ne=Math.max(0,B[lt].g-100),Ge=!1;else try{Y="req"+Y+"_"||"";try{var oe=Dn instanceof Map?Dn:Object.entries(Dn);for(const[Ra,Zn]of oe){let Wn=Zn;p(Zn)&&(Wn=Ii(Zn)),gt.push(Y+Ra+"="+encodeURIComponent(Wn))}}catch(Ra){throw gt.push(Y+"type="+encodeURIComponent("_badmap")),Ra}}catch{A&&A(Dn)}}if(Ge){oe=gt.join("&");break e}}oe=void 0}return u=u.i.splice(0,E),y.G=u,oe}function cu(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;ge||N(),we||(ge(),we=!0),R.add(y,u),u.A=0}}function Fs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=fa(g(u.Da,u),du(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,uu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=fa(g(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),ki(this),uu(this))};function pl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function uu(u){u.g=new Yn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=At(u.na);$e(y,"RID","rpc"),$e(y,"SID",u.M),$e(y,"AID",u.K),$e(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&$e(y,"TO",u.ia),$e(y,"TYPE","xmlhttp"),Hs(u,y),u.u&&u.o&&zs(y,u.u,u.o),u.O&&(u.g.H=u.O);var E=u.g;u=u.ba,E.M=1,E.A=Ls(At(y)),E.u=null,E.R=!0,Ir(E,u)}a.Va=function(){this.C!=null&&(this.C=null,ki(this),Fs(this),bt(19))};function Ur(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function hu(u,y){var E=null;if(u.g==y){Ur(u),pl(u),u.g=null;var A=2}else if(Ea(u.h,y))E=y.G,il(u.h,y),A=1;else return;if(u.I!=0){if(y.o)if(A==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var B=u.D;A=Cr(),Mt(A,new da(A,E)),Aa(u)}else cu(u);else if(B=y.m,B==3||B==0&&y.X>0||!(A==1&&kr(u,y)||A==2&&Fs(u)))switch(E&&E.length>0&&(y=u.h,y.i=y.i.concat(E)),B){case 1:xa(u,5);break;case 4:xa(u,10);break;case 3:xa(u,6);break;default:xa(u,2)}}}function du(u,y){let E=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(E*=2),E*y}function xa(u,y){if(u.j.info("Error code "+y),y==2){var E=g(u.bb,u),A=u.Ua;const B=!A;A=new yn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||kt(A,"https"),Ls(A),B?$n(A.toString(),E):ul(A.toString(),E)}else bt(2);u.I=0,u.l&&u.l.pa(y),fu(u),Lr(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function fu(u){if(u.I=0,u.ja=[],u.l){const y=sl(u.h);(y.length!=0||u.i.length!=0)&&(O(u.ja,y),O(u.ja,u.i),u.h.i.length=0,x(u.i),u.i.length=0),u.l.oa()}}function mu(u,y,E){var A=E instanceof yn?At(E):new yn(E);if(A.g!="")y&&(A.g=y+"."+A.g),Di(A,A.u);else{var B=d.location;A=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const Y=new yn(null);A&&kt(Y,A),y&&(Y.g=y),B&&Di(Y,B),E&&(Y.h=E),A=Y}return E=u.G,y=u.wa,E&&y&&$e(A,E,y),$e(A,"VER",u.ka),Hs(u,A),A}function pu(u,y,E){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new Ze(new ba({ab:E})):new Ze(u.ma),y.Fa(u.L),y}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}a=gu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Ui(){}Ui.prototype.g=function(u,y){return new sn(u,y)};function sn(u,y){Tt.call(this),this.g=new Li(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!D(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new Ka(this)}b(sn,Tt),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){fl(this.g)},sn.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.v&&(E={},E.__data__=Ii(u),u=E);y.i.push(new wt(y.Ya++,u)),y.I==3&&Aa(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,fl(this.g),delete this.g,sn.Z.N.call(this)};function vu(u){qt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const E in y){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}b(vu,qt);function yu(){Rn.call(this),this.status=1}b(yu,Rn);function Ka(u){this.g=u}b(Ka,gu),Ka.prototype.ra=function(){Mt(this.g,"a")},Ka.prototype.qa=function(u){Mt(this.g,new vu(u))},Ka.prototype.pa=function(u){Mt(this.g,new yu)},Ka.prototype.oa=function(){Mt(this.g,"b")},Ui.prototype.createWebChannel=Ui.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,D1=function(){return new Ui},I1=function(){return Cr()},C1=pt,pp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vs.NO_ERROR=0,Vs.TIMEOUT=8,Vs.HTTP_ERROR=6,jh=Vs,Wo.COMPLETE="complete",N1=Wo,Xc.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,sc=Xc,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,R1=Ze}).apply(typeof bh<"u"?bh:typeof self<"u"?self:typeof window<"u"?window:{});const O0="@firebase/firestore",M0="4.9.2";class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let Lo="12.3.0";const pr=new Qp("@firebase/firestore");function vo(){return pr.logLevel}function ue(a,...e){if(pr.logLevel<=Pe.DEBUG){const n=e.map($p);pr.debug(`Firestore (${Lo}): ${a}`,...n)}}function Si(a,...e){if(pr.logLevel<=Pe.ERROR){const n=e.map($p);pr.error(`Firestore (${Lo}): ${a}`,...n)}}function Co(a,...e){if(pr.logLevel<=Pe.WARN){const n=e.map($p);pr.warn(`Firestore (${Lo}): ${a}`,...n)}}function $p(a){if(typeof a=="string")return a;try{return(function(n){return JSON.stringify(n)})(a)}catch{return a}}function be(a,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,j1(a,s,n)}function j1(a,e,n){let s=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Si(s),new Error(s)}function Ye(a,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,a||j1(e,o,s)}function Re(a,e){return a}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class O1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(en.UNAUTHENTICATED)))}shutdown(){}}class Ux{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class zx{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,n(v)):Promise.resolve();let c=new gi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new gi,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new gi)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new O1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class Bx{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qx{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Bx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const s=c=>{c.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new V0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new V0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Fx(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<a;s++)n[s]=Math.floor(256*Math.random());return n}class Xp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Fx(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=e.charAt(o[c]%62))}return s}}function Le(a,e){return a<e?-1:a>e?1:0}function gp(a,e){const n=Math.min(a.length,e.length);for(let s=0;s<n;s++){const o=a.charAt(s),c=e.charAt(s);if(o!==c)return Wm(o)===Wm(c)?Le(o,c):Wm(o)?1:-1}return Le(a.length,e.length)}const Gx=55296,Qx=57343;function Wm(a){const e=a.charCodeAt(0);return e>=Gx&&e<=Qx}function Io(a,e,n){return a.length===e.length&&a.every(((s,o)=>n(s,e[o])))}const P0="__name__";class Va{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Va.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Va?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const c=Va.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Le(e.length,n.length)}static compareSegments(e,n){const s=Va.isNumericId(e),o=Va.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Va.extractNumericId(e).compare(Va.extractNumericId(n)):gp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ys.fromString(e.substring(4,e.length-2))}}class it extends Va{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const Yx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Va{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return Yx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P0}static keyField(){return new Xt([P0])}static fromServerFormat(e){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ce(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ce(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(s+=p,o++):(c(),o++)}if(c(),d)throw new ce(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(it.fromString(e))}static fromName(e){return new ye(it.fromString(e).popFirst(5))}static empty(){return new ye(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new it(e.slice()))}}function M1(a,e,n){if(!n)throw new ce(te.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function Kx(a,e,n,s){if(e===!0&&s===!0)throw new ce(te.INVALID_ARGUMENT,`${a} and ${n} cannot be used together.`)}function L0(a){if(!ye.isDocumentKey(a))throw new ce(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function k0(a){if(ye.isDocumentKey(a))throw new ce(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function V1(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function gd(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":be(12329,{type:typeof a})}function ra(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ce(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gd(a);throw new ce(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return a}function jt(a,e){const n={typeString:a};return e&&(n.value=e),n}function Mc(a,e){if(!V1(a))throw new ce(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){n=`JSON missing required field: '${s}'`;break}const d=a[s];if(o&&typeof d!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new ce(te.INVALID_ARGUMENT,n);return!0}const U0=-62135596800,z0=1e6;class fe{static now(){return fe.fromMillis(Date.now())}static fromDate(e){return fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*z0);return new fe(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<U0)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z0}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mc(e,fe._jsonSchema))return new fe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-U0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}fe._jsonSchemaVersion="firestore/timestamp/1.0",fe._jsonSchema={type:jt("string",fe._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new fe(0,0))}static max(){return new Ae(new fe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const _c=-1;function $x(a,e){const n=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new fe(n+1,0):new fe(n,s));return new Es(o,ye.empty(),e)}function Xx(a){return new Es(a.readTime,a.key,_c)}class Es{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Es(Ae.min(),ye.empty(),_c)}static max(){return new Es(Ae.max(),ye.empty(),_c)}}function Jx(a,e){let n=a.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(a.documentKey,e.documentKey),n!==0?n:Le(a.largestBatchId,e.largestBatchId))}const Zx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ko(a){if(a.code!==te.FAILED_PRECONDITION||a.message!==Zx)throw a;ue("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&n()}),(v=>s(v)))})),d=!0,c===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const c=e.length,d=new Array(c);let p=0;for(let v=0;v<c;v++){const g=v;n(e[g]).next((T=>{d[g]=T,++p,p===c&&s(d)}),(T=>o(T)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):s()};c()}))}}function eR(a){const e=a.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Uo(a){return a.name==="IndexedDbTransactionError"}class vd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vd.ce=-1;const Jp=-1;function yd(a){return a==null}function Yh(a){return a===0&&1/a==-1/0}function tR(a){return typeof a=="number"&&Number.isInteger(a)&&!Yh(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const P1="";function nR(a){let e="";for(let n=0;n<a.length;n++)e.length>0&&(e=B0(e)),e=aR(a.get(n),e);return B0(e)}function aR(a,e){let n=e;const s=a.length;for(let o=0;o<s;o++){const c=a.charAt(o);switch(c){case"\0":n+="";break;case P1:n+="";break;default:n+=c}}return n}function B0(a){return a+P1+""}function q0(a){let e=0;for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e++;return e}function xs(a,e){for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e(n,a[n])}function L1(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class dt{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sh(this.root,e,this.comparator,!0)}}class Sh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,o,c){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=c??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,c){return new Kt(e??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,o,c){return this}insert(e,n,s){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new H0(this.data.getIterator())}getIteratorFrom(e){return new H0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class H0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new xn([])}unionWith(e){let n=new Pt(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Io(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class k1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new k1("Invalid base64 string: "+c):c}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const iR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(a){if(Ye(!!a,39018),typeof a=="string"){let e=0;const n=iR.exec(a);if(Ye(!!n,46558,{timestamp:a}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(a.seconds),nanos:_t(a.nanos)}}function _t(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function bs(a){return typeof a=="string"?Jt.fromBase64String(a):Jt.fromUint8Array(a)}const U1="server_timestamp",z1="__type__",B1="__previous_value__",q1="__local_write_time__";function Zp(a){return(a?.mapValue?.fields||{})[z1]?.stringValue===U1}function _d(a){const e=a.mapValue.fields[B1];return Zp(e)?_d(e):e}function Ec(a){const e=Ts(a.mapValue.fields[q1].timestampValue);return new fe(e.seconds,e.nanos)}class sR{constructor(e,n,s,o,c,d,p,v,g,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=g,this.isUsingEmulator=T}}const Kh="(default)";class Tc{constructor(e,n){this.projectId=e,this.database=n||Kh}static empty(){return new Tc("","")}get isDefaultDatabase(){return this.database===Kh}isEqual(e){return e instanceof Tc&&e.projectId===this.projectId&&e.database===this.database}}const H1="__type__",rR="__max__",wh={mapValue:{}},F1="__vector__",$h="value";function Ss(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Zp(a)?4:lR(a)?9007199254740991:oR(a)?10:11:be(28295,{value:a})}function Ha(a,e){if(a===e)return!0;const n=Ss(a);if(n!==Ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Ec(a).isEqual(Ec(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Ts(o.timestampValue),p=Ts(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,c){return bs(o.bytesValue).isEqual(bs(c.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,c){return _t(o.geoPointValue.latitude)===_t(c.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(c.geoPointValue.longitude)})(a,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return _t(o.integerValue)===_t(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=_t(o.doubleValue),p=_t(c.doubleValue);return d===p?Yh(d)===Yh(p):isNaN(d)&&isNaN(p)}return!1})(a,e);case 9:return Io(a.arrayValue.values||[],e.arrayValue.values||[],Ha);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(q0(d)!==q0(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Ha(d[v],p[v])))return!1;return!0})(a,e);default:return be(52216,{left:a})}}function bc(a,e){return(a.values||[]).find((n=>Ha(n,e)))!==void 0}function Do(a,e){if(a===e)return 0;const n=Ss(a),s=Ss(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(a.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=_t(c.integerValue||c.doubleValue),v=_t(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(a,e);case 3:return F0(a.timestampValue,e.timestampValue);case 4:return F0(Ec(a),Ec(e));case 5:return gp(a.stringValue,e.stringValue);case 6:return(function(c,d){const p=bs(c),v=bs(d);return p.compareTo(v)})(a.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),v=d.split("/");for(let g=0;g<p.length&&g<v.length;g++){const T=Le(p[g],v[g]);if(T!==0)return T}return Le(p.length,v.length)})(a.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Le(_t(c.latitude),_t(d.latitude));return p!==0?p:Le(_t(c.longitude),_t(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return G0(a.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},v=d.fields||{},g=p[$h]?.arrayValue,T=v[$h]?.arrayValue,b=Le(g?.values?.length||0,T?.values?.length||0);return b!==0?b:G0(g,T)})(a.mapValue,e.mapValue);case 11:return(function(c,d){if(c===wh.mapValue&&d===wh.mapValue)return 0;if(c===wh.mapValue)return 1;if(d===wh.mapValue)return-1;const p=c.fields||{},v=Object.keys(p),g=d.fields||{},T=Object.keys(g);v.sort(),T.sort();for(let b=0;b<v.length&&b<T.length;++b){const w=gp(v[b],T[b]);if(w!==0)return w;const x=Do(p[v[b]],g[T[b]]);if(x!==0)return x}return Le(v.length,T.length)})(a.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function F0(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Le(a,e);const n=Ts(a),s=Ts(e),o=Le(n.seconds,s.seconds);return o!==0?o:Le(n.nanos,s.nanos)}function G0(a,e){const n=a.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=Do(n[o],s[o]);if(c)return c}return Le(n.length,s.length)}function jo(a){return vp(a)}function vp(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(n){const s=Ts(n);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(n){return bs(n).toBase64()})(a.bytesValue):"referenceValue"in a?(function(n){return ye.fromName(n).toString()})(a.referenceValue):"geoPointValue"in a?(function(n){return`geo(${n.latitude},${n.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=vp(c);return s+"]"})(a.arrayValue):"mapValue"in a?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${vp(n.fields[d])}`;return o+"}"})(a.mapValue):be(61005,{value:a})}function Oh(a){switch(Ss(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_d(a);return e?16+Oh(e):16;case 5:return 2*a.stringValue.length;case 6:return bs(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+Oh(c)),0)})(a.arrayValue);case 10:case 11:return(function(s){let o=0;return xs(s.fields,((c,d)=>{o+=c.length+Oh(d)})),o})(a.mapValue);default:throw be(13486,{value:a})}}function Q0(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function yp(a){return!!a&&"integerValue"in a}function Wp(a){return!!a&&"arrayValue"in a}function Y0(a){return!!a&&"nullValue"in a}function K0(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Mh(a){return!!a&&"mapValue"in a}function oR(a){return(a?.mapValue?.fields||{})[H1]?.stringValue===F1}function hc(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return xs(a.mapValue.fields,((n,s)=>e.mapValue.fields[n]=hc(s))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(a.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hc(a.arrayValue.values[n]);return e}return{...a}}function lR(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===rR}class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hc(n)}setAll(e){let n=Xt.emptyPath(),s={},o=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const v=this.getFieldsMap(n);this.applyChanges(v,s,o),s={},o=[],n=p.popLast()}d?s[p.lastSegment()]=hc(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(e){const n=this.field(e.popLast());Mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ha(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Mh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){xs(n,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new gn(hc(this.value))}}function G1(a){const e=[];return xs(a.fields,((n,s)=>{const o=new Xt([n]);if(Mh(s)){const c=G1(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new xn(e)}class tn{constructor(e,n,s,o,c,d,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new tn(e,0,Ae.min(),Ae.min(),Ae.min(),gn.empty(),0)}static newFoundDocument(e,n,s,o){return new tn(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new tn(e,2,n,Ae.min(),Ae.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,Ae.min(),Ae.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xh{constructor(e,n){this.position=e,this.inclusive=n}}function $0(a,e,n){let s=0;for(let o=0;o<a.position.length;o++){const c=e[o],d=a.position[o];if(c.field.isKeyField()?s=ye.comparator(ye.fromName(d.referenceValue),n.key):s=Do(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function X0(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let n=0;n<a.position.length;n++)if(!Ha(a.position[n],e.position[n]))return!1;return!0}class Sc{constructor(e,n="asc"){this.field=e,this.dir=n}}function cR(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class Q1{}class Dt extends Q1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new hR(e,n,s):n==="array-contains"?new mR(e,s):n==="in"?new pR(e,s):n==="not-in"?new gR(e,s):n==="array-contains-any"?new vR(e,s):new Dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new dR(e,s):new fR(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Do(n,this.value)):n!==null&&Ss(this.value)===Ss(n)&&this.matchesComparison(Do(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oa extends Q1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new oa(e,n)}matches(e){return Y1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Y1(a){return a.op==="and"}function K1(a){return uR(a)&&Y1(a)}function uR(a){for(const e of a.filters)if(e instanceof oa)return!1;return!0}function _p(a){if(a instanceof Dt)return a.field.canonicalString()+a.op.toString()+jo(a.value);if(K1(a))return a.filters.map((e=>_p(e))).join(",");{const e=a.filters.map((n=>_p(n))).join(",");return`${a.op}(${e})`}}function $1(a,e){return a instanceof Dt?(function(s,o){return o instanceof Dt&&s.op===o.op&&s.field.isEqual(o.field)&&Ha(s.value,o.value)})(a,e):a instanceof oa?(function(s,o){return o instanceof oa&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,d,p)=>c&&$1(d,o.filters[p])),!0):!1})(a,e):void be(19439)}function X1(a){return a instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${jo(n.value)}`})(a):a instanceof oa?(function(n){return n.op.toString()+" {"+n.getFilters().map(X1).join(" ,")+"}"})(a):"Filter"}class hR extends Dt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class dR extends Dt{constructor(e,n){super(e,"in",n),this.keys=J1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class fR extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=J1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function J1(a,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class mR extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wp(n)&&bc(n.arrayValue,this.value)}}class pR extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bc(this.value.arrayValue,n)}}class gR extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(bc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!bc(this.value.arrayValue,n)}}class vR extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>bc(this.value.arrayValue,s)))}}class yR{constructor(e,n=null,s=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function J0(a,e=null,n=[],s=[],o=null,c=null,d=null){return new yR(a,e,n,s,o,c,d)}function eg(a){const e=Re(a);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>_p(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),yd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>jo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>jo(s))).join(",")),e.Te=n}return e.Te}function tg(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<a.orderBy.length;n++)if(!cR(a.orderBy[n],e.orderBy[n]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let n=0;n<a.filters.length;n++)if(!$1(a.filters[n],e.filters[n]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!X0(a.startAt,e.startAt)&&X0(a.endAt,e.endAt)}function Ep(a){return ye.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class zo{constructor(e,n=null,s=[],o=[],c=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _R(a,e,n,s,o,c,d,p){return new zo(a,e,n,s,o,c,d,p)}function ng(a){return new zo(a)}function Z0(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Z1(a){return a.collectionGroup!==null}function dc(a){const e=Re(a);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Pt(Xt.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((g=>{g.isInequality()&&(p=p.add(g.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Sc(c,s))})),n.has(Xt.keyField().canonicalString())||e.Ie.push(new Sc(Xt.keyField(),s))}return e.Ie}function Pa(a){const e=Re(a);return e.Ee||(e.Ee=ER(e,dc(a))),e.Ee}function ER(a,e){if(a.limitType==="F")return J0(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Sc(o.field,c)}));const n=a.endAt?new Xh(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Xh(a.startAt.position,a.startAt.inclusive):null;return J0(a.path,a.collectionGroup,e,a.filters,a.limit,n,s)}}function Tp(a,e){const n=a.filters.concat([e]);return new zo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),n,a.limit,a.limitType,a.startAt,a.endAt)}function bp(a,e,n){return new zo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,n,a.startAt,a.endAt)}function Ed(a,e){return tg(Pa(a),Pa(e))&&a.limitType===e.limitType}function W1(a){return`${eg(Pa(a))}|lt:${a.limitType}`}function yo(a){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>X1(o))).join(", ")}]`),yd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>jo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>jo(o))).join(",")),`Target(${s})`})(Pa(a))}; limitType=${a.limitType})`}function Td(a,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ye.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(a,e)&&(function(s,o){for(const c of dc(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(a,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(a,e)&&(function(s,o){return!(s.startAt&&!(function(d,p,v){const g=$0(d,p,v);return d.inclusive?g<=0:g<0})(s.startAt,dc(s),o)||s.endAt&&!(function(d,p,v){const g=$0(d,p,v);return d.inclusive?g>=0:g>0})(s.endAt,dc(s),o))})(a,e)}function TR(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function eT(a){return(e,n)=>{let s=!1;for(const o of dc(a)){const c=bR(o,e,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function bR(a,e,n){const s=a.field.isKeyField()?ye.comparator(e.key,n.key):(function(c,d,p){const v=d.data.field(c),g=p.data.field(c);return v!==null&&g!==null?Do(v,g):be(42886)})(a.field,e,n);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:a.dir})}}class Er{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){xs(this.inner,((n,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return L1(this.inner)}size(){return this.innerSize}}const SR=new dt(ye.comparator);function wi(){return SR}const tT=new dt(ye.comparator);function rc(...a){let e=tT;for(const n of a)e=e.insert(n.key,n);return e}function nT(a){let e=tT;return a.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function lr(){return fc()}function aT(){return fc()}function fc(){return new Er((a=>a.toString()),((a,e)=>a.isEqual(e)))}const wR=new dt(ye.comparator),AR=new Pt(ye.comparator);function ke(...a){let e=AR;for(const n of a)e=e.add(n);return e}const xR=new Pt(Le);function RR(){return xR}function ag(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yh(e)?"-0":e}}function iT(a){return{integerValue:""+a}}function NR(a,e){return tR(e)?iT(e):ag(a,e)}class bd{constructor(){this._=void 0}}function CR(a,e,n){return a instanceof Jh?(function(o,c){const d={fields:{[z1]:{stringValue:U1},[q1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Zp(c)&&(c=_d(c)),c&&(d.fields[B1]=c),{mapValue:d}})(n,e):a instanceof wc?rT(a,e):a instanceof Ac?oT(a,e):(function(o,c){const d=sT(o,c),p=W0(d)+W0(o.Ae);return yp(d)&&yp(o.Ae)?iT(p):ag(o.serializer,p)})(a,e)}function IR(a,e,n){return a instanceof wc?rT(a,e):a instanceof Ac?oT(a,e):n}function sT(a,e){return a instanceof Zh?(function(s){return yp(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Jh extends bd{}class wc extends bd{constructor(e){super(),this.elements=e}}function rT(a,e){const n=lT(e);for(const s of a.elements)n.some((o=>Ha(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Ac extends bd{constructor(e){super(),this.elements=e}}function oT(a,e){let n=lT(e);for(const s of a.elements)n=n.filter((o=>!Ha(o,s)));return{arrayValue:{values:n}}}class Zh extends bd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function W0(a){return _t(a.integerValue||a.doubleValue)}function lT(a){return Wp(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function DR(a,e){return a.field.isEqual(e.field)&&(function(s,o){return s instanceof wc&&o instanceof wc||s instanceof Ac&&o instanceof Ac?Io(s.elements,o.elements,Ha):s instanceof Zh&&o instanceof Zh?Ha(s.Ae,o.Ae):s instanceof Jh&&o instanceof Jh})(a.transform,e.transform)}class jR{constructor(e,n){this.version=e,this.transformResults=n}}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vh(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Sd{}function cT(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new ig(a.key,qn.none()):new Vc(a.key,a.data,qn.none());{const n=a.data,s=gn.empty();let o=new Pt(Xt.comparator);for(let c of e.fields)if(!o.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Rs(a.key,s,new xn(o.toArray()),qn.none())}}function OR(a,e,n){a instanceof Vc?(function(o,c,d){const p=o.value.clone(),v=tE(o.fieldTransforms,c,d.transformResults);p.setAll(v),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,e,n):a instanceof Rs?(function(o,c,d){if(!Vh(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=tE(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(uT(o)),v.setAll(p),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(a,e,n):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function mc(a,e,n,s){return a instanceof Vc?(function(c,d,p,v){if(!Vh(c.precondition,d))return p;const g=c.value.clone(),T=nE(c.fieldTransforms,v,d);return g.setAll(T),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null})(a,e,n,s):a instanceof Rs?(function(c,d,p,v){if(!Vh(c.precondition,d))return p;const g=nE(c.fieldTransforms,v,d),T=d.data;return T.setAll(uT(c)),T.setAll(g),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(a,e,n,s):(function(c,d,p){return Vh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,e,n)}function MR(a,e){let n=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),c=sT(s.transform,o||null);c!=null&&(n===null&&(n=gn.empty()),n.set(s.field,c))}return n||null}function eE(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Io(s,o,((c,d)=>DR(c,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Vc extends Sd{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Rs extends Sd{constructor(e,n,s,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function uT(a){const e=new Map;return a.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=a.data.field(n);e.set(n,s)}})),e}function tE(a,e,n){const s=new Map;Ye(a.length===n.length,32656,{Re:n.length,Ve:a.length});for(let o=0;o<n.length;o++){const c=a[o],d=c.transform,p=e.data.field(c.field);s.set(c.field,IR(d,p,n[o]))}return s}function nE(a,e,n){const s=new Map;for(const o of a){const c=o.transform,d=n.data.field(o.field);s.set(o.field,CR(c,d,e))}return s}class ig extends Sd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VR extends Sd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class PR{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&OR(c,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=mc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=mc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=aT();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=n.has(o.key)?null:p;const v=cT(d,p);v!==null&&s.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&Io(this.mutations,e.mutations,((n,s)=>eE(n,s)))&&Io(this.baseMutations,e.baseMutations,((n,s)=>eE(n,s)))}}class sg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ye(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return wR})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new sg(e,n,s,o)}}class LR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class kR{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,Be;function UR(a){switch(a){case te.OK:return be(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return be(15467,{code:a})}}function hT(a){if(a===void 0)return Si("GRPC error has no .code"),te.UNKNOWN;switch(a){case It.OK:return te.OK;case It.CANCELLED:return te.CANCELLED;case It.UNKNOWN:return te.UNKNOWN;case It.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case It.INTERNAL:return te.INTERNAL;case It.UNAVAILABLE:return te.UNAVAILABLE;case It.UNAUTHENTICATED:return te.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case It.NOT_FOUND:return te.NOT_FOUND;case It.ALREADY_EXISTS:return te.ALREADY_EXISTS;case It.PERMISSION_DENIED:return te.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case It.ABORTED:return te.ABORTED;case It.OUT_OF_RANGE:return te.OUT_OF_RANGE;case It.UNIMPLEMENTED:return te.UNIMPLEMENTED;case It.DATA_LOSS:return te.DATA_LOSS;default:return be(39323,{code:a})}}(Be=It||(It={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function zR(){return new TextEncoder}const BR=new ys([4294967295,4294967295],0);function aE(a){const e=zR().encode(a),n=new x1;return n.update(e),new Uint8Array(n.digest())}function iE(a){const e=new DataView(a.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ys([n,s],0),new ys([o,c],0)]}class rg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new oc(`Invalid padding: ${n}`);if(s<0)throw new oc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new oc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new oc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ys.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ys.fromNumber(s)));return o.compare(BR)===1&&(o=new ys([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=aE(e),[s,o]=iE(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new rg(c,o,n);return s.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=aE(e),[s,o]=iE(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.Se(d)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wd{constructor(e,n,s,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Pc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new wd(Ae.min(),o,new dt(Le),wi(),ke())}}class Pc{constructor(e,n,s,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Pc(s,n,ke(),ke(),ke())}}class Ph{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class dT{constructor(e,n){this.targetId=e,this.Ce=n}}class fT{constructor(e,n,s=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class sE{constructor(){this.ve=0,this.Fe=rE(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),s=ke();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be(38017,{changeType:c})}})),new Pc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=rE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class qR{constructor(e){this.Ge=e,this.ze=new Map,this.je=wi(),this.Je=Ah(),this.He=Ah(),this.Ye=new dt(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Ep(c))if(s===0){const d=new ye(c.path);this.et(n,d,tn.newNoDocument(d,Ae.min()))}else Ye(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const p=this.ut(e),v=p?this.ct(p,e,d):1;if(v!==0){this.it(n);const g=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let d,p;try{d=bs(s).toUint8Array()}catch(v){if(v instanceof k1)return Co("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new rg(d,o,c)}catch(v){return Co(v instanceof oc?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Ep(p.target)){const v=new ye(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,tn.newNoDocument(v,e))}c.Be&&(n.set(d,c.ke()),c.qe())}}));let s=ke();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((v=>{const g=this.ot(v);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new wd(e,n,this.Ye,this.je,s);return this.je=wi(),this.Je=Ah(),this.He=Ah(),this.Ye=new dt(Le),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new sE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Pt(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Pt(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ah(){return new dt(ye.comparator)}function rE(){return new dt(ye.comparator)}const HR={asc:"ASCENDING",desc:"DESCENDING"},FR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GR={and:"AND",or:"OR"};class QR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Sp(a,e){return a.useProto3Json||yd(e)?e:{value:e}}function Wh(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mT(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function YR(a,e){return Wh(a,e.toTimestamp())}function La(a){return Ye(!!a,49232),Ae.fromTimestamp((function(n){const s=Ts(n);return new fe(s.seconds,s.nanos)})(a))}function og(a,e){return wp(a,e).canonicalString()}function wp(a,e){const n=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?n:n.child(e)}function pT(a){const e=it.fromString(a);return Ye(ET(e),10190,{key:e.toString()}),e}function Ap(a,e){return og(a.databaseId,e.path)}function ep(a,e){const n=pT(e);if(n.get(1)!==a.databaseId.projectId)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+a.databaseId.projectId);if(n.get(3)!==a.databaseId.database)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+a.databaseId.database);return new ye(vT(n))}function gT(a,e){return og(a.databaseId,e)}function KR(a){const e=pT(a);return e.length===4?it.emptyPath():vT(e)}function xp(a){return new it(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function vT(a){return Ye(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function oE(a,e,n){return{name:Ap(a,e),fields:n.value.mapValue.fields}}function $R(a,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(g,T){return g.useProto3Json?(Ye(T===void 0||typeof T=="string",58123),Jt.fromBase64String(T||"")):(Ye(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Jt.fromUint8Array(T||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(g){const T=g.code===void 0?te.UNKNOWN:hT(g.code);return new ce(T,g.message||"")})(d);n=new fT(s,o,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ep(a,s.document.name),c=La(s.document.updateTime),d=s.document.createTime?La(s.document.createTime):Ae.min(),p=new gn({mapValue:{fields:s.document.fields}}),v=tn.newFoundDocument(o,c,d,p),g=s.targetIds||[],T=s.removedTargetIds||[];n=new Ph(g,T,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ep(a,s.document),c=s.readTime?La(s.readTime):Ae.min(),d=tn.newNoDocument(o,c),p=s.removedTargetIds||[];n=new Ph([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ep(a,s.document),c=s.removedTargetIds||[];n=new Ph([],c,o,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new kR(o,c),p=s.targetId;n=new dT(p,d)}}return n}function XR(a,e){let n;if(e instanceof Vc)n={update:oE(a,e.key,e.value)};else if(e instanceof ig)n={delete:Ap(a,e.key)};else if(e instanceof Rs)n={update:oE(a,e.key,e.data),updateMask:s2(e.fieldMask)};else{if(!(e instanceof VR))return be(16599,{Vt:e.type});n={verify:Ap(a,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof Jh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof wc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ac)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Zh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw be(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:YR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:be(27497)})(a,e.precondition)),n}function JR(a,e){return a&&a.length>0?(Ye(e!==void 0,14353),a.map((n=>(function(o,c){let d=o.updateTime?La(o.updateTime):La(c);return d.isEqual(Ae.min())&&(d=La(c)),new jR(d,o.transformResults||[])})(n,e)))):[]}function ZR(a,e){return{documents:[gT(a,e.path)]}}function WR(a,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=gT(a,o);const c=(function(g){if(g.length!==0)return _T(oa.create(g,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(g){if(g.length!==0)return g.map((T=>(function(w){return{field:_o(w.field),direction:n2(w.dir)}})(T)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=Sp(a,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function e2(a){let e=KR(a.parent);const n=a.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ye(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];n.where&&(c=(function(b){const w=yT(b);return w instanceof oa&&K1(w)?w.getFilters():[w]})(n.where));let d=[];n.orderBy&&(d=(function(b){return b.map((w=>(function(O){return new Sc(Eo(O.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(w)))})(n.orderBy));let p=null;n.limit&&(p=(function(b){let w;return w=typeof b=="object"?b.value:b,yd(w)?null:w})(n.limit));let v=null;n.startAt&&(v=(function(b){const w=!!b.before,x=b.values||[];return new Xh(x,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const w=!b.before,x=b.values||[];return new Xh(x,w)})(n.endAt)),_R(e,o,d,c,p,"F",v,g)}function t2(a,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yT(a){return a.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Eo(n.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Eo(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Eo(n.unaryFilter.field);return Dt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Eo(n.unaryFilter.field);return Dt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(a):a.fieldFilter!==void 0?(function(n){return Dt.create(Eo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(n){return oa.create(n.compositeFilter.filters.map((s=>yT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(a):be(30097,{filter:a})}function n2(a){return HR[a]}function a2(a){return FR[a]}function i2(a){return GR[a]}function _o(a){return{fieldPath:a.canonicalString()}}function Eo(a){return Xt.fromServerFormat(a.fieldPath)}function _T(a){return a instanceof Dt?(function(n){if(n.op==="=="){if(K0(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NAN"}};if(Y0(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(K0(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NAN"}};if(Y0(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(n.field),op:a2(n.op),value:n.value}}})(a):a instanceof oa?(function(n){const s=n.getFilters().map((o=>_T(o)));return s.length===1?s[0]:{compositeFilter:{op:i2(n.op),filters:s}}})(a):be(54877,{filter:a})}function s2(a){const e=[];return a.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function ET(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class ms{constructor(e,n,s,o,c=Ae.min(),d=Ae.min(),p=Jt.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class r2{constructor(e){this.yt=e}}function o2(a){const e=e2({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?bp(e,e.limit,"L"):e}class l2{constructor(){this.Cn=new c2}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Es.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class c2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Pt(it.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pt(it.comparator)).toArray()}}const lE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TT=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(TT,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class Oo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Oo(0)}static cr(){return new Oo(-1)}}const cE="LruGarbageCollector",u2=1048576;function uE([a,e],[n,s]){const o=Le(a,n);return o===0?Le(e,s):o}class h2{constructor(e){this.Ir=e,this.buffer=new Pt(uE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();uE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class d2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(cE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Uo(n)?ue(cE,"Ignoring IndexedDB error during garbage collection: ",n):await ko(n)}await this.Vr(3e5)}))}}class f2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(vd.ce);const s=new h2(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(lE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,c,d,p,v,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,p=Date.now(),this.removeTargets(e,s,n)))).next((b=>(c=b,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),vo()<=Pe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(v-p)+`ms
	Removed ${b} documents in `+(g-v)+`ms
Total Duration: ${g-T}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b}))))}}function m2(a,e){return new f2(a,e)}class p2{constructor(){this.changes=new Er((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class g2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class v2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&mc(s.mutation,o,xn.empty(),fe.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ke()){const o=lr();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((c=>{let d=rc();return c.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const s=lr();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ke())))}populateOverlays(e,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,s,o){let c=wi();const d=fc(),p=(function(){return fc()})();return n.forEach(((v,g)=>{const T=s.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof Rs)?c=c.insert(g.key,g):T!==void 0?(d.set(g.key,T.mutation.getFieldMask()),mc(T.mutation,g,T.mutation.getFieldMask(),fe.now())):d.set(g.key,xn.empty())})),this.recalculateAndSaveOverlays(e,c).next((v=>(v.forEach(((g,T)=>d.set(g,T))),n.forEach(((g,T)=>p.set(g,new g2(T,d.get(g)??null)))),p)))}recalculateAndSaveOverlays(e,n){const s=fc();let o=new dt(((d,p)=>d-p)),c=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((v=>{const g=n.get(v);if(g===null)return;let T=s.get(v)||xn.empty();T=p.applyToLocalView(g,T),s.set(v,T);const b=(o.get(p.batchId)||ke()).add(v);o=o.insert(p.batchId,b)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),g=v.key,T=v.value,b=aT();T.forEach((w=>{if(!c.has(w)){const x=cT(n.get(w),s.get(w));x!==null&&b.set(w,x),c=c.add(w)}})),d.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ie.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(d){return ye.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Z1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-c.size):ie.resolve(lr());let p=_c,v=c;return d.next((g=>ie.forEach(g,((T,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(T)?ie.resolve():this.remoteDocumentCache.getEntry(e,T).next((w=>{v=v.insert(T,w)}))))).next((()=>this.populateOverlays(e,g,c))).next((()=>this.computeViews(e,v,g,ke()))).next((T=>({batchId:p,changes:nT(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let o=rc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const c=n.collectionGroup;let d=rc();return this.indexManager.getCollectionParents(e,c).next((p=>ie.forEach(p,(v=>{const g=(function(b,w){return new zo(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,v.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((T=>{T.forEach(((b,w)=>{d=d.insert(b,w)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,o)))).next((d=>{c.forEach(((v,g)=>{const T=g.getKey();d.get(T)===null&&(d=d.insert(T,tn.newInvalidDocument(T)))}));let p=rc();return d.forEach(((v,g)=>{const T=c.get(v);T!==void 0&&mc(T.mutation,g,xn.empty(),fe.now()),Td(n,g)&&(p=p.insert(v,g))})),p}))}}class y2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:La(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:o2(o.bundledQuery),readTime:La(o.readTime)}})(n)),ie.resolve()}}class _2{constructor(){this.overlays=new dt(ye.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=lr();return ie.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,c)=>{this.St(e,n,c)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=lr(),c=n.length+1,d=new ye(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,g=v.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===c&&v.largestBatchId>s&&o.set(v.getKey(),v)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let c=new dt(((g,T)=>g-T));const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let T=c.get(g.largestBatchId);T===null&&(T=lr(),c=c.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const p=lr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((g,T)=>p.set(g,T))),!(p.size()>=o)););return ie.resolve(p)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new LR(n,s));let c=this.qr.get(n);c===void 0&&(c=ke(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}class E2{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class lg{constructor(){this.Qr=new Pt(zt.$r),this.Ur=new Pt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new zt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new it([])),s=new zt(n,e),o=new zt(n,e+1),c=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new it([])),s=new zt(n,e),o=new zt(n,e+1);let c=ke();return this.Ur.forEachInRange([s,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new zt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class T2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(zt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new PR(c,n,s,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new zt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ie.resolve(d)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),c=o<0?0:o;return ie.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Jp:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),ie.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Pt(Le);return n.forEach((o=>{const c=new zt(o,0),d=new zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{s=s.add(p.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let c=s;ye.isDocumentKey(c)||(c=c.child(""));const d=new zt(new ye(c),0);let p=new Pt(Le);return this.Zr.forEachWhile((v=>{const g=v.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(p=p.add(v.Yr)),!0)}),d),ie.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(o=>{const c=new zt(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new zt(n,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class b2{constructor(e){this.ri=e,this.docs=(function(){return new dt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let s=wi();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():tn.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let c=wi();const d=n.path,p=new ye(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:g,value:{document:T}}=v.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||Jx(Xx(T),s)<=0||(o.has(T.key)||Td(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return ie.resolve(c)}getAllFromCollectionGroup(e,n,s,o){be(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new S2(this)}getSize(e){return ie.resolve(this.size)}}class S2 extends p2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class w2{constructor(e){this.persistence=e,this.si=new Er((n=>eg(n)),tg),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new lg,this.targetCount=0,this.ai=Oo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Oo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ie.waitFor(c).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),ie.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}class bT{constructor(e,n){this.ui={},this.overlays={},this.ci=new vd(0),this.li=!1,this.li=!0,this.hi=new E2,this.referenceDelegate=e(this),this.Pi=new w2(this),this.indexManager=new l2,this.remoteDocumentCache=(function(o){return new b2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new r2(n),this.Ii=new y2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new T2(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new A2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class A2 extends Wx{constructor(e){super(),this.currentSequenceNumber=e}}class cg{constructor(e){this.persistence=e,this.Ri=new lg,this.Vi=null}static mi(e){return new cg(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=ye.fromPath(s);return this.gi(e,o).next((c=>{c||n.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ed{constructor(e,n){this.persistence=e,this.pi=new Er((s=>nR(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=m2(this,n)}static mi(e,n){return new ed(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,n).next((p=>{p||(s++,c.removeEntry(d,Ae.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Oh(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ug{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ke(),o=ke();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new ug(e,n.fromCache,s,o)}}class x2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class R2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return yA()?8:eR(nn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const c={result:null};return this.ys(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,n,o,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new x2;return this.Ss(e,n,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,n,d,p.size)}))})).next((()=>c.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(vo()<=Pe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(vo()<=Pe.DEBUG&&ue("QueryEngine","Query:",yo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(vo()<=Pe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pa(n))):ie.resolve())}ys(e,n){if(Z0(n))return ie.resolve(null);let s=Pa(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=bp(n,null,"F"),s=Pa(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=ke(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,s).next((v=>{const g=this.Ds(n,p);return this.Cs(n,g,d,v.readTime)?this.ys(e,bp(n,null,"F")):this.vs(e,g,n,v)}))))})))))}ws(e,n,s,o){return Z0(n)||o.isEqual(Ae.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((c=>{const d=this.Ds(n,c);return this.Cs(n,d,s,o)?ie.resolve(null):(vo()<=Pe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),yo(n)),this.vs(e,d,n,$x(o,_c)).next((p=>p)))}))}Ds(e,n){let s=new Pt(eT(e));return n.forEach(((o,c)=>{Td(e,c)&&(s=s.add(c))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,s){return vo()<=Pe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",yo(n)),this.ps.getDocumentsMatchingQuery(e,n,Es.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const hg="LocalStore",N2=3e8;class C2{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new dt(Le),this.xs=new Er((c=>eg(c)),tg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function I2(a,e,n,s){return new C2(a,e,n,s)}async function ST(a,e){const n=Re(a);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let v=ke();for(const g of o){d.push(g.batchId);for(const T of g.mutations)v=v.add(T.key)}for(const g of c){p.push(g.batchId);for(const T of g.mutations)v=v.add(T.key)}return n.localDocuments.getDocuments(s,v).next((g=>({Ls:g,removedBatchIds:d,addedBatchIds:p})))}))}))}function D2(a,e){const n=Re(a);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,v,g,T){const b=g.batch,w=b.keys();let x=ie.resolve();return w.forEach((O=>{x=x.next((()=>T.getEntry(v,O))).next((Q=>{const z=g.docVersions.get(O);Ye(z!==null,48541),Q.version.compareTo(z)<0&&(b.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),T.addEntry(Q)))}))})),x.next((()=>p.mutationQueue.removeMutationBatch(v,b)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let v=ke();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(v=v.add(p.batch.mutations[g].key));return v})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function wT(a){const e=Re(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function j2(a,e){const n=Re(a),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach(((T,b)=>{const w=o.get(b);if(!w)return;p.push(n.Pi.removeMatchingKeys(c,T.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(c,T.addedDocuments,b))));let x=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?x=x.withResumeToken(Jt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):T.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(T.resumeToken,s)),o=o.insert(b,x),(function(Q,z,$){return Q.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=N2?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(w,x,T)&&p.push(n.Pi.updateTargetData(c,x))}));let v=wi(),g=ke();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(O2(c,d,e.documentUpdates).next((T=>{v=T.ks,g=T.qs}))),!s.isEqual(Ae.min())){const T=n.Pi.getLastRemoteSnapshotVersion(c).next((b=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(T)}return ie.waitFor(p).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,v,g))).next((()=>v))})).then((c=>(n.Ms=o,c)))}function O2(a,e,n){let s=ke(),o=ke();return n.forEach((c=>s=s.add(c))),e.getEntries(a,s).next((c=>{let d=wi();return n.forEach(((p,v)=>{const g=c.get(p);v.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(Ae.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!g.isValidDocument()||v.version.compareTo(g.version)>0||v.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):ue(hg,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function M2(a,e){const n=Re(a);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Jp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function V2(a,e){const n=Re(a);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((c=>c?(o=c,ie.resolve(o)):n.Pi.allocateTargetId(s).next((d=>(o=new ms(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Rp(a,e,n){const s=Re(a),o=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Uo(d))throw d;ue(hg,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function hE(a,e,n){const s=Re(a);let o=Ae.min(),c=ke();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,g,T){const b=Re(v),w=b.xs.get(T);return w!==void 0?ie.resolve(b.Ms.get(w)):b.Pi.getTargetData(g,T)})(s,d,Pa(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((v=>{c=v}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,n?o:Ae.min(),n?c:ke()))).next((p=>(P2(s,TR(e),p),{documents:p,Qs:c})))))}function P2(a,e,n){let s=a.Os.get(e)||Ae.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),a.Os.set(e,s)}class dE{constructor(){this.activeTargetIds=RR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class L2{constructor(){this.Mo=new dE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new dE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class k2{Oo(e){}shutdown(){}}const fE="ConnectivityMonitor";class mE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(fE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(fE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xh=null;function Np(){return xh===null?xh=(function(){return 268435456+Math.round(2147483648*Math.random())})():xh++,"0x"+xh.toString(16)}const tp="RestConnection",U2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class z2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Kh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,c){const d=Np(),p=this.zo(e,n.toUriEncodedString());ue(tp,`Sending RPC '${e}' ${d}:`,p,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,c);const{host:g}=new URL(p),T=Vo(g);return this.Jo(e,p,v,s,T).then((b=>(ue(tp,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw Co(tp,`RPC '${e}' ${d} failed with error: `,b,"url: ",p,"request:",s),b}))}Ho(e,n,s,o,c,d){return this.Go(e,n,s,o,c)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Lo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,n){const s=U2[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class B2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Wt="WebChannelConnection";class q2 extends z2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,c){const d=Np();return new Promise(((p,v)=>{const g=new R1;g.setWithCredentials(!0),g.listenOnce(N1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case jh.NO_ERROR:const b=g.getResponseJson();ue(Wt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),p(b);break;case jh.TIMEOUT:ue(Wt,`RPC '${e}' ${d} timed out`),v(new ce(te.DEADLINE_EXCEEDED,"Request time out"));break;case jh.HTTP_ERROR:const w=g.getStatus();if(ue(Wt,`RPC '${e}' ${d} failed with status:`,w,"response text:",g.getResponseText()),w>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const O=x?.error;if(O&&O.status&&O.message){const Q=(function($){const ne=$.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(ne)>=0?ne:te.UNKNOWN})(O.status);v(new ce(Q,O.message))}else v(new ce(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else v(new ce(te.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:d,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ue(Wt,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(o);ue(Wt,`RPC '${e}' ${d} sending request:`,o),g.send(n,"POST",T,s,15)}))}T_(e,n,s){const o=Np(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=D1(),p=I1(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(v.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,n,s),v.encodeInitMessageHeaders=!0;const T=c.join("");ue(Wt,`Creating RPC '${e}' stream ${o}: ${T}`,v);const b=d.createWebChannel(T,v);this.I_(b);let w=!1,x=!1;const O=new B2({Yo:z=>{x?ue(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(w||(ue(Wt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),w=!0),ue(Wt,`RPC '${e}' stream ${o} sending:`,z),b.send(z))},Zo:()=>b.close()}),Q=(z,$,ne)=>{z.listen($,(se=>{try{ne(se)}catch(_e){setTimeout((()=>{throw _e}),0)}}))};return Q(b,sc.EventType.OPEN,(()=>{x||(ue(Wt,`RPC '${e}' stream ${o} transport opened.`),O.o_())})),Q(b,sc.EventType.CLOSE,(()=>{x||(x=!0,ue(Wt,`RPC '${e}' stream ${o} transport closed`),O.a_(),this.E_(b))})),Q(b,sc.EventType.ERROR,(z=>{x||(x=!0,Co(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),O.a_(new ce(te.UNAVAILABLE,"The operation could not be completed")))})),Q(b,sc.EventType.MESSAGE,(z=>{if(!x){const $=z.data[0];Ye(!!$,16349);const ne=$,se=ne?.error||ne[0]?.error;if(se){ue(Wt,`RPC '${e}' stream ${o} received error:`,se);const _e=se.status;let ge=(function(N){const I=It[N];if(I!==void 0)return hT(I)})(_e),we=se.message;ge===void 0&&(ge=te.INTERNAL,we="Unknown error status: "+_e+" with message "+se.message),x=!0,O.a_(new ce(ge,we)),b.close()}else ue(Wt,`RPC '${e}' stream ${o} received:`,$),O.u_($)}})),Q(p,C1.STAT_EVENT,(z=>{z.stat===pp.PROXY?ue(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===pp.NOPROXY&&ue(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{O.__()}),0),O}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function np(){return typeof document<"u"?document:null}function Ad(a){return new QR(a,!0)}class AT{constructor(e,n,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const pE="PersistentStream";class xT{constructor(e,n,s,o,c,d,p,v){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Si(n.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ce(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(pE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(pE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class H2 extends xT{constructor(e,n,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=$R(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Ae.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ae.min():d.readTime?La(d.readTime):Ae.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=xp(this.serializer),n.addTarget=(function(c,d){let p;const v=d.target;if(p=Ep(v)?{documents:ZR(c,v)}:{query:WR(c,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=mT(c,d.resumeToken);const g=Sp(c,d.expectedCount);g!==null&&(p.expectedCount=g)}else if(d.snapshotVersion.compareTo(Ae.min())>0){p.readTime=Wh(c,d.snapshotVersion.toTimestamp());const g=Sp(c,d.expectedCount);g!==null&&(p.expectedCount=g)}return p})(this.serializer,e);const s=t2(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=xp(this.serializer),n.removeTarget=e,this.q_(n)}}class F2 extends xT{constructor(e,n,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=JR(e.writeResults,e.commitTime),s=La(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=xp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>XR(this.serializer,s)))};this.q_(n)}}class G2{}class Q2 extends G2{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,wp(n,s),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(te.UNKNOWN,c.toString())}))}Ho(e,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,wp(n,s),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ce(te.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Y2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Si(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const gr="RemoteStore";class K2{constructor(e,n,s,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Tr(this)&&(ue(gr,"Restarting streams for network reachability change."),await(async function(v){const g=Re(v);g.Ea.add(4),await Lc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await xd(g)})(this))}))})),this.Ra=new Y2(s,o)}}async function xd(a){if(Tr(a))for(const e of a.da)await e(!0)}async function Lc(a){for(const e of a.da)await e(!1)}function RT(a,e){const n=Re(a);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),pg(n)?mg(n):Bo(n).O_()&&fg(n,e))}function dg(a,e){const n=Re(a),s=Bo(n);n.Ia.delete(e),s.O_()&&NT(n,e),n.Ia.size===0&&(s.O_()?s.L_():Tr(n)&&n.Ra.set("Unknown"))}function fg(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bo(a).Y_(e)}function NT(a,e){a.Va.Ue(e),Bo(a).Z_(e)}function mg(a){a.Va=new qR({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Bo(a).start(),a.Ra.ua()}function pg(a){return Tr(a)&&!Bo(a).x_()&&a.Ia.size>0}function Tr(a){return Re(a).Ea.size===0}function CT(a){a.Va=void 0}async function $2(a){a.Ra.set("Online")}async function X2(a){a.Ia.forEach(((e,n)=>{fg(a,e)}))}async function J2(a,e){CT(a),pg(a)?(a.Ra.ha(e),mg(a)):a.Ra.set("Unknown")}async function Z2(a,e,n){if(a.Ra.set("Online"),e instanceof fT&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(a,e)}catch(s){ue(gr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await td(a,s)}else if(e instanceof Ph?a.Va.Ze(e):e instanceof dT?a.Va.st(e):a.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await wT(a.localStore);n.compareTo(s)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((v,g)=>{if(v.resumeToken.approximateByteSize()>0){const T=c.Ia.get(g);T&&c.Ia.set(g,T.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,g)=>{const T=c.Ia.get(v);if(!T)return;c.Ia.set(v,T.withResumeToken(Jt.EMPTY_BYTE_STRING,T.snapshotVersion)),NT(c,v);const b=new ms(T.target,v,g,T.sequenceNumber);fg(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(a,n)}catch(s){ue(gr,"Failed to raise snapshot:",s),await td(a,s)}}async function td(a,e,n){if(!Uo(e))throw e;a.Ea.add(1),await Lc(a),a.Ra.set("Offline"),n||(n=()=>wT(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{ue(gr,"Retrying IndexedDB access"),await n(),a.Ea.delete(1),await xd(a)}))}function IT(a,e){return e().catch((n=>td(a,n,e)))}async function Rd(a){const e=Re(a),n=ws(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jp;for(;W2(e);)try{const o=await M2(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,eN(e,o)}catch(o){await td(e,o)}DT(e)&&jT(e)}function W2(a){return Tr(a)&&a.Ta.length<10}function eN(a,e){a.Ta.push(e);const n=ws(a);n.O_()&&n.X_&&n.ea(e.mutations)}function DT(a){return Tr(a)&&!ws(a).x_()&&a.Ta.length>0}function jT(a){ws(a).start()}async function tN(a){ws(a).ra()}async function nN(a){const e=ws(a);for(const n of a.Ta)e.ea(n.mutations)}async function aN(a,e,n){const s=a.Ta.shift(),o=sg.from(s,e,n);await IT(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await Rd(a)}async function iN(a,e){e&&ws(a).X_&&await(async function(s,o){if((function(d){return UR(d)&&d!==te.ABORTED})(o.code)){const c=s.Ta.shift();ws(s).B_(),await IT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Rd(s)}})(a,e),DT(a)&&jT(a)}async function gE(a,e){const n=Re(a);n.asyncQueue.verifyOperationInProgress(),ue(gr,"RemoteStore received new credentials");const s=Tr(n);n.Ea.add(3),await Lc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await xd(n)}async function sN(a,e){const n=Re(a);e?(n.Ea.delete(2),await xd(n)):e||(n.Ea.add(2),await Lc(n),n.Ra.set("Unknown"))}function Bo(a){return a.ma||(a.ma=(function(n,s,o){const c=Re(n);return c.sa(),new H2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(a.datastore,a.asyncQueue,{Xo:$2.bind(null,a),t_:X2.bind(null,a),r_:J2.bind(null,a),H_:Z2.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),pg(a)?mg(a):a.Ra.set("Unknown")):(await a.ma.stop(),CT(a))}))),a.ma}function ws(a){return a.fa||(a.fa=(function(n,s,o){const c=Re(n);return c.sa(),new F2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:tN.bind(null,a),r_:iN.bind(null,a),ta:nN.bind(null,a),na:aN.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await Rd(a)):(await a.fa.stop(),a.Ta.length>0&&(ue(gr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class gg{constructor(e,n,s,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,c){const d=Date.now()+s,p=new gg(e,n,d,o,c);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vg(a,e){if(Si("AsyncQueue",`${e}: ${a}`),Uo(a))return new ce(te.UNAVAILABLE,`${e}: ${a}`);throw a}class bo{static emptySet(e){return new bo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=rc(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new bo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class vE{constructor(){this.ga=new dt(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Mo{constructor(e,n,s,o,c,d,p,v,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,c){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new Mo(e,n,bo.emptySet(n),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ed(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class rN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class oN{constructor(){this.queries=yE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Re(n),c=o.queries;o.queries=yE(),c.forEach(((d,p)=>{for(const v of p.Sa)v.onError(s)}))})(this,new ce(te.ABORTED,"Firestore shutting down"))}}function yE(){return new Er((a=>W1(a)),Ed)}async function OT(a,e){const n=Re(a);let s=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new rN,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const p=vg(d,`Initialization of query '${yo(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&yg(n)}async function MT(a,e){const n=Re(a),s=e.query;let o=3;const c=n.queries.get(s);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function lN(a,e){const n=Re(a);let s=!1;for(const o of e){const c=o.query,d=n.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(s=!0);d.wa=o}}s&&yg(n)}function cN(a,e,n){const s=Re(a),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);s.queries.delete(e)}function yg(a){a.Ca.forEach((e=>{e.next()}))}var Cp,_E;(_E=Cp||(Cp={})).Ma="default",_E.Cache="cache";class VT{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Mo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cp.Cache}}class PT{constructor(e){this.key=e}}class LT{constructor(e){this.key=e}}class uN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=eT(e),this.tu=new bo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new vE,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,b)=>{const w=o.get(T),x=Td(this.query,b)?b:null,O=!!w&&this.mutatedKeys.has(w.key),Q=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let z=!1;w&&x?w.data.isEqual(x.data)?O!==Q&&(s.track({type:3,doc:x}),z=!0):this.su(w,x)||(s.track({type:2,doc:x}),z=!0,(v&&this.eu(x,v)>0||g&&this.eu(x,g)<0)&&(p=!0)):!w&&x?(s.track({type:0,doc:x}),z=!0):w&&!x&&(s.track({type:1,doc:w}),z=!0,(v||g)&&(p=!0)),z&&(x?(d=d.add(x),c=Q?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{tu:d,iu:s,Cs:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,b)=>(function(x,O){const Q=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:z})}};return Q(x)-Q(O)})(T.type,b.type)||this.eu(T.doc,b.doc))),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,g=v!==this.Za;return this.Za=v,d.length!==0||g?{snapshot:new Mo(this.query,e.tu,c,d,e.mutatedKeys,v===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new LT(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new PT(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _g="SyncEngine";class hN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class dN{constructor(e){this.key=e,this.hu=!1}}class fN{constructor(e,n,s,o,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Er((p=>W1(p)),Ed),this.Iu=new Map,this.Eu=new Set,this.du=new dt(ye.comparator),this.Au=new Map,this.Ru=new lg,this.Vu={},this.mu=new Map,this.fu=Oo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mN(a,e,n=!0){const s=HT(a);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await kT(s,e,n,!0),o}async function pN(a,e){const n=HT(a);await kT(n,e,!0,!1)}async function kT(a,e,n,s){const o=await V2(a.localStore,Pa(e)),c=o.targetId,d=a.sharedClientState.addLocalQueryTarget(c,n);let p;return s&&(p=await gN(a,e,c,d==="current",o.resumeToken)),a.isPrimaryClient&&n&&RT(a.remoteStore,o),p}async function gN(a,e,n,s,o){a.pu=(b,w,x)=>(async function(Q,z,$,ne){let se=z.view.ru($);se.Cs&&(se=await hE(Q.localStore,z.query,!1).then((({documents:R})=>z.view.ru(R,se))));const _e=ne&&ne.targetChanges.get(z.targetId),ge=ne&&ne.targetMismatches.get(z.targetId)!=null,we=z.view.applyChanges(se,Q.isPrimaryClient,_e,ge);return TE(Q,z.targetId,we.au),we.snapshot})(a,b,w,x);const c=await hE(a.localStore,e,!0),d=new uN(e,c.Qs),p=d.ru(c.documents),v=Pc.createSynthesizedTargetChangeForCurrentChange(n,s&&a.onlineState!=="Offline",o),g=d.applyChanges(p,a.isPrimaryClient,v);TE(a,n,g.au);const T=new hN(e,n,d);return a.Tu.set(e,T),a.Iu.has(n)?a.Iu.get(n).push(e):a.Iu.set(n,[e]),g.snapshot}async function vN(a,e,n){const s=Re(a),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((d=>!Ed(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Rp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&dg(s.remoteStore,o.targetId),Ip(s,o.targetId)})).catch(ko)):(Ip(s,o.targetId),await Rp(s.localStore,o.targetId,!0))}async function yN(a,e){const n=Re(a),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),dg(n.remoteStore,s.targetId))}async function _N(a,e,n){const s=xN(a);try{const o=await(function(d,p){const v=Re(d),g=fe.now(),T=p.reduce(((x,O)=>x.add(O.key)),ke());let b,w;return v.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let O=wi(),Q=ke();return v.Ns.getEntries(x,T).next((z=>{O=z,O.forEach((($,ne)=>{ne.isValidDocument()||(Q=Q.add($))}))})).next((()=>v.localDocuments.getOverlayedDocuments(x,O))).next((z=>{b=z;const $=[];for(const ne of p){const se=MR(ne,b.get(ne.key).overlayedDocument);se!=null&&$.push(new Rs(ne.key,se,G1(se.value.mapValue),qn.exists(!0)))}return v.mutationQueue.addMutationBatch(x,g,$,p)})).next((z=>{w=z;const $=z.applyToLocalDocumentSet(b,Q);return v.documentOverlayCache.saveOverlays(x,z.batchId,$)}))})).then((()=>({batchId:w.batchId,changes:nT(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,p,v){let g=d.Vu[d.currentUser.toKey()];g||(g=new dt(Le)),g=g.insert(p,v),d.Vu[d.currentUser.toKey()]=g})(s,o.batchId,n),await kc(s,o.changes),await Rd(s.remoteStore)}catch(o){const c=vg(o,"Failed to persist write");n.reject(c)}}async function UT(a,e){const n=Re(a);try{const s=await j2(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=n.Au.get(c);d&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ye(d.hu,14607):o.removedDocuments.size>0&&(Ye(d.hu,42227),d.hu=!1))})),await kc(n,s,e)}catch(s){await ko(s)}}function EE(a,e,n){const s=Re(a);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const v=Re(d);v.onlineState=p;let g=!1;v.queries.forEach(((T,b)=>{for(const w of b.Sa)w.va(p)&&(g=!0)})),g&&yg(v)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function EN(a,e,n){const s=Re(a);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),c=o&&o.key;if(c){let d=new dt(ye.comparator);d=d.insert(c,tn.newNoDocument(c,Ae.min()));const p=ke().add(c),v=new wd(Ae.min(),new Map,new dt(Le),d,p);await UT(s,v),s.du=s.du.remove(c),s.Au.delete(e),Eg(s)}else await Rp(s.localStore,e,!1).then((()=>Ip(s,e,n))).catch(ko)}async function TN(a,e){const n=Re(a),s=e.batch.batchId;try{const o=await D2(n.localStore,e);BT(n,s,null),zT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await kc(n,o)}catch(o){await ko(o)}}async function bN(a,e,n){const s=Re(a);try{const o=await(function(d,p){const v=Re(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let T;return v.mutationQueue.lookupMutationBatch(g,p).next((b=>(Ye(b!==null,37113),T=b.keys(),v.mutationQueue.removeMutationBatch(g,b)))).next((()=>v.mutationQueue.performConsistencyCheck(g))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(g,T,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T))).next((()=>v.localDocuments.getDocuments(g,T)))}))})(s.localStore,e);BT(s,e,n),zT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await kc(s,o)}catch(o){await ko(o)}}function zT(a,e){(a.mu.get(e)||[]).forEach((n=>{n.resolve()})),a.mu.delete(e)}function BT(a,e,n){const s=Re(a);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Ip(a,e,n=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),n&&a.Pu.yu(s,n);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((s=>{a.Ru.containsKey(s)||qT(a,s)}))}function qT(a,e){a.Eu.delete(e.path.canonicalString());const n=a.du.get(e);n!==null&&(dg(a.remoteStore,n),a.du=a.du.remove(e),a.Au.delete(n),Eg(a))}function TE(a,e,n){for(const s of n)s instanceof PT?(a.Ru.addReference(s.key,e),SN(a,s)):s instanceof LT?(ue(_g,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||qT(a,s.key)):be(19791,{wu:s})}function SN(a,e){const n=e.key,s=n.path.canonicalString();a.du.get(n)||a.Eu.has(s)||(ue(_g,"New document in limbo: "+n),a.Eu.add(s),Eg(a))}function Eg(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const n=new ye(it.fromString(e)),s=a.fu.next();a.Au.set(s,new dN(n)),a.du=a.du.insert(n,s),RT(a.remoteStore,new ms(Pa(ng(n.path)),s,"TargetPurposeLimboResolution",vd.ce))}}async function kc(a,e,n){const s=Re(a),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,v)=>{d.push(s.pu(v,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:n?.targetChanges.get(v.targetId)?.current;s.sharedClientState.updateQueryState(v.targetId,T?"current":"not-current")}if(g){o.push(g);const T=ug.As(v.targetId,g);c.push(T)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(v,g){const T=Re(v);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ie.forEach(g,(w=>ie.forEach(w.Es,(x=>T.persistence.referenceDelegate.addReference(b,w.targetId,x))).next((()=>ie.forEach(w.ds,(x=>T.persistence.referenceDelegate.removeReference(b,w.targetId,x)))))))))}catch(b){if(!Uo(b))throw b;ue(hg,"Failed to update sequence numbers: "+b)}for(const b of g){const w=b.targetId;if(!b.fromCache){const x=T.Ms.get(w),O=x.snapshotVersion,Q=x.withLastLimboFreeSnapshotVersion(O);T.Ms=T.Ms.insert(w,Q)}}})(s.localStore,c))}async function wN(a,e){const n=Re(a);if(!n.currentUser.isEqual(e)){ue(_g,"User change. New user:",e.toKey());const s=await ST(n.localStore,e);n.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((v=>{v.reject(new ce(te.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await kc(n,s.Ls)}}function AN(a,e){const n=Re(a),s=n.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const c=n.Iu.get(e);if(!c)return o;for(const d of c){const p=n.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function HT(a){const e=Re(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=UT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EN.bind(null,e),e.Pu.H_=lN.bind(null,e.eventManager),e.Pu.yu=cN.bind(null,e.eventManager),e}function xN(a){const e=Re(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bN.bind(null,e),e}class nd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ad(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return I2(this.persistence,new R2,e.initialUser,this.serializer)}Cu(e){return new bT(cg.mi,this.serializer)}Du(e){return new L2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nd.provider={build:()=>new nd};class RN extends nd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof ed,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new d2(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new bT((s=>ed.mi(s,n)),this.serializer)}}class Dp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>EE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=wN.bind(null,this.syncEngine),await sN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new oN})()}createDatastore(e){const n=Ad(e.databaseInfo.databaseId),s=(function(c){return new q2(c)})(e.databaseInfo);return(function(c,d,p,v){return new Q2(c,d,p,v)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,c,d,p){return new K2(s,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>EE(this.syncEngine,n,0)),(function(){return mE.v()?new mE:new k2})())}createSyncEngine(e,n){return(function(o,c,d,p,v,g,T){const b=new fN(o,c,d,p,v,g);return T&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Re(n);ue(gr,"RemoteStore shutting down."),s.Ea.add(5),await Lc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dp.provider={build:()=>new Dp};class FT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Si("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const As="FirestoreClient";class NN{constructor(e,n,s,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=Xp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{ue(As,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ue(As,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=vg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function ap(a,e){a.asyncQueue.verifyOperationInProgress(),ue(As,"Initializing OfflineComponentProvider");const n=a.configuration;await e.initialize(n);let s=n.initialUser;a.setCredentialChangeListener((async o=>{s.isEqual(o)||(await ST(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function bE(a,e){a.asyncQueue.verifyOperationInProgress();const n=await CN(a);ue(As,"Initializing OnlineComponentProvider"),await e.initialize(n,a.configuration),a.setCredentialChangeListener((s=>gE(e.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,o)=>gE(e.remoteStore,o))),a._onlineComponents=e}async function CN(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ue(As,"Using user provided OfflineComponentProvider");try{await ap(a,a._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Co("Error using user provided cache. Falling back to memory cache: "+n),await ap(a,new nd)}}else ue(As,"Using default OfflineComponentProvider"),await ap(a,new RN(void 0));return a._offlineComponents}async function GT(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ue(As,"Using user provided OnlineComponentProvider"),await bE(a,a._uninitializedComponentsProvider._online)):(ue(As,"Using default OnlineComponentProvider"),await bE(a,new Dp))),a._onlineComponents}function IN(a){return GT(a).then((e=>e.syncEngine))}async function QT(a){const e=await GT(a),n=e.eventManager;return n.onListen=mN.bind(null,e.syncEngine),n.onUnlisten=vN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=yN.bind(null,e.syncEngine),n}function DN(a,e,n={}){const s=new gi;return a.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,v,g){const T=new FT({next:w=>{T.Nu(),d.enqueueAndForget((()=>MT(c,b)));const x=w.docs.has(p);!x&&w.fromCache?g.reject(new ce(te.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&w.fromCache&&v&&v.source==="server"?g.reject(new ce(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new VT(ng(p.path),T,{includeMetadataChanges:!0,qa:!0});return OT(c,b)})(await QT(a),a.asyncQueue,e,n,s))),s.promise}function jN(a,e,n={}){const s=new gi;return a.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,v,g){const T=new FT({next:w=>{T.Nu(),d.enqueueAndForget((()=>MT(c,b))),w.fromCache&&v.source==="server"?g.reject(new ce(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new VT(p,T,{includeMetadataChanges:!0,qa:!0});return OT(c,b)})(await QT(a),a.asyncQueue,e,n,s))),s.promise}function YT(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}const SE=new Map;const KT="firestore.googleapis.com",wE=!0;class AE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KT,this.ssl=wE}else this.host=e.host,this.ssl=e.ssl??wE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<u2)throw new ce(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Kx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new kx;switch(s.type){case"firstParty":return new qx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=SE.get(n);s&&(ue("ComponentProvider","Removing Datastore"),SE.delete(n),s.terminate())})(this),Promise.resolve()}}function ON(a,e,n,s={}){a=ra(a,Nd);const o=Vo(e),c=a._getSettings(),d={...c,emulatorOptions:a._getEmulatorOptions()},p=`${e}:${n}`;o&&(y1(`https://${p}`),_1("Firestore",!0)),c.host!==KT&&c.host!==p&&Co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:p,ssl:o,emulatorOptions:s};if(!fr(v,d)&&(a._setSettings(v),s.mockUserToken)){let g,T;if(typeof s.mockUserToken=="string")g=s.mockUserToken,T=en.MOCK_USER;else{g=cA(s.mockUserToken,a._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ce(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new en(b)}a._authCredentials=new Ux(new O1(g,T))}}class br{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new br(this.firestore,e,this._query)}}class Et{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}toJSON(){return{type:Et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Mc(n,Et._jsonSchema))return new Et(e,s||null,new ye(it.fromString(n.referencePath)))}}Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:jt("string",Et._jsonSchemaVersion),referencePath:jt("string")};class _s extends br{constructor(e,n,s){super(e,n,ng(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new ye(e))}withConverter(e){return new _s(this.firestore,e,this._path)}}function Sr(a,e,...n){if(a=Bt(a),M1("collection","path",e),a instanceof Nd){const s=it.fromString(e,...n);return k0(s),new _s(a,null,s)}{if(!(a instanceof Et||a instanceof _s))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(it.fromString(e,...n));return k0(s),new _s(a.firestore,null,s)}}function $t(a,e,...n){if(a=Bt(a),arguments.length===1&&(e=Xp.newId()),M1("doc","path",e),a instanceof Nd){const s=it.fromString(e,...n);return L0(s),new Et(a,null,new ye(s))}{if(!(a instanceof Et||a instanceof _s))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(it.fromString(e,...n));return L0(s),new Et(a.firestore,a instanceof _s?a.converter:null,new ye(s))}}const xE="AsyncQueue";class RE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AT(this,"async_queue_retry"),this._c=()=>{const s=np();s&&ue(xE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=np();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=np();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new gi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Uo(e))throw e;ue(xE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Si("INTERNAL UNHANDLED ERROR: ",NE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=gg.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:NE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function NE(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class wr extends Nd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new RE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RE(e),this._firestoreClient=void 0,await e}}}function MN(a,e){const n=typeof a=="object"?a:S1(),s=typeof a=="string"?a:Kh,o=Kp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=oA("firestore");c&&ON(o,...c)}return o}function Tg(a){if(a._terminated)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||VN(a),a._firestoreClient}function VN(a){const e=a._freezeSettings(),n=(function(o,c,d,p){return new sR(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,YT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new NN(a._authCredentials,a._appCheckCredentials,a._queue,n,a._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(a._componentsProvider))}class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(Jt.fromBase64String(e))}catch(n){throw new ce(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mc(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:jt("string",Bn._jsonSchemaVersion),bytes:jt("string")};class Cd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bg{constructor(e){this._methodName=e}}class ka{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ka._jsonSchemaVersion}}static fromJSON(e){if(Mc(e,ka._jsonSchema))return new ka(e.latitude,e.longitude)}}ka._jsonSchemaVersion="firestore/geoPoint/1.0",ka._jsonSchema={type:jt("string",ka._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};class Ua{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ua._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mc(e,Ua._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ua(e.vectorValues);throw new ce(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ua._jsonSchemaVersion="firestore/vectorValue/1.0",Ua._jsonSchema={type:jt("string",Ua._jsonSchemaVersion),vectorValues:jt("object")};const PN=/^__.*__$/;class LN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Rs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vc(e,this.data,n,this.fieldTransforms)}}class $T{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Rs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function XT(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:a})}}class Sg{constructor(e,n,s,o,c,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Sg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ad(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(XT(this.Ac)&&PN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class kN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Ad(e)}Cc(e,n,s,o=!1){return new Sg({Ac:e,methodName:n,Dc:s,path:Xt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Id(a){const e=a._freezeSettings(),n=Ad(a._databaseId);return new kN(a._databaseId,!!e.ignoreUndefinedProperties,n)}function JT(a,e,n,s,o,c={}){const d=a.Cc(c.merge||c.mergeFields?2:0,e,n,o);wg("Data must be an object, but it was:",d,s);const p=ZT(s,d);let v,g;if(c.merge)v=new xn(d.fieldMask),g=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const b of c.mergeFields){const w=jp(e,b,n);if(!d.contains(w))throw new ce(te.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);eb(T,w)||T.push(w)}v=new xn(T),g=d.fieldTransforms.filter((b=>v.covers(b.field)))}else v=null,g=d.fieldTransforms;return new LN(new gn(p),v,g)}class Dd extends bg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dd}}function UN(a,e,n,s){const o=a.Cc(1,e,n);wg("Data must be an object, but it was:",o,s);const c=[],d=gn.empty();xs(s,((v,g)=>{const T=Ag(e,v,n);g=Bt(g);const b=o.yc(T);if(g instanceof Dd)c.push(T);else{const w=Uc(g,b);w!=null&&(c.push(T),d.set(T,w))}}));const p=new xn(c);return new $T(d,p,o.fieldTransforms)}function zN(a,e,n,s,o,c){const d=a.Cc(1,e,n),p=[jp(e,s,n)],v=[o];if(c.length%2!=0)throw new ce(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)p.push(jp(e,c[w])),v.push(c[w+1]);const g=[],T=gn.empty();for(let w=p.length-1;w>=0;--w)if(!eb(g,p[w])){const x=p[w];let O=v[w];O=Bt(O);const Q=d.yc(x);if(O instanceof Dd)g.push(x);else{const z=Uc(O,Q);z!=null&&(g.push(x),T.set(x,z))}}const b=new xn(g);return new $T(T,b,d.fieldTransforms)}function BN(a,e,n,s=!1){return Uc(n,a.Cc(s?4:3,e))}function Uc(a,e){if(WT(a=Bt(a)))return wg("Unsupported field value:",e,a),ZT(a,e);if(a instanceof bg)return(function(s,o){if(!XT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let d=0;for(const p of s){let v=Uc(p,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(a,e)}return(function(s,o){if((s=Bt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return NR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=fe.fromDate(s);return{timestampValue:Wh(o.serializer,c)}}if(s instanceof fe){const c=new fe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wh(o.serializer,c)}}if(s instanceof ka)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bn)return{bytesValue:mT(o.serializer,s._byteString)};if(s instanceof Et){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:og(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ua)return(function(d,p){return{mapValue:{fields:{[H1]:{stringValue:F1},[$h]:{arrayValue:{values:d.toArray().map((g=>{if(typeof g!="number")throw p.Sc("VectorValues must only contain numeric values.");return ag(p.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${gd(s)}`)})(a,e)}function ZT(a,e){const n={};return L1(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xs(a,((s,o)=>{const c=Uc(o,e.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function WT(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof fe||a instanceof ka||a instanceof Bn||a instanceof Et||a instanceof bg||a instanceof Ua)}function wg(a,e,n){if(!WT(n)||!V1(n)){const s=gd(n);throw s==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+s)}}function jp(a,e,n){if((e=Bt(e))instanceof Cd)return e._internalPath;if(typeof e=="string")return Ag(a,e);throw ad("Field path arguments must be of type string or ",a,!1,void 0,n)}const qN=new RegExp("[~\\*/\\[\\]]");function Ag(a,e,n){if(e.search(qN)>=0)throw ad(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,n);try{return new Cd(...e.split("."))._internalPath}catch{throw ad(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,n)}}function ad(a,e,n,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${s}`),d&&(v+=` in document ${o}`),v+=")"),new ce(te.INVALID_ARGUMENT,p+a+v)}function eb(a,e){return a.some((n=>n.isEqual(e)))}class tb{constructor(e,n,s,o,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(jd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HN extends tb{data(){return super.data()}}function jd(a,e){return typeof e=="string"?Ag(a,e):e instanceof Cd?e._internalPath:e._delegate._internalPath}function FN(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ce(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xg{}class nb extends xg{}function aa(a,e,...n){let s=[];e instanceof xg&&s.push(e),s=s.concat(n),(function(c){const d=c.filter((v=>v instanceof Rg)).length,p=c.filter((v=>v instanceof Od)).length;if(d>1||d>0&&p>0)throw new ce(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)a=o._apply(a);return a}class Od extends nb{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Od(e,n,s)}_apply(e){const n=this._parse(e);return ab(e._query,n),new br(e.firestore,e.converter,Tp(e._query,n))}_parse(e){const n=Id(e.firestore);return(function(c,d,p,v,g,T,b){let w;if(g.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ce(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){IE(b,T);const O=[];for(const Q of b)O.push(CE(v,c,Q));w={arrayValue:{values:O}}}else w=CE(v,c,b)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||IE(b,T),w=BN(p,d,b,T==="in"||T==="not-in");return Dt.create(g,T,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function at(a,e,n){const s=e,o=jd("where",a);return Od._create(o,s,n)}class Rg extends xg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Rg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:oa.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let d=o;const p=c.getFlattenedFilters();for(const v of p)ab(d,v),d=Tp(d,v)})(e._query,n),new br(e.firestore,e.converter,Tp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ng extends nb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ng(e,n)}_apply(e){const n=(function(o,c,d){if(o.startAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sc(c,d)})(e._query,this._field,this._direction);return new br(e.firestore,e.converter,(function(o,c){const d=o.explicitOrderBy.concat([c]);return new zo(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function vi(a,e="asc"){const n=e,s=jd("orderBy",a);return Ng._create(s,n)}function CE(a,e,n){if(typeof(n=Bt(n))=="string"){if(n==="")throw new ce(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Z1(e)&&n.indexOf("/")!==-1)throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(it.fromString(n));if(!ye.isDocumentKey(s))throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Q0(a,new ye(s))}if(n instanceof Et)return Q0(a,n._key);throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gd(n)}.`)}function IE(a,e){if(!Array.isArray(a)||a.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ab(a,e){const n=(function(o,c){for(const d of o)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class GN{convertValue(e,n="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return xs(e,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[$h].arrayValue?.values?.map((s=>_t(s.doubleValue)));return new Ua(n)}convertGeoPoint(e){return new ka(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=_d(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ec(e));default:return null}}convertTimestamp(e){const n=Ts(e);return new fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);Ye(ET(s),9688,{name:e});const o=new Tc(s.get(1),s.get(3)),c=new ye(s.popFirst(5));return o.isEqual(n)||Si(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function ib(a,e,n){let s;return s=a?a.toFirestore(e):e,s}class lc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ur extends tb{constructor(e,n,s,o,c,d){super(e,n,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(jd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ur._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ur._jsonSchemaVersion="firestore/documentSnapshot/1.0",ur._jsonSchema={type:jt("string",ur._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class Lh extends ur{data(e={}){return super.data(e)}}class So{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new lc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Lh(this._firestore,this._userDataWriter,s.key,s,new lc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const v=new Lh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new lc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const v=new Lh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new lc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return p.type!==0&&(g=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:QN(p.type),doc:v,oldIndex:g,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=So._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QN(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:a})}}function Op(a){a=ra(a,Et);const e=ra(a.firestore,wr);return DN(Tg(e),a._key).then((n=>YN(e,a,n)))}So._jsonSchemaVersion="firestore/querySnapshot/1.0",So._jsonSchema={type:jt("string",So._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class sb extends GN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,n)}}function on(a){a=ra(a,br);const e=ra(a.firestore,wr),n=Tg(e),s=new sb(e);return FN(a._query),jN(n,a._query).then((o=>new So(e,s,a,o)))}function DE(a,e,n){a=ra(a,Et);const s=ra(a.firestore,wr),o=ib(a.converter,e);return Md(s,[JT(Id(s),"setDoc",a._key,o,a.converter!==null,n).toMutation(a._key,qn.none())])}function hr(a,e,n,...s){a=ra(a,Et);const o=ra(a.firestore,wr),c=Id(o);let d;return d=typeof(e=Bt(e))=="string"||e instanceof Cd?zN(c,"updateDoc",a._key,e,n,s):UN(c,"updateDoc",a._key,e),Md(o,[d.toMutation(a._key,qn.exists(!0))])}function id(a){return Md(ra(a.firestore,wr),[new ig(a._key,qn.none())])}function sd(a,e){const n=ra(a.firestore,wr),s=$t(a),o=ib(a.converter,e);return Md(n,[JT(Id(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,qn.exists(!1))]).then((()=>s))}function Md(a,e){return(function(s,o){const c=new gi;return s.asyncQueue.enqueueAndForget((async()=>_N(await IN(s),o,c))),c.promise})(Tg(a),e)}function YN(a,e,n){const s=n.docs.get(e._key),o=new sb(a);return new ur(a,o,e._key,s,new lc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Lo=o})(Po),No(new mr("firestore",((s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new wr(new zx(s.getProvider("auth-internal")),new Hx(d,s.getProvider("app-check-internal")),(function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tc(g.options.projectId,T)})(d,o),d);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),vs(O0,M0,e),vs(O0,M0,"esm2020")})();function rb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KN=rb,ob=new jc("auth","Firebase",rb());const rd=new Qp("@firebase/auth");function $N(a,...e){rd.logLevel<=Pe.WARN&&rd.warn(`Auth (${Po}): ${a}`,...e)}function kh(a,...e){rd.logLevel<=Pe.ERROR&&rd.error(`Auth (${Po}): ${a}`,...e)}function la(a,...e){throw Cg(a,...e)}function za(a,...e){return Cg(a,...e)}function lb(a,e,n){const s={...KN(),[e]:n};return new jc("auth","Firebase",s).create(e,{appName:a.name})}function yi(a){return lb(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cg(a,...e){if(typeof a!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(n,...s)}return ob.create(a,...e)}function Te(a,e,...n){if(!a)throw Cg(e,...n)}function fi(a){const e="INTERNAL ASSERTION FAILED: "+a;throw kh(e),new Error(e)}function Ai(a,e){a||fi(e)}function Mp(){return typeof self<"u"&&self.location?.href||""}function XN(){return jE()==="http:"||jE()==="https:"}function jE(){return typeof self<"u"&&self.location?.protocol||null}function JN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XN()||pA()||"connection"in navigator)?navigator.onLine:!0}function ZN(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class zc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ai(n>e,"Short delay should be less than long delay!"),this.isMobile=dA()||gA()}get(){return JN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ig(a,e){Ai(a.emulator,"Emulator should always be set here");const{url:n}=a.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class cb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const WN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const eC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tC=new zc(3e4,6e4);function Ns(a,e){return a.tenantId&&!e.tenantId?{...e,tenantId:a.tenantId}:e}async function Cs(a,e,n,s,o={}){return ub(a,o,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const p=Oc({key:a.config.apiKey,...d}).slice(1),v=await a._getAdditionalHeaders();v["Content-Type"]="application/json",a.languageCode&&(v["X-Firebase-Locale"]=a.languageCode);const g={method:e,headers:v,...c};return mA()||(g.referrerPolicy="no-referrer"),a.emulatorConfig&&Vo(a.emulatorConfig.host)&&(g.credentials="include"),cb.fetch()(await hb(a,a.config.apiHost,n,p),g)})}async function ub(a,e,n){a._canInitEmulator=!1;const s={...WN,...e};try{const o=new aC(a),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Rh(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[v,g]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rh(a,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Rh(a,"email-already-in-use",d);if(v==="USER_DISABLED")throw Rh(a,"user-disabled",d);const T=s[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw lb(a,T,g);la(a,T)}}catch(o){if(o instanceof Ri)throw o;la(a,"network-request-failed",{message:String(o)})}}async function Bc(a,e,n,s,o={}){const c=await Cs(a,e,n,s,o);return"mfaPendingCredential"in c&&la(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function hb(a,e,n,s){const o=`${e}${n}?${s}`,c=a,d=c.config.emulator?Ig(a.config,o):`${a.config.apiScheme}://${o}`;return eC.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function nC(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(za(this.auth,"network-request-failed")),tC.get())})}}function Rh(a,e,n){const s={appName:a.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=za(a,e,s);return o.customData._tokenResponse=n,o}function OE(a){return a!==void 0&&a.enterprise!==void 0}class iC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return nC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sC(a,e){return Cs(a,"GET","/v2/recaptchaConfig",Ns(a,e))}async function rC(a,e){return Cs(a,"POST","/v1/accounts:delete",e)}async function od(a,e){return Cs(a,"POST","/v1/accounts:lookup",e)}function pc(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oC(a,e=!1){const n=Bt(a),s=await n.getIdToken(e),o=Dg(s);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:s,authTime:pc(ip(o.auth_time)),issuedAtTime:pc(ip(o.iat)),expirationTime:pc(ip(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function ip(a){return Number(a)*1e3}function Dg(a){const[e,n,s]=a.split(".");if(e===void 0||n===void 0||s===void 0)return kh("JWT malformed, contained fewer than 3 sections"),null;try{const o=m1(n);return o?JSON.parse(o):(kh("Failed to decode base64 JWT payload"),null)}catch(o){return kh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function ME(a){const e=Dg(a);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function xc(a,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ri&&lC(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function lC({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class cC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Vp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pc(this.lastLoginAt),this.creationTime=pc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ld(a){const e=a.auth,n=await a.getIdToken(),s=await xc(a,od(e,{idToken:n}));Te(s?.users.length,e,"internal-error");const o=s.users[0];a._notifyReloadListener(o);const c=o.providerUserInfo?.length?db(o.providerUserInfo):[],d=hC(a.providerData,c),p=a.isAnonymous,v=!(a.email&&o.passwordHash)&&!d?.length,g=p?v:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Vp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(a,T)}async function uC(a){const e=Bt(a);await ld(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hC(a,e){return[...a.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function db(a){return a.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function dC(a,e){const n=await ub(a,{},async()=>{const s=Oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=a.config,d=await hb(a,o,"/v1/token",`key=${c}`),p=await a._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:s};return a.emulatorConfig&&Vo(a.emulatorConfig.host)&&(v.credentials="include"),cb.fetch()(d,v)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fC(a,e){return Cs(a,"POST","/v2/accounts:revokeToken",Ns(a,e))}class wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ME(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=ME(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await dC(e,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,d=new wo;return s&&(Te(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Te(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wo,this.toJSON())}_performRefresh(){return fi("not implemented")}}function ls(a,e){Te(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class ia{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new cC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Vp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await xc(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oC(this,e)}reload(){return uC(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ia({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ld(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(yi(this.auth));const e=await this.getIdToken();return await xc(this,rC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,v=n._redirectEventId??void 0,g=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:x,providerData:O,stsTokenManager:Q}=n;Te(b&&Q,e,"internal-error");const z=wo.fromJSON(this.name,Q);Te(typeof b=="string",e,"internal-error"),ls(s,e.name),ls(o,e.name),Te(typeof w=="boolean",e,"internal-error"),Te(typeof x=="boolean",e,"internal-error"),ls(c,e.name),ls(d,e.name),ls(p,e.name),ls(v,e.name),ls(g,e.name),ls(T,e.name);const $=new ia({uid:b,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:x,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:z,createdAt:g,lastLoginAt:T});return O&&Array.isArray(O)&&($.providerData=O.map(ne=>({...ne}))),v&&($._redirectEventId=v),$}static async _fromIdTokenResponse(e,n,s=!1){const o=new wo;o.updateFromServerResponse(n);const c=new ia({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ld(c),c}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?db(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new wo;p.updateFromIdToken(s);const v=new ia({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Vp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,g),v}}const VE=new Map;function mi(a){Ai(a instanceof Function,"Expected a class definition");let e=VE.get(a);return e?(Ai(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,VE.set(a,e),e)}class fb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fb.type="NONE";const PE=fb;function Uh(a,e,n){return`firebase:${a}:${e}:${n}`}class Ao{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=Uh(this.userKey,o.apiKey,c),this.fullPersistenceKey=Uh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await od(this.auth,{idToken:e}).catch(()=>{});return n?ia._fromGetAccountInfoResponse(this.auth,n,e):null}return ia._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ao(mi(PE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||mi(PE);const d=Uh(s,e.config.apiKey,e.name);let p=null;for(const g of n)try{const T=await g._get(d);if(T){let b;if(typeof T=="string"){const w=await od(e,{idToken:T}).catch(()=>{});if(!w)break;b=await ia._fromGetAccountInfoResponse(e,w,T)}else b=ia._fromJSON(e,T);g!==c&&(p=b),c=g;break}}catch{}const v=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Ao(c,e,s):(c=v[0],p&&await c._set(d,p.toJSON()),await Promise.all(n.map(async g=>{if(g!==c)try{await g._remove(d)}catch{}})),new Ao(c,e,s))}}function LE(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_b(e))return"Blackberry";if(Eb(e))return"Webos";if(pb(e))return"Safari";if((e.includes("chrome/")||gb(e))&&!e.includes("edge/"))return"Chrome";if(yb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(n);if(s?.length===2)return s[1]}return"Other"}function mb(a=nn()){return/firefox\//i.test(a)}function pb(a=nn()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gb(a=nn()){return/crios\//i.test(a)}function vb(a=nn()){return/iemobile/i.test(a)}function yb(a=nn()){return/android/i.test(a)}function _b(a=nn()){return/blackberry/i.test(a)}function Eb(a=nn()){return/webos/i.test(a)}function jg(a=nn()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function mC(a=nn()){return jg(a)&&!!window.navigator?.standalone}function pC(){return vA()&&document.documentMode===10}function Tb(a=nn()){return jg(a)||yb(a)||Eb(a)||_b(a)||/windows phone/i.test(a)||vb(a)}function bb(a,e=[]){let n;switch(a){case"Browser":n=LE(nn());break;case"Worker":n=`${LE(nn())}-${a}`;break;default:n=a}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Po}/${s}`}class gC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((d,p)=>{try{const v=e(c);d(v)}catch(v){p(v)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function vC(a,e={}){return Cs(a,"GET","/v2/passwordPolicy",Ns(a,e))}const yC=6;class _C{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??yC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class EC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kE(this),this.idTokenSubscription=new kE(this),this.beforeStateQueue=new gC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ob,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ao.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await od(this,{idToken:e}),s=await ia._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(zn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ld(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(yi(this));const n=e?Bt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vC(this),n=new _C(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new jc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await fC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mi(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Ao.create(this,[mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const v=e.addObserver(n,s,o);return()=>{d=!0,v()}}else{const v=e.addObserver(n);return()=>{d=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&$N(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ar(a){return Bt(a)}class kE{constructor(e){this.auth=e,this.observer=null,this.addObserver=AA(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Vd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TC(a){Vd=a}function Sb(a){return Vd.loadJS(a)}function bC(){return Vd.recaptchaEnterpriseScript}function SC(){return Vd.gapiScript}function wC(a){return`__${a}${Math.floor(Math.random()*1e6)}`}class AC{constructor(){this.enterprise=new xC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class xC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const RC="recaptcha-enterprise",wb="NO_RECAPTCHA";class NC{constructor(e){this.type=RC,this.auth=Ar(e)}async verify(e="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{sC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(v=>{if(v.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new iC(v);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,d(g.siteKey)}}).catch(v=>{p(v)})})}function o(c,d,p){const v=window.grecaptcha;OE(v)?v.enterprise.ready(()=>{v.enterprise.execute(c,{action:e}).then(g=>{d(g)}).catch(()=>{d(wb)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(p=>{if(!n&&OE(window.grecaptcha))o(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let v=bC();v.length!==0&&(v+=p),Sb(v).then(()=>{o(p,c,d)}).catch(g=>{d(g)})}}).catch(p=>{d(p)})})}}async function UE(a,e,n,s=!1,o=!1){const c=new NC(a);let d;if(o)d=wb;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const v=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:v,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const v=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Pp(a,e,n,s,o){if(a._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await UE(a,e,n,n==="getOobCode");return s(a,c)}else return s(a,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await UE(a,e,n,n==="getOobCode");return s(a,d)}else return Promise.reject(c)})}function CC(a,e){const n=Kp(a,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(fr(c,e??{}))return o;la(o,"already-initialized")}return n.initialize({options:e})}function IC(a,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(mi);e?.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(s,e?.popupRedirectResolver)}function DC(a,e,n){const s=Ar(a);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=Ab(e),{host:d,port:p}=jC(e),v=p===null?"":`:${p}`,g={url:`${c}//${d}${v}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(fr(g,s.config.emulator)&&fr(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,Vo(d)?(y1(`${c}//${d}${v}`),_1("Auth",!0)):OC()}function Ab(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function jC(a){const e=Ab(a),n=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:zE(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:zE(d)}}}function zE(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}function OC(){function a(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class Og{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fi("not implemented")}_getIdTokenResponse(e){return fi("not implemented")}_linkToIdToken(e,n){return fi("not implemented")}_getReauthenticationResolver(e){return fi("not implemented")}}async function MC(a,e){return Cs(a,"POST","/v1/accounts:signUp",e)}async function VC(a,e){return Bc(a,"POST","/v1/accounts:signInWithPassword",Ns(a,e))}async function PC(a,e){return Bc(a,"POST","/v1/accounts:signInWithEmailLink",Ns(a,e))}async function LC(a,e){return Bc(a,"POST","/v1/accounts:signInWithEmailLink",Ns(a,e))}class Rc extends Og{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Rc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Rc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pp(e,n,"signInWithPassword",VC);case"emailLink":return PC(e,{email:this._email,oobCode:this._password});default:la(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pp(e,s,"signUpPassword",MC);case"emailLink":return LC(e,{idToken:n,email:this._email,oobCode:this._password});default:la(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function xo(a,e){return Bc(a,"POST","/v1/accounts:signInWithIdp",Ns(a,e))}const kC="http://localhost";class vr extends Og{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):la("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const d=new vr(s,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return xo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,xo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xo(e,n)}buildRequest(){const e={requestUri:kC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Oc(n)}return e}}function UC(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zC(a){const e=ac(ic(a)).link,n=e?ac(ic(e)).deep_link_id:null,s=ac(ic(a)).deep_link_id;return(s?ac(ic(s)).link:null)||s||n||e||a}class Mg{constructor(e){const n=ac(ic(e)),s=n.apiKey??null,o=n.oobCode??null,c=UC(n.mode??null);Te(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=zC(e);try{return new Mg(n)}catch{return null}}}class qo{constructor(){this.providerId=qo.PROVIDER_ID}static credential(e,n){return Rc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Mg.parseLink(n);return Te(s,"argument-error"),Rc._fromEmailAndCode(e,s.code,s.tenantId)}}qo.PROVIDER_ID="password";qo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class xb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class qc extends xb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class us extends qc{constructor(){super("facebook.com")}static credential(e){return vr._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.FACEBOOK_SIGN_IN_METHOD="facebook.com";us.PROVIDER_ID="facebook.com";class hs extends qc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vr._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return hs.credential(n,s)}catch{return null}}}hs.GOOGLE_SIGN_IN_METHOD="google.com";hs.PROVIDER_ID="google.com";class ds extends qc{constructor(){super("github.com")}static credential(e){return vr._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.GITHUB_SIGN_IN_METHOD="github.com";ds.PROVIDER_ID="github.com";class fs extends qc{constructor(){super("twitter.com")}static credential(e,n){return vr._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return fs.credential(n,s)}catch{return null}}}fs.TWITTER_SIGN_IN_METHOD="twitter.com";fs.PROVIDER_ID="twitter.com";async function BC(a,e){return Bc(a,"POST","/v1/accounts:signUp",Ns(a,e))}class yr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const c=await ia._fromIdTokenResponse(e,s,o),d=BE(s);return new yr({user:c,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=BE(s);return new yr({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function BE(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}class cd extends Ri{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,cd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new cd(e,n,s,o)}}function Rb(a,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(a):n._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?cd._fromErrorAndOperation(a,c,e,s):c})}async function qC(a,e,n=!1){const s=await xc(a,e._linkToIdToken(a.auth,await a.getIdToken()),n);return yr._forOperation(a,"link",s)}async function HC(a,e,n=!1){const{auth:s}=a;if(zn(s.app))return Promise.reject(yi(s));const o="reauthenticate";try{const c=await xc(a,Rb(s,o,e,a),n);Te(c.idToken,s,"internal-error");const d=Dg(c.idToken);Te(d,s,"internal-error");const{sub:p}=d;return Te(a.uid===p,s,"user-mismatch"),yr._forOperation(a,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&la(s,"user-mismatch"),c}}async function Nb(a,e,n=!1){if(zn(a.app))return Promise.reject(yi(a));const s="signIn",o=await Rb(a,s,e),c=await yr._fromIdTokenResponse(a,s,o);return n||await a._updateCurrentUser(c.user),c}async function FC(a,e){return Nb(Ar(a),e)}async function Cb(a){const e=Ar(a);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function GC(a,e,n){if(zn(a.app))return Promise.reject(yi(a));const s=Ar(a),d=await Pp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",BC).catch(v=>{throw v.code==="auth/password-does-not-meet-requirements"&&Cb(a),v}),p=await yr._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(p.user),p}function QC(a,e,n){return zn(a.app)?Promise.reject(yi(a)):FC(Bt(a),qo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Cb(a),s})}function YC(a,e,n,s){return Bt(a).onIdTokenChanged(e,n,s)}function KC(a,e,n){return Bt(a).beforeAuthStateChanged(e,n)}function $C(a,e,n,s){return Bt(a).onAuthStateChanged(e,n,s)}function XC(a){return Bt(a).signOut()}const ud="__sak";class Ib{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ud,"1"),this.storage.removeItem(ud),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const JC=1e3,ZC=10;class Db extends Ib{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);pC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,ZC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},JC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Db.type="LOCAL";const WC=Db;class jb extends Ib{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}jb.type="SESSION";const Ob=jb;function eI(a){return Promise.all(a.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Pd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Pd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:c}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(d).map(async g=>g(n.origin,c)),v=await eI(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:v})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pd.receivers=[];function Vg(a="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return a+n}class tI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,v)=>{const g=Vg("",20);o.port1.start();const T=setTimeout(()=>{v(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(b){const w=b;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(w.data.response);break;default:clearTimeout(T),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ba(){return window}function nI(a){Ba().location.href=a}function Mb(){return typeof Ba().WorkerGlobalScope<"u"&&typeof Ba().importScripts=="function"}async function aI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iI(){return navigator?.serviceWorker?.controller||null}function sI(){return Mb()?self:null}const Vb="firebaseLocalStorageDb",rI=1,hd="firebaseLocalStorage",Pb="fbase_key";class Hc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ld(a,e){return a.transaction([hd],e?"readwrite":"readonly").objectStore(hd)}function oI(){const a=indexedDB.deleteDatabase(Vb);return new Hc(a).toPromise()}function Lp(){const a=indexedDB.open(Vb,rI);return new Promise((e,n)=>{a.addEventListener("error",()=>{n(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore(hd,{keyPath:Pb})}catch(o){n(o)}}),a.addEventListener("success",async()=>{const s=a.result;s.objectStoreNames.contains(hd)?e(s):(s.close(),await oI(),e(await Lp()))})})}async function qE(a,e,n){const s=Ld(a,!0).put({[Pb]:e,value:n});return new Hc(s).toPromise()}async function lI(a,e){const n=Ld(a,!1).get(e),s=await new Hc(n).toPromise();return s===void 0?null:s.value}function HE(a,e){const n=Ld(a,!0).delete(e);return new Hc(n).toPromise()}const cI=800,uI=3;class Lb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>uI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pd._getInstance(sI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await aI(),!this.activeServiceWorker)return;this.sender=new tI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lp();return await qE(e,ud,"1"),await HE(e,ud),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>qE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>lI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>HE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Ld(o,!1).getAll();return new Hc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Lb.type="LOCAL";const hI=Lb;new zc(3e4,6e4);function dI(a,e){return e?mi(e):(Te(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class Pg extends Og{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fI(a){return Nb(a.auth,new Pg(a),a.bypassAuthState)}function mI(a){const{auth:e,user:n}=a;return Te(n,e,"internal-error"),HC(n,new Pg(a),a.bypassAuthState)}async function pI(a){const{auth:e,user:n}=a;return Te(n,e,"internal-error"),qC(n,new Pg(a),a.bypassAuthState)}class kb{constructor(e,n,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fI;case"linkViaPopup":case"linkViaRedirect":return pI;case"reauthViaPopup":case"reauthViaRedirect":return mI;default:la(this.auth,"internal-error")}}resolve(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gI=new zc(2e3,1e4);class To extends kb{constructor(e,n,s,o,c){super(e,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,To.currentPopupAction&&To.currentPopupAction.cancel(),To.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Ai(this.filter.length===1,"Popup operations only handle one event");const e=Vg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(za(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(za(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,To.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(za(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gI.get())};e()}}To.currentPopupAction=null;const vI="pendingRedirect",zh=new Map;class yI extends kb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=zh.get(this.auth._key());if(!e){try{const s=await _I(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}zh.set(this.auth._key(),e)}return this.bypassAuthState||zh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _I(a,e){const n=bI(e),s=TI(a);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function EI(a,e){zh.set(a._key(),e)}function TI(a){return mi(a._redirectPersistence)}function bI(a){return Uh(vI,a.config.apiKey,a.name)}async function SI(a,e,n=!1){if(zn(a.app))return Promise.reject(yi(a));const s=Ar(a),o=dI(s,e),d=await new yI(s,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}const wI=600*1e3;class AI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Ub(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(za(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wI&&this.cachedEventUids.clear(),this.cachedEventUids.has(FE(e))}saveEventToCache(e){this.cachedEventUids.add(FE(e)),this.lastProcessedEventTime=Date.now()}}function FE(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function Ub({type:a,error:e}){return a==="unknown"&&e?.code==="auth/no-auth-event"}function xI(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ub(a);default:return!1}}async function RI(a,e={}){return Cs(a,"GET","/v1/projects",e)}const NI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CI=/^https?/;async function II(a){if(a.config.emulator)return;const{authorizedDomains:e}=await RI(a);for(const n of e)try{if(DI(n))return}catch{}la(a,"unauthorized-domain")}function DI(a){const e=Mp(),{protocol:n,hostname:s}=new URL(e);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&s===""?n==="chrome-extension:"&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!CI.test(n))return!1;if(NI.test(a))return s===a;const o=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const jI=new zc(3e4,6e4);function GE(){const a=Ba().___jsl;if(a?.H){for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let n=0;n<a.CP.length;n++)a.CP[n]=null}}function OI(a){return new Promise((e,n)=>{function s(){GE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GE(),n(za(a,"network-request-failed"))},timeout:jI.get()})}if(Ba().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ba().gapi?.load)s();else{const o=wC("iframefcb");return Ba()[o]=()=>{gapi.load?s():n(za(a,"network-request-failed"))},Sb(`${SC()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Bh=null,e})}let Bh=null;function MI(a){return Bh=Bh||OI(a),Bh}const VI=new zc(5e3,15e3),PI="__/auth/iframe",LI="emulator/auth/iframe",kI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zI(a){const e=a.config;Te(e.authDomain,a,"auth-domain-config-required");const n=e.emulator?Ig(e,LI):`https://${a.config.authDomain}/${PI}`,s={apiKey:e.apiKey,appName:a.name,v:Po},o=UI.get(a.config.apiHost);o&&(s.eid=o);const c=a._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Oc(s).slice(1)}`}async function BI(a){const e=await MI(a),n=Ba().gapi;return Te(n,a,"internal-error"),e.open({where:document.body,url:zI(a),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kI,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const d=za(a,"network-request-failed"),p=Ba().setTimeout(()=>{c(d)},VI.get());function v(){Ba().clearTimeout(p),o(s)}s.ping(v).then(v,()=>{c(d)})}))}const qI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HI=500,FI=600,GI="_blank",QI="http://localhost";class QE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YI(a,e,n,s=HI,o=FI){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const v={...qI,width:s.toString(),height:o.toString(),top:c,left:d},g=nn().toLowerCase();n&&(p=gb(g)?GI:n),mb(g)&&(e=e||QI,v.scrollbars="yes");const T=Object.entries(v).reduce((w,[x,O])=>`${w}${x}=${O},`,"");if(mC(g)&&p!=="_self")return KI(e||"",p),new QE(null);const b=window.open(e||"",p,T);Te(b,a,"popup-blocked");try{b.focus()}catch{}return new QE(b)}function KI(a,e){const n=document.createElement("a");n.href=a,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const $I="__/auth/handler",XI="emulator/auth/handler",JI=encodeURIComponent("fac");async function YE(a,e,n,s,o,c){Te(a.config.authDomain,a,"auth-domain-config-required"),Te(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:n,redirectUrl:s,v:Po,eventId:o};if(e instanceof xb){e.setDefaultLanguage(a.languageCode),d.providerId=e.providerId||"",wA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))d[T]=b}if(e instanceof qc){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(d.scopes=T.join(","))}a.tenantId&&(d.tid=a.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const v=await a._getAppCheckToken(),g=v?`#${JI}=${encodeURIComponent(v)}`:"";return`${ZI(a)}?${Oc(p).slice(1)}${g}`}function ZI({config:a}){return a.emulator?Ig(a,XI):`https://${a.authDomain}/${$I}`}const sp="webStorageSupport";class WI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ob,this._completeRedirectFn=SI,this._overrideRedirectResult=EI}async _openPopup(e,n,s,o){Ai(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await YE(e,n,s,Mp(),o);return YI(e,c,Vg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const c=await YE(e,n,s,Mp(),o);return nI(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Ai(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await BI(e),s=new AI(e);return n.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sp,{type:sp},o=>{const c=o?.[0]?.[sp];c!==void 0&&n(!!c),la(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=II(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Tb()||pb()||jg()}}const eD=WI;var KE="@firebase/auth",$E="1.11.1";class tD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function nD(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aD(a){No(new mr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const v={apiKey:d,authDomain:p,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bb(a)},g=new EC(s,o,c,v);return IC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),No(new mr("auth-internal",e=>{const n=Ar(e.getProvider("auth").getImmediate());return(s=>new tD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vs(KE,$E,nD(a)),vs(KE,$E,"esm2020")}const iD=300,sD=v1("authIdTokenMaxAge")||iD;let XE=null;const rD=a=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>sD)return;const o=n?.token;XE!==o&&(XE=o,await fetch(a,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function oD(a=S1()){const e=Kp(a,"auth");if(e.isInitialized())return e.getImmediate();const n=CC(a,{popupRedirectResolver:eD,persistence:[hI,WC,Ob]}),s=v1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=rD(c.toString());KC(n,d,()=>d(n.currentUser)),YC(n,p=>d(p))}}const o=p1("auth");return o&&DC(n,`http://${o}`),n}function lD(){return document.getElementsByTagName("head")?.[0]??document}TC({loadJS(a){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=e,s.onerror=o=>{const c=za("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",lD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aD("Browser");const cD={apiKey:"AIzaSyMockKey123456789012345678901234567890",authDomain:"mock-project-id.firebaseapp.com",projectId:"mock-project-idr",storageBucket:"mock-project-id.appspot.com",messagingSenderId:"123456789012",appId:"1:123456789012:web:abcdef1234567890abcdef"},zb=b1(cD),sa=MN(zb),Nh=oD(zb);function Ro(a){if(typeof a=="string")return a;switch(a?.code||""){case"auth/user-not-found":return"Usurio no encontrado. Verifique seu email.";case"auth/wrong-password":return"Senha incorreta. Tente novamente.";case"auth/invalid-email":return"Email invlido. Verifique o formato.";case"auth/too-many-requests":return"Muitas tentativas. Tente novamente em alguns minutos.";case"auth/user-disabled":return"Conta desabilitada. Entre em contato com o suporte.";case"auth/network-request-failed":return"Erro de conexo. Verifique sua internet.";case"auth/invalid-api-key":return"Erro de configurao. Entre em contato com o suporte.";default:return"Erro inesperado. Tente novamente."}}const Ch={async logOut(){try{await XC(Nh)}catch(a){const e=Ro(a);throw new Error(e)}},async login(a){try{const n=(await QC(Nh,a.email,a.password)).user,s=await Op($t(sa,"users",n.uid));if(!s.exists())throw new Error("Usurio no encontrado");const c={...s.data(),lastLogin:new Date};return await DE($t(sa,"users",n.uid),c),c}catch(e){const n=Ro(e);throw new Error(n)}},async register(a){try{if(!a.email||!a.password||!a.name)throw new Error("Todos os campos so obrigatrios");if(a.password.length<6)throw new Error("A senha deve ter pelo menos 6 caracteres");const n=(await GC(Nh,a.email,a.password)).user,s={uid:n.uid,name:a.name,email:a.email,createdAt:new Date,updatedAt:new Date,role:a.role||"user"};return await DE($t(sa,"users",n.uid),s),s}catch(e){const n=Ro(e);throw new Error(n)}},observeAuthState(a){try{return $C(Nh,async e=>{if(console.log(" Auth state changed:",e?e.uid:"null"),e)try{const n=await Op($t(sa,"users",e.uid));if(n.exists()){const s=n.data();console.log(" Usurio autenticado:",s),a(s)}else console.log(" Usurio no encontrado no Firestore"),a(null)}catch(n){console.error(" Erro ao buscar dados do usurio:",n),a(null)}else console.log(" Usurio deslogado"),a(null)})}catch(e){throw new Error("Erro ao observar estado de autenticao: "+e)}}},Bb=L.createContext(void 0);function uD({children:a}){const[e,n]=L.useState(null),[s,o]=L.useState(!0),[c,d]=L.useState(null);L.useEffect(()=>{const w=Ch.observeAuthState(x=>{n(x),o(!1)});return()=>w()},[]);const b={user:e,loading:s,error:c,login:async w=>{try{o(!0),d(null);const x=await Ch.login(w);n(x),o(!1)}catch(x){const O=Ro(x);throw d(O),o(!1),n(null),new Error(O)}},register:async w=>{try{o(!0),d(null),await Ch.register(w),n(null),o(!1)}catch(x){const O=Ro(x);d(O),o(!1),n(null)}},logOut:async()=>{try{o(!0),d(null),await Ch.logOut(),n(null),o(!1)}catch(w){const x=Ro(w);throw d(x),o(!1),new Error(x)}},clearError:()=>{d(null)}};return h.jsx(Bb.Provider,{value:b,children:a})}var JE="popstate";function hD(a={}){function e(s,o){let{pathname:c,search:d,hash:p}=s.location;return kp("",{pathname:c,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Nc(o)}return fD(e,n,null,a)}function ut(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function Fn(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dD(){return Math.random().toString(36).substring(2,10)}function ZE(a,e){return{usr:a.state,key:a.key,idx:e}}function kp(a,e,n=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Ho(e):e,state:n,key:e&&e.key||s||dD()}}function Nc({pathname:a="/",search:e="",hash:n=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(a+=n.charAt(0)==="#"?n:"#"+n),a}function Ho(a){let e={};if(a){let n=a.indexOf("#");n>=0&&(e.hash=a.substring(n),a=a.substring(0,n));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function fD(a,e,n,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,p="POP",v=null,g=T();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function T(){return(d.state||{idx:null}).idx}function b(){p="POP";let z=T(),$=z==null?null:z-g;g=z,v&&v({action:p,location:Q.location,delta:$})}function w(z,$){p="PUSH";let ne=kp(Q.location,z,$);g=T()+1;let se=ZE(ne,g),_e=Q.createHref(ne);try{d.pushState(se,"",_e)}catch(ge){if(ge instanceof DOMException&&ge.name==="DataCloneError")throw ge;o.location.assign(_e)}c&&v&&v({action:p,location:Q.location,delta:1})}function x(z,$){p="REPLACE";let ne=kp(Q.location,z,$);g=T();let se=ZE(ne,g),_e=Q.createHref(ne);d.replaceState(se,"",_e),c&&v&&v({action:p,location:Q.location,delta:0})}function O(z){return mD(z)}let Q={get action(){return p},get location(){return a(o,d)},listen(z){if(v)throw new Error("A history only accepts one active listener");return o.addEventListener(JE,b),v=z,()=>{o.removeEventListener(JE,b),v=null}},createHref(z){return e(o,z)},createURL:O,encodeLocation(z){let $=O(z);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:w,replace:x,go(z){return d.go(z)}};return Q}function mD(a,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:Nc(a);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function qb(a,e,n="/"){return pD(a,e,n,!1)}function pD(a,e,n,s){let o=typeof e=="string"?Ho(e):e,c=xi(o.pathname||"/",n);if(c==null)return null;let d=Hb(a);gD(d);let p=null;for(let v=0;p==null&&v<d.length;++v){let g=RD(c);p=AD(d[v],g,s)}return p}function Hb(a,e=[],n=[],s="",o=!1){let c=(d,p,v=o,g)=>{let T={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(s)&&v)return;ut(T.relativePath.startsWith(s),`Absolute route path "${T.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(s.length)}let b=_i([s,T.relativePath]),w=n.concat(T);d.children&&d.children.length>0&&(ut(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Hb(d.children,e,w,b,v)),!(d.path==null&&!d.index)&&e.push({path:b,score:SD(b,d.index),routesMeta:w})};return a.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))c(d,p);else for(let v of Fb(d.path))c(d,p,!0,v)}),e}function Fb(a){let e=a.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=Fb(s.join("/")),p=[];return p.push(...d.map(v=>v===""?c:[c,v].join("/"))),o&&p.push(...d),p.map(v=>a.startsWith("/")&&v===""?"/":v)}function gD(a){a.sort((e,n)=>e.score!==n.score?n.score-e.score:wD(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var vD=/^:[\w-]+$/,yD=3,_D=2,ED=1,TD=10,bD=-2,WE=a=>a==="*";function SD(a,e){let n=a.split("/"),s=n.length;return n.some(WE)&&(s+=bD),e&&(s+=_D),n.filter(o=>!WE(o)).reduce((o,c)=>o+(vD.test(c)?yD:c===""?ED:TD),s)}function wD(a,e){return a.length===e.length&&a.slice(0,-1).every((s,o)=>s===e[o])?a[a.length-1]-e[e.length-1]:0}function AD(a,e,n=!1){let{routesMeta:s}=a,o={},c="/",d=[];for(let p=0;p<s.length;++p){let v=s[p],g=p===s.length-1,T=c==="/"?e:e.slice(c.length)||"/",b=dd({path:v.relativePath,caseSensitive:v.caseSensitive,end:g},T),w=v.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=dd({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},T)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:_i([c,b.pathname]),pathnameBase:jD(_i([c,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(c=_i([c,b.pathnameBase]))}return d}function dd(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[n,s]=xD(a.path,a.caseSensitive,a.end),o=e.match(n);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((g,{paramName:T,isOptional:b},w)=>{if(T==="*"){let O=p[w]||"";d=c.slice(0,c.length-O.length).replace(/(.)\/+$/,"$1")}const x=p[w];return b&&!x?g[T]=void 0:g[T]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:a}}function xD(a,e=!1,n=!0){Fn(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,v)=>(s.push({paramName:p,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function RD(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fn(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function xi(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=a.charAt(n);return s&&s!=="/"?null:a.slice(n)||"/"}var ND=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CD=a=>ND.test(a);function ID(a,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof a=="string"?Ho(a):a,c;if(n)if(CD(n))c=n;else{if(n.includes("//")){let d=n;n=n.replace(/\/\/+/g,"/"),Fn(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${n}`)}n.startsWith("/")?c=e1(n.substring(1),"/"):c=e1(n,e)}else c=e;return{pathname:c,search:OD(s),hash:MD(o)}}function e1(a,e){let n=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function rp(a,e,n,s){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DD(a){return a.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Lg(a){let e=DD(a);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function kg(a,e,n,s=!1){let o;typeof a=="string"?o=Ho(a):(o={...a},ut(!o.pathname||!o.pathname.includes("?"),rp("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),rp("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),rp("#","search","hash",o)));let c=a===""||o.pathname==="",d=c?"/":o.pathname,p;if(d==null)p=n;else{let b=e.length-1;if(!s&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}p=b>=0?e[b]:"/"}let v=ID(o,p),g=d&&d!=="/"&&d.endsWith("/"),T=(c||d===".")&&n.endsWith("/");return!v.pathname.endsWith("/")&&(g||T)&&(v.pathname+="/"),v}var _i=a=>a.join("/").replace(/\/\/+/g,"/"),jD=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),OD=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,MD=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function VD(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Gb=["POST","PUT","PATCH","DELETE"];new Set(Gb);var PD=["GET",...Gb];new Set(PD);var Fo=L.createContext(null);Fo.displayName="DataRouter";var kd=L.createContext(null);kd.displayName="DataRouterState";L.createContext(!1);var Qb=L.createContext({isTransitioning:!1});Qb.displayName="ViewTransition";var LD=L.createContext(new Map);LD.displayName="Fetchers";var kD=L.createContext(null);kD.displayName="Await";var ca=L.createContext(null);ca.displayName="Navigation";var Fc=L.createContext(null);Fc.displayName="Location";var Fa=L.createContext({outlet:null,matches:[],isDataRoute:!1});Fa.displayName="Route";var Ug=L.createContext(null);Ug.displayName="RouteError";function UD(a,{relative:e}={}){ut(Go(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=L.useContext(ca),{hash:o,pathname:c,search:d}=Qc(a,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:_i([n,c])),s.createHref({pathname:p,search:d,hash:o})}function Go(){return L.useContext(Fc)!=null}function Ni(){return ut(Go(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Fc).location}var Yb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Kb(a){L.useContext(ca).static||L.useLayoutEffect(a)}function Gc(){let{isDataRoute:a}=L.useContext(Fa);return a?ZD():zD()}function zD(){ut(Go(),"useNavigate() may be used only in the context of a <Router> component.");let a=L.useContext(Fo),{basename:e,navigator:n}=L.useContext(ca),{matches:s}=L.useContext(Fa),{pathname:o}=Ni(),c=JSON.stringify(Lg(s)),d=L.useRef(!1);return Kb(()=>{d.current=!0}),L.useCallback((v,g={})=>{if(Fn(d.current,Yb),!d.current)return;if(typeof v=="number"){n.go(v);return}let T=kg(v,JSON.parse(c),o,g.relative==="path");a==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:_i([e,T.pathname])),(g.replace?n.replace:n.push)(T,g.state,g)},[e,n,c,o,a])}L.createContext(null);function Qc(a,{relative:e}={}){let{matches:n}=L.useContext(Fa),{pathname:s}=Ni(),o=JSON.stringify(Lg(n));return L.useMemo(()=>kg(a,JSON.parse(o),s,e==="path"),[a,o,s,e])}function BD(a,e){return $b(a,e)}function $b(a,e,n,s,o){ut(Go(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=L.useContext(ca),{matches:d}=L.useContext(Fa),p=d[d.length-1],v=p?p.params:{},g=p?p.pathname:"/",T=p?p.pathnameBase:"/",b=p&&p.route;{let ne=b&&b.path||"";Xb(g,!b||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let w=Ni(),x;if(e){let ne=typeof e=="string"?Ho(e):e;ut(T==="/"||ne.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),x=ne}else x=w;let O=x.pathname||"/",Q=O;if(T!=="/"){let ne=T.replace(/^\//,"").split("/");Q="/"+O.replace(/^\//,"").split("/").slice(ne.length).join("/")}let z=qb(a,{pathname:Q});Fn(b||z!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Fn(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=QD(z&&z.map(ne=>Object.assign({},ne,{params:Object.assign({},v,ne.params),pathname:_i([T,c.encodeLocation?c.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?T:_i([T,c.encodeLocation?c.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),d,n,s,o);return e&&$?L.createElement(Fc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},$):$}function qD(){let a=JD(),e=VD(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),n=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:c},"ErrorBoundary")," or"," ",L.createElement("code",{style:c},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,d)}var HD=L.createElement(qD,null),FD=class extends L.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){this.props.onError?this.props.onError(a,e):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?L.createElement(Fa.Provider,{value:this.props.routeContext},L.createElement(Ug.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GD({routeContext:a,match:e,children:n}){let s=L.useContext(Fo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Fa.Provider,{value:a},n)}function QD(a,e=[],n=null,s=null,o=null){if(a==null){if(!n)return null;if(n.errors)a=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)a=n.matches;else return null}let c=a,d=n?.errors;if(d!=null){let T=c.findIndex(b=>b.route.id&&d?.[b.route.id]!==void 0);ut(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,T+1))}let p=!1,v=-1;if(n)for(let T=0;T<c.length;T++){let b=c[T];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(v=T),b.route.id){let{loaderData:w,errors:x}=n,O=b.route.loader&&!w.hasOwnProperty(b.route.id)&&(!x||x[b.route.id]===void 0);if(b.route.lazy||O){p=!0,v>=0?c=c.slice(0,v+1):c=[c[0]];break}}}let g=n&&s?(T,b)=>{s(T,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:b})}:void 0;return c.reduceRight((T,b,w)=>{let x,O=!1,Q=null,z=null;n&&(x=d&&b.route.id?d[b.route.id]:void 0,Q=b.route.errorElement||HD,p&&(v<0&&w===0?(Xb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,z=null):v===w&&(O=!0,z=b.route.hydrateFallbackElement||null)));let $=e.concat(c.slice(0,w+1)),ne=()=>{let se;return x?se=Q:O?se=z:b.route.Component?se=L.createElement(b.route.Component,null):b.route.element?se=b.route.element:se=T,L.createElement(GD,{match:b,routeContext:{outlet:T,matches:$,isDataRoute:n!=null},children:se})};return n&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?L.createElement(FD,{location:n.location,revalidation:n.revalidation,component:Q,error:x,children:ne(),routeContext:{outlet:null,matches:$,isDataRoute:!0},onError:g}):ne()},null)}function zg(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YD(a){let e=L.useContext(Fo);return ut(e,zg(a)),e}function KD(a){let e=L.useContext(kd);return ut(e,zg(a)),e}function $D(a){let e=L.useContext(Fa);return ut(e,zg(a)),e}function Bg(a){let e=$D(a),n=e.matches[e.matches.length-1];return ut(n.route.id,`${a} can only be used on routes that contain a unique "id"`),n.route.id}function XD(){return Bg("useRouteId")}function JD(){let a=L.useContext(Ug),e=KD("useRouteError"),n=Bg("useRouteError");return a!==void 0?a:e.errors?.[n]}function ZD(){let{router:a}=YD("useNavigate"),e=Bg("useNavigate"),n=L.useRef(!1);return Kb(()=>{n.current=!0}),L.useCallback(async(o,c={})=>{Fn(n.current,Yb),n.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:e,...c}))},[a,e])}var t1={};function Xb(a,e,n){!e&&!t1[a]&&(t1[a]=!0,Fn(!1,n))}L.memo(WD);function WD({routes:a,future:e,state:n,unstable_onError:s}){return $b(a,void 0,n,s,e)}function ej({to:a,replace:e,state:n,relative:s}){ut(Go(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=L.useContext(ca);Fn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=L.useContext(Fa),{pathname:d}=Ni(),p=Gc(),v=kg(a,Lg(c),d,s==="path"),g=JSON.stringify(v);return L.useEffect(()=>{p(JSON.parse(g),{replace:e,state:n,relative:s})},[p,g,s,e,n]),null}function Oa(a){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tj({basename:a="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:c=!1}){ut(!Go(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),p=L.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof n=="string"&&(n=Ho(n));let{pathname:v="/",search:g="",hash:T="",state:b=null,key:w="default"}=n,x=L.useMemo(()=>{let O=xi(v,d);return O==null?null:{location:{pathname:O,search:g,hash:T,state:b,key:w},navigationType:s}},[d,v,g,T,b,w,s]);return Fn(x!=null,`<Router basename="${d}"> is not able to match the URL "${v}${g}${T}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:L.createElement(ca.Provider,{value:p},L.createElement(Fc.Provider,{children:e,value:x}))}function nj({children:a,location:e}){return BD(Up(a),e)}function Up(a,e=[]){let n=[];return L.Children.forEach(a,(s,o)=>{if(!L.isValidElement(s))return;let c=[...e,o];if(s.type===L.Fragment){n.push.apply(n,Up(s.props.children,c));return}ut(s.type===Oa,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Up(s.props.children,c)),n.push(d)}),n}var qh="get",Hh="application/x-www-form-urlencoded";function Ud(a){return a!=null&&typeof a.tagName=="string"}function aj(a){return Ud(a)&&a.tagName.toLowerCase()==="button"}function ij(a){return Ud(a)&&a.tagName.toLowerCase()==="form"}function sj(a){return Ud(a)&&a.tagName.toLowerCase()==="input"}function rj(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function oj(a,e){return a.button===0&&(!e||e==="_self")&&!rj(a)}var Ih=null;function lj(){if(Ih===null)try{new FormData(document.createElement("form"),0),Ih=!1}catch{Ih=!0}return Ih}var cj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function op(a){return a!=null&&!cj.has(a)?(Fn(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hh}"`),null):a}function uj(a,e){let n,s,o,c,d;if(ij(a)){let p=a.getAttribute("action");s=p?xi(p,e):null,n=a.getAttribute("method")||qh,o=op(a.getAttribute("enctype"))||Hh,c=new FormData(a)}else if(aj(a)||sj(a)&&(a.type==="submit"||a.type==="image")){let p=a.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=a.getAttribute("formaction")||p.getAttribute("action");if(s=v?xi(v,e):null,n=a.getAttribute("formmethod")||p.getAttribute("method")||qh,o=op(a.getAttribute("formenctype"))||op(p.getAttribute("enctype"))||Hh,c=new FormData(p,a),!lj()){let{name:g,type:T,value:b}=a;if(T==="image"){let w=g?`${g}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else g&&c.append(g,b)}}else{if(Ud(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=qh,s=null,o=Hh,d=a}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qg(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function hj(a,e,n){let s=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&xi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function dj(a,e){if(a.id in e)return e[a.id];try{let n=await import(a.module);return e[a.id]=n,n}catch(n){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fj(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function mj(a,e,n){let s=await Promise.all(a.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await dj(c,n);return d.links?d.links():[]}return[]}));return yj(s.flat(1).filter(fj).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function n1(a,e,n,s,o,c){let d=(v,g)=>n[g]?v.route.id!==n[g].route.id:!0,p=(v,g)=>n[g].pathname!==v.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==v.params["*"];return c==="assets"?e.filter((v,g)=>d(v,g)||p(v,g)):c==="data"?e.filter((v,g)=>{let T=s.routes[v.route.id];if(!T||!T.hasLoader)return!1;if(d(v,g)||p(v,g))return!0;if(v.route.shouldRevalidate){let b=v.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function pj(a,e,{includeHydrateFallback:n}={}){return gj(a.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function gj(a){return[...new Set(a)]}function vj(a){let e={},n=Object.keys(a).sort();for(let s of n)e[s]=a[s];return e}function yj(a,e){let n=new Set;return new Set(e),a.reduce((s,o)=>{let c=JSON.stringify(vj(o));return n.has(c)||(n.add(c),s.push({key:c,link:o})),s},[])}function Jb(){let a=L.useContext(Fo);return qg(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function _j(){let a=L.useContext(kd);return qg(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Hg=L.createContext(void 0);Hg.displayName="FrameworkContext";function Zb(){let a=L.useContext(Hg);return qg(a,"You must render this element inside a <HydratedRouter> element"),a}function Ej(a,e){let n=L.useContext(Hg),[s,o]=L.useState(!1),[c,d]=L.useState(!1),{onFocus:p,onBlur:v,onMouseEnter:g,onMouseLeave:T,onTouchStart:b}=e,w=L.useRef(null);L.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let Q=$=>{$.forEach(ne=>{d(ne.isIntersecting)})},z=new IntersectionObserver(Q,{threshold:.5});return w.current&&z.observe(w.current),()=>{z.disconnect()}}},[a]),L.useEffect(()=>{if(s){let Q=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let x=()=>{o(!0)},O=()=>{o(!1),d(!1)};return n?a!=="intent"?[c,w,{}]:[c,w,{onFocus:ec(p,x),onBlur:ec(v,O),onMouseEnter:ec(g,x),onMouseLeave:ec(T,O),onTouchStart:ec(b,x)}]:[!1,w,{}]}function ec(a,e){return n=>{a&&a(n),n.defaultPrevented||e(n)}}function Tj({page:a,...e}){let{router:n}=Jb(),s=L.useMemo(()=>qb(n.routes,a,n.basename),[n.routes,a,n.basename]);return s?L.createElement(Sj,{page:a,matches:s,...e}):null}function bj(a){let{manifest:e,routeModules:n}=Zb(),[s,o]=L.useState([]);return L.useEffect(()=>{let c=!1;return mj(a,e,n).then(d=>{c||o(d)}),()=>{c=!0}},[a,e,n]),s}function Sj({page:a,matches:e,...n}){let s=Ni(),{manifest:o,routeModules:c}=Zb(),{basename:d}=Jb(),{loaderData:p,matches:v}=_j(),g=L.useMemo(()=>n1(a,e,v,o,s,"data"),[a,e,v,o,s]),T=L.useMemo(()=>n1(a,e,v,o,s,"assets"),[a,e,v,o,s]),b=L.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let O=new Set,Q=!1;if(e.forEach($=>{let ne=o.routes[$.route.id];!ne||!ne.hasLoader||(!g.some(se=>se.route.id===$.route.id)&&$.route.id in p&&c[$.route.id]?.shouldRevalidate||ne.hasClientLoader?Q=!0:O.add($.route.id))}),O.size===0)return[];let z=hj(a,d,"data");return Q&&O.size>0&&z.searchParams.set("_routes",e.filter($=>O.has($.route.id)).map($=>$.route.id).join(",")),[z.pathname+z.search]},[d,p,s,o,g,e,a,c]),w=L.useMemo(()=>pj(T,o),[T,o]),x=bj(T);return L.createElement(L.Fragment,null,b.map(O=>L.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),w.map(O=>L.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),x.map(({key:O,link:Q})=>L.createElement("link",{key:O,nonce:n.nonce,...Q})))}function wj(...a){return e=>{a.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Wb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Wb&&(window.__reactRouterVersion="7.9.6")}catch{}function Aj({basename:a,children:e,window:n}){let s=L.useRef();s.current==null&&(s.current=hD({window:n,v5Compat:!0}));let o=s.current,[c,d]=L.useState({action:o.action,location:o.location}),p=L.useCallback(v=>{L.startTransition(()=>d(v))},[d]);return L.useLayoutEffect(()=>o.listen(p),[o,p]),L.createElement(tj,{basename:a,children:e,location:c.location,navigationType:c.action,navigator:o})}var eS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tS=L.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:p,target:v,to:g,preventScrollReset:T,viewTransition:b,...w},x){let{basename:O}=L.useContext(ca),Q=typeof g=="string"&&eS.test(g),z,$=!1;if(typeof g=="string"&&Q&&(z=g,Wb))try{let I=new URL(window.location.href),C=g.startsWith("//")?new URL(I.protocol+g):new URL(g),V=xi(C.pathname,O);C.origin===I.origin&&V!=null?g=V+C.search+C.hash:$=!0}catch{Fn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=UD(g,{relative:o}),[se,_e,ge]=Ej(s,w),we=Nj(g,{replace:d,state:p,target:v,preventScrollReset:T,relative:o,viewTransition:b});function R(I){e&&e(I),I.defaultPrevented||we(I)}let N=L.createElement("a",{...w,...ge,href:z||ne,onClick:$||c?e:R,ref:wj(x,_e),target:v,"data-discover":!Q&&n==="render"?"true":void 0});return se&&!Q?L.createElement(L.Fragment,null,N,L.createElement(Tj,{page:ne})):N});tS.displayName="Link";var nS=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:p,children:v,...g},T){let b=Qc(d,{relative:g.relative}),w=Ni(),x=L.useContext(kd),{navigator:O,basename:Q}=L.useContext(ca),z=x!=null&&Oj(b)&&p===!0,$=O.encodeLocation?O.encodeLocation(b).pathname:b.pathname,ne=w.pathname,se=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),se=se?se.toLowerCase():null,$=$.toLowerCase()),se&&Q&&(se=xi(se,Q)||se);const _e=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ge=ne===$||!o&&ne.startsWith($)&&ne.charAt(_e)==="/",we=se!=null&&(se===$||!o&&se.startsWith($)&&se.charAt($.length)==="/"),R={isActive:ge,isPending:we,isTransitioning:z},N=ge?e:void 0,I;typeof s=="function"?I=s(R):I=[s,ge?"active":null,we?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let C=typeof c=="function"?c(R):c;return L.createElement(tS,{...g,"aria-current":N,className:I,ref:T,style:C,to:d,viewTransition:p},typeof v=="function"?v(R):v)});nS.displayName="NavLink";var xj=L.forwardRef(({discover:a="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:c,method:d=qh,action:p,onSubmit:v,relative:g,preventScrollReset:T,viewTransition:b,...w},x)=>{let O=Dj(),Q=jj(p,{relative:g}),z=d.toLowerCase()==="get"?"get":"post",$=typeof p=="string"&&eS.test(p),ne=se=>{if(v&&v(se),se.defaultPrevented)return;se.preventDefault();let _e=se.nativeEvent.submitter,ge=_e?.getAttribute("formmethod")||d;O(_e||se.currentTarget,{fetcherKey:e,method:ge,navigate:n,replace:o,state:c,relative:g,preventScrollReset:T,viewTransition:b})};return L.createElement("form",{ref:x,method:z,action:Q,onSubmit:s?v:ne,...w,"data-discover":!$&&a==="render"?"true":void 0})});xj.displayName="Form";function Rj(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aS(a){let e=L.useContext(Fo);return ut(e,Rj(a)),e}function Nj(a,{target:e,replace:n,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let p=Gc(),v=Ni(),g=Qc(a,{relative:c});return L.useCallback(T=>{if(oj(T,e)){T.preventDefault();let b=n!==void 0?n:Nc(v)===Nc(g);p(a,{replace:b,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[v,p,g,n,s,e,a,o,c,d])}var Cj=0,Ij=()=>`__${String(++Cj)}__`;function Dj(){let{router:a}=aS("useSubmit"),{basename:e}=L.useContext(ca),n=XD();return L.useCallback(async(s,o={})=>{let{action:c,method:d,encType:p,formData:v,body:g}=uj(s,e);if(o.navigate===!1){let T=o.fetcherKey||Ij();await a.fetch(T,n,o.action||c,{preventScrollReset:o.preventScrollReset,formData:v,body:g,formMethod:o.method||d,formEncType:o.encType||p,flushSync:o.flushSync})}else await a.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:v,body:g,formMethod:o.method||d,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,e,n])}function jj(a,{relative:e}={}){let{basename:n}=L.useContext(ca),s=L.useContext(Fa);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Qc(a||".",{relative:e})},d=Ni();if(a==null){c.search=d.search;let p=new URLSearchParams(c.search),v=p.getAll("index");if(v.some(T=>T==="")){p.delete("index"),v.filter(b=>b).forEach(b=>p.append("index",b));let T=p.toString();c.search=T?`?${T}`:""}}return(!a||a===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:_i([n,c.pathname])),Nc(c)}function Oj(a,{relative:e}={}){let n=L.useContext(Qb);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=aS("useViewTransitionState"),o=Qc(a,{relative:e});if(!n.isTransitioning)return!1;let c=xi(n.currentLocation.pathname,s)||n.currentLocation.pathname,d=xi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return dd(o.pathname,d)!=null||dd(o.pathname,c)!=null}const Ma={home:"/",login:"/login",register:"/register",dashboard:"/dashboard",premiosProdutividade:"/premios-produtividade",boletinsMedicao:"/boletins-medicao",documentacoes:"/documentacoes",cadernoVirtual:"/caderno-virtual",relatorios:"/relatorios"},Qo=()=>{const a=L.useContext(Bb);if(!a)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return a};function Mj({children:a}){const{user:e,loading:n}=Qo();return n?h.jsx("div",{children:"Carregando..."}):e?h.jsx(h.Fragment,{children:a}):h.jsx(ej,{to:Ma.login,replace:!0})}var iS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a1=cr.createContext&&cr.createContext(iS),Vj=["attr","size","title"];function Pj(a,e){if(a==null)return{};var n=Lj(a,e),s,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);for(o=0;o<c.length;o++)s=c[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(a,s)&&(n[s]=a[s])}return n}function Lj(a,e){if(a==null)return{};var n={};for(var s in a)if(Object.prototype.hasOwnProperty.call(a,s)){if(e.indexOf(s)>=0)continue;n[s]=a[s]}return n}function fd(){return fd=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(a[s]=n[s])}return a},fd.apply(this,arguments)}function i1(a,e){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),n.push.apply(n,s)}return n}function md(a){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i1(Object(n),!0).forEach(function(s){kj(a,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):i1(Object(n)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(n,s))})}return a}function kj(a,e,n){return e=Uj(e),e in a?Object.defineProperty(a,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[e]=n,a}function Uj(a){var e=zj(a,"string");return typeof e=="symbol"?e:e+""}function zj(a,e){if(typeof a!="object"||!a)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var s=n.call(a,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function sS(a){return a&&a.map((e,n)=>cr.createElement(e.tag,md({key:n},e.attr),sS(e.child)))}function qe(a){return e=>cr.createElement(Bj,fd({attr:md({},a.attr)},e),sS(a.child))}function Bj(a){var e=n=>{var{attr:s,size:o,title:c}=a,d=Pj(a,Vj),p=o||n.size||"1em",v;return n.className&&(v=n.className),a.className&&(v=(v?v+" ":"")+a.className),cr.createElement("svg",fd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,d,{className:v,style:md(md({color:a.color||n.color},n.style),a.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),c&&cr.createElement("title",null,c),a.children)};return a1!==void 0?cr.createElement(a1.Consumer,null,n=>e(n)):e(iS)}function rS(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"},child:[]}]})(a)}function qj(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"},child:[]}]})(a)}function zp(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"},child:[]}]})(a)}function Fh(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"},child:[]}]})(a)}function qa(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"},child:[]}]})(a)}function Hj(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"},child:[]}]})(a)}function Fj(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"},child:[]}]})(a)}function Gj(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"},child:[]}]})(a)}function s1(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"},child:[]}]})(a)}function Ei(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"},child:[]}]})(a)}function Qj(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"},child:[]}]})(a)}function r1(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm2 10a1 1 0 10-2 0v3a1 1 0 102 0v-3zm2-3a1 1 0 011 1v5a1 1 0 11-2 0v-5a1 1 0 011-1zm4-1a1 1 0 10-2 0v7a1 1 0 102 0V8z",clipRule:"evenodd"},child:[]}]})(a)}function Hn(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"},child:[]}]})(a)}function Bp(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(a)}function Ti(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"},child:[]}]})(a)}function Yj(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"},child:[]},{tag:"path",attr:{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"},child:[]}]})(a)}function Kj(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"},child:[]}]})(a)}function zd(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"},child:[]}]})(a)}function oS(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"},child:[]}]})(a)}function $j(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"},child:[]}]})(a)}function o1(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"},child:[]}]})(a)}function qp(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"},child:[]}]})(a)}function Xj(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"},child:[]}]})(a)}function lS(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"},child:[]},{tag:"path",attr:{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"},child:[]}]})(a)}function Jj(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"},child:[]}]})(a)}function Bd(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"},child:[]}]})(a)}function Cc(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"},child:[]}]})(a)}function Ic(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"},child:[]}]})(a)}function qd(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"},child:[]}]})(a)}function Dc(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"},child:[]}]})(a)}function Hp(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z",clipRule:"evenodd"},child:[]}]})(a)}function dr(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"},child:[]}]})(a)}function Zj(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"},child:[]}]})(a)}function _r(a){return qe({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(a)}const Wj=()=>{const a=Gc(),[e,n]=L.useState({email:"",password:""}),[s,o]=L.useState(!1),[c,d]=L.useState({}),{login:p,loading:v}=Qo(),g=x=>{const{name:O,value:Q}=x.target;n(z=>({...z,[O]:Q})),c[O]&&d(z=>({...z,[O]:void 0}))},T=()=>{const x={};return e.email?/\S+@\S+\.\S+/.test(e.email)||(x.email="E-mail invlido"):x.email="E-mail  obrigatrio",e.password?e.password.length<6&&(x.password="Senha deve ter no mnimo 6 caracteres"):x.password="Senha  obrigatria",d(x),Object.keys(x).length===0},b=()=>{n({email:"",password:""}),o(!1),d({email:void 0,password:void 0})},w=async x=>{if(x.preventDefault(),!!T())try{await p({email:e.email,password:e.password}),a("/dashboard"),b()}catch(O){console.error("Erro ao fazer login:",O),d({email:"Erro ao fazer login",password:"Erro ao fazer login"})}};return h.jsxs("div",{className:"login-container",children:[h.jsxs("div",{className:"login-background",children:[h.jsx("div",{className:"shape-1"}),h.jsx("div",{className:"shape-2"})]}),h.jsxs("div",{className:"login-card",children:[h.jsxs("div",{className:"login-header",children:[h.jsx("div",{className:"logo-container",children:h.jsx("div",{className:"logo-icon",children:h.jsx(dr,{})})}),h.jsx("h1",{children:"Bem-vindo de volta!"}),h.jsx("p",{children:"Acesse sua conta para continuar"})]}),h.jsxs("form",{className:"login-form",onSubmit:w,children:[h.jsxs("div",{className:"login-form-group",children:[h.jsx("label",{htmlFor:"email",children:"E-mail"}),h.jsxs("div",{className:"login-input-wrapper",children:[h.jsx(lS,{className:"login-input-icon"}),h.jsx("input",{type:"email",id:"email",name:"email",required:!0,placeholder:"seu.email@empresa.com",value:e.email,onChange:g,className:c.email?"error":""})]}),c.email&&h.jsx("span",{className:"login-error-message",children:c.email})]}),h.jsxs("div",{className:"login-form-group",children:[h.jsx("label",{htmlFor:"password",children:"Senha"}),h.jsxs("div",{className:"login-input-wrapper",children:[h.jsx(qp,{className:"login-input-icon"}),h.jsx("input",{type:"password",id:"password",name:"password",required:!0,placeholder:"",value:e.password,onChange:g,className:c.password?"error":""})]}),c.password&&h.jsx("span",{className:"login-error-message",children:c.password})]}),h.jsxs("div",{className:"login-form-options",children:[h.jsxs("label",{className:"login-checkbox-container",children:[h.jsx("input",{type:"checkbox",checked:s,onChange:x=>o(x.target.checked)}),h.jsx("span",{className:"login-checkmark"}),"Lembrar-me"]}),h.jsx("a",{href:"#",className:"login-forgot-password",children:"Esqueceu a senha?"})]}),h.jsx("button",{type:"submit",className:"login-btn-primary",disabled:v,children:v?"Entrando...":"Entrar"}),h.jsx("div",{className:"login-divider"}),h.jsx("button",{type:"button",className:"login-btn-secondary",onClick:()=>a("/register"),children:"Criar nova conta"}),h.jsx("div",{className:"login-footer",children:h.jsx("p",{children:" 2025 Sistema de Gesto RH. Todos os direitos reservados."})})]})]})]})},e4=()=>{const a=Gc(),{register:e,loading:n}=Qo(),[s,o]=L.useState({name:"",email:"",password:"",confirmPassword:""}),[c,d]=L.useState({}),[p,v]=L.useState(!1),g=x=>{const{name:O,value:Q,type:z}=x.target,$=z==="checkbox"?x.target.checked:!1;o(ne=>({...ne,[O]:z==="checkbox"?$:Q})),c[O]&&d(ne=>({...ne,[O]:void 0}))},T=()=>{const x={};return s.name.trim()?s.name.trim().length<3&&(x.name="Nome deve ter no mnimo 3 caracteres"):x.name="Nome completo  obrigatrio",s.email?/\S+@\S+\.\S+/.test(s.email)||(x.email="E-mail invlido"):x.email="E-mail  obrigatrio",s.password?s.password.length<8?x.password="Senha deve ter no mnimo 8 caracteres":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(s.password)||(x.password="Senha deve conter maisculas, minsculas e nmeros"):x.password="Senha  obrigatria",s.confirmPassword?s.password!==s.confirmPassword&&(x.confirmPassword="As senhas no coincidem"):x.confirmPassword="Confirmao de senha  obrigatria",d(x),Object.keys(x).length===0},b=()=>{o({name:"",email:"",password:"",confirmPassword:""}),d({})},w=async x=>{if(x.preventDefault(),!!T())try{await e({name:s.name,email:s.email,password:s.password,confirmPassword:s.confirmPassword}),a("/dashboard"),b()}catch(O){console.error("Erro ao registrar usurio:",O),d({name:"Erro ao registrar usurio",email:"Erro ao registrar usurio",password:"Erro ao registrar usurio",confirmPassword:"Erro ao registrar usurio"})}};return h.jsxs("div",{className:"register-container",children:[h.jsxs("div",{className:"register-background",children:[h.jsx("div",{className:"shape-1"}),h.jsx("div",{className:"shape-2"}),h.jsx("div",{className:"shape-3"})]}),h.jsxs("div",{className:"register-card",children:[h.jsxs("div",{className:"register-header",children:[h.jsx("div",{className:"logo-container",children:h.jsx("div",{className:"logo-icon",children:h.jsx(dr,{})})}),h.jsx("h1",{children:"Criar Nova Conta"}),h.jsx("p",{children:"Preencha seus dados para acessar a plataforma de gesto"})]}),h.jsxs("form",{className:"register-form",onSubmit:w,children:[h.jsxs("div",{className:"register-form-group",children:[h.jsx("label",{htmlFor:"name",children:"Nome Completo"}),h.jsxs("div",{className:"register-input-wrapper",children:[h.jsx(dr,{className:"register-input-icon"}),h.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:g,placeholder:"Joo Silva",className:c.name?"error":""})]}),c.name&&h.jsx("span",{className:"register-error-message",children:c.name})]}),h.jsxs("div",{className:"register-form-group",children:[h.jsx("label",{htmlFor:"email",children:"E-mail Corporativo"}),h.jsxs("div",{className:"register-input-wrapper",children:[h.jsx(lS,{className:"register-input-icon"}),h.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:g,placeholder:"joao.silva@empresa.com",className:c.email?"error":""})]}),c.email&&h.jsx("span",{className:"register-error-message",children:c.email})]}),h.jsxs("div",{className:"register-form-group",children:[h.jsx("label",{htmlFor:"password",children:"Senha"}),h.jsxs("div",{className:"register-input-wrapper",children:[h.jsx(qp,{className:"register-input-icon"}),h.jsx("input",{type:p?"text":"password",id:"password",name:"password",value:s.password,onChange:g,placeholder:"Mnimo 8 caracteres",className:c.password?"error":""}),h.jsx("button",{type:"button",className:"register-toggle-password",onClick:()=>v(!p),children:p?h.jsx(Yj,{}):h.jsx(Kj,{})})]}),c.password&&h.jsx("span",{className:"register-error-message",children:c.password})]}),h.jsxs("div",{className:"register-form-group",children:[h.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Senha"}),h.jsxs("div",{className:"register-input-wrapper",children:[h.jsx(qp,{className:"register-input-icon"}),h.jsx("input",{type:p?"text":"password",id:"confirmPassword",name:"confirmPassword",value:s.confirmPassword,onChange:g,placeholder:"Digite a senha novamente",className:c.confirmPassword?"error":""})]}),c.confirmPassword&&h.jsx("span",{className:"register-error-message",children:c.confirmPassword})]}),h.jsx("div",{className:"register-form-group register-checkbox-group",children:h.jsxs("label",{className:"register-checkbox-container",children:[h.jsx("input",{type:"checkbox",name:"termsAccepted",onChange:g}),h.jsx("span",{className:"register-checkmark"}),h.jsx("span",{className:"register-checkbox-label",children:"Eu aceito os termos de uso e a poltica de privacidade"})]})}),h.jsx("button",{type:"submit",className:"register-btn-primary",disabled:n,children:n?"Criando conta...":"Criar Conta"}),h.jsx("div",{className:"register-divider",children:h.jsx("span",{children:"ou"})}),h.jsx("button",{type:"button",className:"register-btn-secondary",onClick:()=>a("/login"),children:"J tenho uma conta"})]}),h.jsx("div",{className:"register-footer",children:h.jsx("p",{children:" 2025 Sistema de Gesto RH. Todos os direitos reservados."})})]})]})},t4=({collapsed:a,onToggle:e})=>{const n=[{path:"/dashboard",icon:$j,label:"Dashboard"},{path:"/premios-produtividade",icon:Hp,label:"Prmio de Produtividade"},{path:"/boletins-medicao",icon:Hn,label:"Boletins de Medio"},{path:"/documentacoes",icon:oS,label:"Documentaes e Integraes"},{path:"/caderno-virtual",icon:qj,label:"Caderno Virtual"},{path:"/relatorios",icon:Fh,label:"Relatrios"}];return h.jsxs("aside",{className:`sidebar ${a?"collapsed":""}`,children:[h.jsx("div",{className:"sidebar-header",children:h.jsxs("div",{className:"sidebar-logo",children:[h.jsx("div",{className:"logo-icon",children:"RH"}),!a&&h.jsx("span",{className:"logo-text",children:"Sistema RH"})]})}),h.jsx("nav",{className:"sidebar-nav",children:h.jsx("ul",{className:"nav-list",children:n.map(s=>{const o=s.icon;return h.jsx("li",{className:"nav-item",children:h.jsxs(nS,{to:s.path,className:({isActive:c})=>`nav-link ${c?"active":""}`,children:[h.jsx(o,{className:"nav-icon"}),!a&&h.jsx("span",{className:"nav-label",children:s.label})]})},s.path)})})}),h.jsx("button",{className:"sidebar-toggle",onClick:e,"aria-label":"Toggle sidebar",children:a?h.jsx(Fj,{}):h.jsx(Hj,{})})]})},n4=({onMenuClick:a,collapsed:e=!1})=>{const{user:n,logOut:s}=Qo(),o=Gc(),[c,d]=L.useState(!1),[p,v]=L.useState(!1),g=async()=>{try{await s(),o("/login")}catch(T){console.error("Erro ao fazer logout:",T)}};return h.jsxs("header",{className:`header ${e?"sidebar-collapsed":""}`,children:[h.jsxs("div",{className:"header-left",children:[h.jsx("button",{className:"menu-toggle",onClick:a,"aria-label":"Toggle menu",children:h.jsx(Jj,{})}),h.jsx("h1",{className:"header-title",children:"Sistema de Gesto RH"})]}),h.jsx("div",{className:"header-right",children:h.jsxs("div",{className:"header-actions",children:[h.jsxs("div",{className:"notification-container",children:[h.jsxs("button",{className:"icon-button",onClick:()=>v(!p),"aria-label":"Notificaes",children:[h.jsx(rS,{}),h.jsx("span",{className:"notification-badge",children:"3"})]}),p&&h.jsxs("div",{className:"dropdown-menu notifications-menu",children:[h.jsxs("div",{className:"dropdown-header",children:[h.jsx("h3",{children:"Notificaes"}),h.jsx("button",{className:"mark-read",children:"Marcar todas como lidas"})]}),h.jsxs("ul",{className:"notification-list",children:[h.jsx("li",{className:"notification-item unread",children:h.jsxs("div",{className:"notification-content",children:[h.jsx("p",{className:"notification-title",children:"Novo boletim de medio"}),h.jsx("p",{className:"notification-text",children:"Boletim de outubro foi adicionado"}),h.jsx("span",{className:"notification-time",children:"H 2 horas"})]})}),h.jsx("li",{className:"notification-item unread",children:h.jsxs("div",{className:"notification-content",children:[h.jsx("p",{className:"notification-title",children:"Documentao vencendo"}),h.jsx("p",{className:"notification-text",children:"3 documentos vencem em 5 dias"}),h.jsx("span",{className:"notification-time",children:"H 5 horas"})]})}),h.jsx("li",{className:"notification-item unread",children:h.jsxs("div",{className:"notification-content",children:[h.jsx("p",{className:"notification-title",children:"Relatrio disponvel"}),h.jsx("p",{className:"notification-text",children:"Relatrio mensal foi gerado"}),h.jsx("span",{className:"notification-time",children:"Ontem"})]})})]}),h.jsx("div",{className:"dropdown-footer",children:h.jsx("button",{className:"view-all",children:"Ver todas as notificaes"})})]})]}),h.jsxs("div",{className:"user-container",children:[h.jsxs("button",{className:"user-button",onClick:()=>d(!c),"aria-label":"Menu do usurio",children:[h.jsx("div",{className:"user-avatar",children:h.jsx(dr,{})}),h.jsxs("div",{className:"user-info",children:[h.jsx("span",{className:"user-name",children:n?.name||"Usurio"}),h.jsx("span",{className:"user-role",children:n?.role==="admin"?"Administrador":"Colaborador"})]})]}),c&&h.jsxs("div",{className:"dropdown-menu user-menu",children:[h.jsxs("div",{className:"user-menu-header",children:[h.jsx("div",{className:"user-avatar-large",children:h.jsx(dr,{})}),h.jsxs("div",{className:"user-details",children:[h.jsx("p",{className:"user-name-large",children:n?.name||"Usurio"}),h.jsx("p",{className:"user-email",children:n?.email||"email@empresa.com"})]})]}),h.jsxs("ul",{className:"menu-list",children:[h.jsx("li",{children:h.jsxs("button",{className:"menu-item",onClick:()=>o("/perfil"),children:[h.jsx(dr,{}),h.jsx("span",{children:"Meu Perfil"})]})}),h.jsx("li",{children:h.jsxs("button",{className:"menu-item",onClick:()=>o("/configuracoes"),children:[h.jsx(Qj,{}),h.jsx("span",{children:"Configuraes"})]})}),h.jsx("li",{className:"menu-divider"}),h.jsx("li",{children:h.jsxs("button",{className:"menu-item logout",onClick:g,children:[h.jsx(Xj,{}),h.jsx("span",{children:"Sair"})]})})]})]})]})]})}),(c||p)&&h.jsx("div",{className:"overlay",onClick:()=>{d(!1),v(!1)}})]})},Yo=({children:a})=>{const[e,n]=L.useState(!1),s=Ni(),o=()=>{n(!e)};return L.useEffect(()=>{window.scrollTo(0,0)},[s.pathname]),L.useEffect(()=>{const c=()=>{window.innerWidth<=768&&n(!0)};return c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),h.jsxs("div",{className:"layout",children:[h.jsx(t4,{collapsed:e,onToggle:o}),h.jsxs("div",{className:`layout-main ${e?"sidebar-collapsed":""}`,children:[h.jsx(n4,{onMenuClick:o,collapsed:e}),h.jsx("main",{className:"layout-content",children:h.jsx("div",{className:"content-wrapper",children:a})})]})]})},l1=()=>{const[a,e]=L.useState([{id:"1",type:"alert",title:"Integrao com sistema externo falhou",message:"A sincronizao com o sistema de folha de pagamento no foi concluda hoje s 08:30",time:"H 2 horas",category:"integracao",read:!1},{id:"2",type:"warning",title:"Documentos prximos do vencimento",message:"5 documentos vencem nos prximos 7 dias. Ao necessria.",time:"H 3 horas",category:"documentacao",read:!1},{id:"3",type:"success",title:"Novo prmio de produtividade disponvel",message:"Prmio do ms de outubro foi calculado e est disponvel para visualizao",time:"H 5 horas",category:"premio",read:!1},{id:"4",type:"info",title:"Boletim de medio adicionado",message:"Boletim de medio de outubro/2024 foi adicionado ao sistema",time:"Hoje s 09:15",category:"boletim",read:!1},{id:"5",type:"alert",title:"Falha na integrao de dados",message:"Erro ao sincronizar dados de colaboradores. Tentar novamente?",time:"Ontem s 16:45",category:"integracao",read:!0},{id:"6",type:"success",title:"Todos os documentos em dia",message:"Nenhum documento com pendncia no momento",time:"Hoje s 08:00",category:"documentacao",read:!0}]),n={colaboradores:248,documentosPendentes:12,boletinsMes:8,premiosAtivos:5,integracoesAtivas:6,integracoesComErro:2},s=g=>{e(T=>T.map(b=>b.id===g?{...b,read:!0}:b))},o=g=>{e(T=>T.filter(b=>b.id!==g))},c=g=>{switch(g){case"alert":return h.jsx(Ti,{className:"icon-alert"});case"warning":return h.jsx(Ti,{className:"icon-warning"});case"success":return h.jsx(qa,{className:"icon-success"});case"info":return h.jsx(Ei,{className:"icon-info"});default:return h.jsx(Ei,{className:"icon-info"})}},d=g=>{switch(g){case"integracao":return"Integrao";case"premio":return"Prmio";case"boletim":return"Boletim";case"documentacao":return"Documentao";default:return"Geral"}},p=a.filter(g=>!g.read).length,v=a.filter(g=>g.time.includes("Hoje"));return h.jsx(Yo,{children:h.jsxs("div",{className:"dashboard",children:[h.jsxs("div",{className:"dashboard-header",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"dashboard-title",children:"Dashboard"}),h.jsx("p",{className:"dashboard-subtitle",children:"Resumo dirio do sistema de gesto RH"})]}),h.jsx("div",{className:"dashboard-date",children:new Date().toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),h.jsxs("div",{className:"stats-grid",children:[h.jsxs("div",{className:"stat-card",children:[h.jsx("div",{className:"stat-icon stat-icon-blue",children:h.jsx(Zj,{})}),h.jsxs("div",{className:"stat-content",children:[h.jsx("h3",{className:"stat-label",children:"Total de Colaboradores"}),h.jsx("p",{className:"stat-value",children:n.colaboradores})]})]}),h.jsxs("div",{className:"stat-card",children:[h.jsx("div",{className:"stat-icon stat-icon-orange",children:h.jsx(Hn,{})}),h.jsxs("div",{className:"stat-content",children:[h.jsx("h3",{className:"stat-label",children:"Documentos Pendentes"}),h.jsx("p",{className:"stat-value stat-value-warning",children:n.documentosPendentes})]})]}),h.jsxs("div",{className:"stat-card",children:[h.jsx("div",{className:"stat-icon stat-icon-green",children:h.jsx(s1,{})}),h.jsxs("div",{className:"stat-content",children:[h.jsx("h3",{className:"stat-label",children:"Boletins do Ms"}),h.jsx("p",{className:"stat-value stat-value-success",children:n.boletinsMes})]})]}),h.jsxs("div",{className:"stat-card",children:[h.jsx("div",{className:"stat-icon stat-icon-purple",children:h.jsx(Hp,{})}),h.jsxs("div",{className:"stat-content",children:[h.jsx("h3",{className:"stat-label",children:"Prmios Ativos"}),h.jsx("p",{className:"stat-value stat-value-purple",children:n.premiosAtivos})]})]}),h.jsxs("div",{className:"stat-card",children:[h.jsx("div",{className:"stat-icon stat-icon-teal",children:h.jsx(o1,{})}),h.jsxs("div",{className:"stat-content",children:[h.jsx("h3",{className:"stat-label",children:"Integraes Ativas"}),h.jsx("p",{className:"stat-value stat-value-teal",children:n.integracoesAtivas})]})]}),h.jsxs("div",{className:"stat-card",children:[h.jsx("div",{className:"stat-icon stat-icon-red",children:h.jsx(Ti,{})}),h.jsxs("div",{className:"stat-content",children:[h.jsx("h3",{className:"stat-label",children:"Integraes com Erro"}),h.jsx("p",{className:"stat-value stat-value-danger",children:n.integracoesComErro})]})]})]}),h.jsxs("div",{className:"dashboard-content",children:[h.jsxs("div",{className:"notifications-section",children:[h.jsxs("div",{className:"section-header",children:[h.jsx("h2",{className:"section-title",children:"Notificaes e Alertas do Dia"}),h.jsxs("div",{className:"section-badge",children:[p," no lidas"]})]}),h.jsx("div",{className:"notifications-list",children:v.length>0?v.map(g=>h.jsxs("div",{className:`notification-card ${g.type} ${g.read?"":"unread"}`,children:[h.jsx("div",{className:"notification-icon",children:c(g.type)}),h.jsxs("div",{className:"notification-content",children:[h.jsxs("div",{className:"notification-header",children:[h.jsx("h3",{className:"notification-title",children:g.title}),h.jsxs("div",{className:"notification-actions",children:[!g.read&&h.jsx("button",{className:"notification-action",onClick:()=>s(g.id),title:"Marcar como lida",children:h.jsx(qa,{})}),h.jsx("button",{className:"notification-action",onClick:()=>o(g.id),title:"Remover",children:h.jsx(_r,{})})]})]}),h.jsx("p",{className:"notification-message",children:g.message}),h.jsxs("div",{className:"notification-footer",children:[h.jsx("span",{className:"notification-category",children:d(g.category)}),h.jsx("span",{className:"notification-time",children:g.time})]})]})]},g.id)):h.jsxs("div",{className:"empty-state",children:[h.jsx(qa,{className:"empty-icon"}),h.jsx("p",{children:"Nenhuma notificao para hoje"})]})})]}),h.jsxs("div",{className:"alerts-section",children:[h.jsx("div",{className:"section-header",children:h.jsx("h2",{className:"section-title",children:"Alertas Recentes"})}),h.jsx("div",{className:"alerts-list",children:a.filter(g=>g.type==="alert"||g.type==="warning").slice(0,3).map(g=>h.jsxs("div",{className:`alert-card ${g.type} ${g.read?"":"unread"}`,children:[h.jsx("div",{className:"alert-icon",children:c(g.type)}),h.jsxs("div",{className:"alert-content",children:[h.jsx("h3",{className:"alert-title",children:g.title}),h.jsx("p",{className:"alert-message",children:g.message}),h.jsxs("div",{className:"alert-footer",children:[h.jsx("span",{className:"alert-category",children:d(g.category)}),h.jsx("span",{className:"alert-time",children:g.time})]})]})]},g.id))})]})]}),h.jsxs("div",{className:"quick-actions",children:[h.jsx("h2",{className:"section-title",children:"Aes Rpidas"}),h.jsxs("div",{className:"actions-grid",children:[h.jsxs("button",{className:"action-button",children:[h.jsx(oS,{}),h.jsx("span",{children:"Ver Documentaes"})]}),h.jsxs("button",{className:"action-button",children:[h.jsx(Hp,{}),h.jsx("span",{children:"Ver Prmios"})]}),h.jsxs("button",{className:"action-button",children:[h.jsx(s1,{}),h.jsx("span",{children:"Ver Boletins"})]}),h.jsxs("button",{className:"action-button",children:[h.jsx(o1,{}),h.jsx("span",{children:"Gerenciar Integraes"})]})]})]})]})})},hi=Sr(sa,"premiosProdutividade"),tc=a=>{const e=a.data();return{id:a.id,colaboradorId:e.colaboradorId,colaboradorNome:e.colaboradorNome,cpf:e.cpf,cargo:e.cargo,setor:e.setor,valor:e.valor,dataPremio:e.dataPremio?e.dataPremio.toDate():new Date(e.criadoEm?.toDate?.()??Date.now()),motivo:e.motivo,status:e.status,mesReferencia:e.mesReferencia,anoReferencia:e.anoReferencia,criadoEm:e.criadoEm?e.criadoEm.toDate():new Date,atualizadoEm:e.atualizadoEm?e.atualizadoEm.toDate():new Date,aprovadoPor:e.aprovadoPor,observacoes:e.observacoes}},a4=a=>{const e=[];return a?.ano&&e.push(at("anoReferencia","==",a.ano)),a?.mes&&e.push(at("mesReferencia","==",a.mes)),a?.status&&e.push(at("status","==",a.status)),a?.colaboradorNome&&e.push(at("colaboradorNomeSearch","array-contains",a.colaboradorNome.toLowerCase())),e.push(vi("dataPremio","desc")),aa(hi,...e)},di={async list(a){const e=a4(a);return(await on(e)).docs.map(tc)},async create(a){const e={...a,valor:Number(a.valor),mesReferencia:a.dataPremio.getMonth()+1,anoReferencia:a.dataPremio.getFullYear(),dataPremio:fe.fromDate(a.dataPremio),status:a.status,colaboradorNomeSearch:a.colaboradorNome.toLowerCase().split(" ").filter(Boolean),criadoEm:fe.now(),atualizadoEm:fe.now()};return(await sd(hi,e)).id},async update(a,e){const n=$t(hi,a),s={...e,atualizadoEm:fe.now()};e.dataPremio&&(s.dataPremio=fe.fromDate(e.dataPremio),s.mesReferencia=e.dataPremio.getMonth()+1,s.anoReferencia=e.dataPremio.getFullYear()),e.colaboradorNome&&(s.colaboradorNomeSearch=e.colaboradorNome.toLowerCase().split(" ").filter(Boolean)),await hr(n,s)},async updateStatus(a,e,n){const s=$t(hi,a);await hr(s,{status:e,aprovadoPor:n||null,atualizadoEm:fe.now()})},async delete(a){const e=$t(hi,a);await id(e)},async getHistoricoByColaborador(a){const e=aa(hi,at("colaboradorId","==",a),vi("dataPremio","desc"));return(await on(e)).docs.map(tc)},async getStats(a,e){const n=aa(hi,at("anoReferencia","==",a),at("mesReferencia","==",e)),o=(await on(n)).docs.map(tc),c=o.reduce((g,T)=>g+T.valor,0),d=o.filter(g=>g.status==="Pendente").reduce((g,T)=>g+T.valor,0),p=o.filter(g=>g.status==="Em reviso").reduce((g,T)=>g+T.valor,0),v=o.filter(g=>g.status==="Aprovado").reduce((g,T)=>g+T.valor,0);return{totalPremiado:c,pendente:d,emRevisao:p,aprovados:v}},async gerarRelatorioMensal(a,e){const n=aa(hi,at("anoReferencia","==",a),at("mesReferencia","==",e)),o=(await on(n)).docs.map(tc),c=o.filter(v=>v.status==="Aprovado").reduce((v,g)=>v+g.valor,0),d=o.filter(v=>v.status==="Pendente").reduce((v,g)=>v+g.valor,0),p=o.filter(v=>v.status==="Em reviso").reduce((v,g)=>v+g.valor,0);return{mes:e,ano:a,totalRegistros:o.length,totalPago:c,totalPendente:d,totalEmRevisao:p}},async exportarRelatorioCSV(a,e){const n=aa(hi,at("anoReferencia","==",a),at("mesReferencia","==",e),vi("dataPremio","desc")),o=(await on(n)).docs.map(tc),c=["Colaborador","CPF","Cargo","Setor","Valor","Data","Motivo","Status"],d=o.map(v=>[v.colaboradorNome,v.cpf,v.cargo,v.setor,v.valor.toFixed(2).replace(".",","),v.dataPremio.toLocaleDateString("pt-BR"),v.motivo.replace(/(\r\n|\n|\r)/gm," "),v.status]),p=[c,...d].map(v=>v.map(g=>`"${String(g).replace(/"/g,'""')}"`).join(";")).join(`
`);return new Blob([p],{type:"text/csv;charset=utf-8;"})}},pi=[{id:"colab-001",nome:"Maria Fernanda Alvarez",cpf:"123.456.789-00",cargo:"Analista de Produtividade",setor:"Operaes",email:"maria.alvarez@empresa.com",admissao:new Date("2020-03-15")}],i4=()=>{if(typeof window<"u"&&window.crypto?.randomUUID)return window.crypto.randomUUID();if(typeof globalThis<"u"&&"crypto"in globalThis){const a=globalThis.crypto;if(a?.randomUUID)return a.randomUUID()}return`premio-${Date.now()}-${Math.random().toString(36).slice(2,9)}`},c1=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],cS=["Pendente","Em reviso","Aprovado"],s4=()=>{const a=new Date,[e,n]=L.useState([]),[s,o]=L.useState([]),[c,d]=L.useState(pi[0]?.id??""),[p,v]=L.useState({mes:a.getMonth()+1,ano:a.getFullYear()}),[g,T]=L.useState({totalPremiado:0,pendente:0,emRevisao:0,aprovados:0}),[b,w]=L.useState(!1),[x,O]=L.useState(null),[Q,z]=L.useState(!0),[$,ne]=L.useState(!1),[se,_e]=L.useState(!1),[ge,we]=L.useState(null),R=L.useCallback(async()=>{try{z(!0);const ee=await di.list(p);n(ee)}catch(ee){console.error("Erro ao carregar prmios:",ee),alert("No foi possvel carregar os prmios de produtividade.")}finally{z(!1)}},[p]);L.useEffect(()=>{R()},[R]),L.useEffect(()=>{p.ano&&p.mes&&I(p.ano,p.mes)},[p.ano,p.mes]),L.useEffect(()=>{c&&N(c)},[c]);const N=async ee=>{try{const de=await di.getHistoricoByColaborador(ee);o(de)}catch(de){console.error("Erro ao carregar histrico:",de)}},I=async(ee,de)=>{try{const M=await di.getStats(ee,de);T(M)}catch(M){console.error("Erro ao carregar estatsticas:",M)}},C=(ee,de)=>{v(M=>({...M,[ee]:de===""||de===null?void 0:de}))},V=async(ee,de)=>{try{await di.updateStatus(ee,de,"admin"),await R(),c&&await N(c),p.ano&&p.mes&&await I(p.ano,p.mes)}catch(M){console.error("Erro ao atualizar status:",M),alert("Falha ao atualizar status do prmio.")}},k=async ee=>{if(window.confirm("Deseja remover este prmio?"))try{await di.delete(ee),await R(),c&&await N(c),p.ano&&p.mes&&await I(p.ano,p.mes)}catch(de){console.error("Erro ao excluir prmio:",de),alert("No foi possvel remover o prmio.")}},D=async()=>{if(!(!p.ano||!p.mes))try{ne(!0);const ee=await di.gerarRelatorioMensal(p.ano,p.mes);we({...ee,totalPago:ee.totalPago}),alert("Relatrio mensal gerado com sucesso!")}catch(ee){console.error("Erro ao gerar relatrio:",ee),alert("No foi possvel gerar o relatrio.")}finally{ne(!1)}},Ke=async()=>{if(!(!p.ano||!p.mes))try{_e(!0);const ee=await di.exportarRelatorioCSV(p.ano,p.mes),de=URL.createObjectURL(ee),M=document.createElement("a");M.href=de,M.download=`premios_produtividade_${p.ano}_${String(p.mes).padStart(2,"0")}.csv`,M.click(),URL.revokeObjectURL(de)}catch(ee){console.error("Erro ao exportar relatrio:",ee),alert("No foi possvel exportar a planilha.")}finally{_e(!1)}},ht=L.useMemo(()=>{const ee=e.reduce((de,M)=>(de[M.colaboradorId]||(de[M.colaboradorId]={nome:M.colaboradorNome}),de),{});return[...pi.map(de=>({id:de.id,nome:de.nome})),...Object.entries(ee).map(([de,M])=>({id:de,nome:M.nome}))].filter((de,M,Z)=>M===Z.findIndex(q=>q.id===de.id))},[e]),X=ee=>{switch(ee){case"Pendente":return"pendente";case"Em reviso":return"em-revisao";case"Aprovado":return"aprovado";default:return""}},re=ee=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ee),pe=ee=>new Intl.DateTimeFormat("pt-BR").format(ee);return h.jsx(Yo,{children:h.jsxs("div",{className:"premios-container",children:[h.jsxs("div",{className:"premios-header",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"premios-title",children:"Prmio de Produtividade"}),h.jsx("p",{className:"premios-subtitle",children:"Cadastre, aprove e acompanhe o histrico de prmios por colaborador"})]}),h.jsxs("div",{className:"premios-header-actions",children:[h.jsxs("button",{className:"premios-secondary-btn",onClick:D,disabled:$,children:[h.jsx(Gj,{}),$?"Gerando...":"Relatrio mensal"]}),h.jsxs("button",{className:"premios-secondary-btn",onClick:Ke,disabled:se,children:[h.jsx(Bp,{}),se?"Exportando...":"Exportar planilha"]}),h.jsxs("button",{className:"premios-primary-btn",onClick:()=>{O(null),w(!0)},children:[h.jsx(Ic,{}),"Novo prmio"]})]})]}),h.jsxs("div",{className:"premios-stats",children:[h.jsxs("div",{className:"premios-stat-card",children:[h.jsx("div",{className:"premios-stat-icon verde",children:h.jsx(qa,{})}),h.jsxs("div",{children:[h.jsx("p",{children:"Total aprovado"}),h.jsx("strong",{children:re(g.aprovados)})]})]}),h.jsxs("div",{className:"premios-stat-card",children:[h.jsx("div",{className:"premios-stat-icon amarelo",children:h.jsx(Ei,{})}),h.jsxs("div",{children:[h.jsx("p",{children:"Pendentes"}),h.jsx("strong",{children:re(g.pendente)})]})]}),h.jsxs("div",{className:"premios-stat-card",children:[h.jsx("div",{className:"premios-stat-icon roxo",children:h.jsx(Ti,{})}),h.jsxs("div",{children:[h.jsx("p",{children:"Em reviso"}),h.jsx("strong",{children:re(g.emRevisao)})]})]}),h.jsxs("div",{className:"premios-stat-card",children:[h.jsx("div",{className:"premios-stat-icon azul",children:h.jsx(qa,{})}),h.jsxs("div",{children:[h.jsx("p",{children:"Total ms"}),h.jsx("strong",{children:re(g.totalPremiado)})]})]})]}),h.jsxs("div",{className:"premios-filtros",children:[h.jsxs("div",{className:"premios-filtros-header",children:[h.jsxs("button",{className:"premios-filter-btn",children:[h.jsx(zd,{}),"Filtros"]}),h.jsxs("div",{className:"premios-search",children:[h.jsx(qd,{}),h.jsx("input",{type:"text",placeholder:"Buscar colaborador...",value:p.colaboradorNome||"",onChange:ee=>C("colaboradorNome",ee.target.value)})]})]}),h.jsxs("div",{className:"premios-filtros-grid",children:[h.jsxs("div",{className:"premios-filter-group",children:[h.jsx("label",{children:"Ms"}),h.jsx("select",{value:p.mes||"",onChange:ee=>C("mes",ee.target.value?Number(ee.target.value):void 0),children:c1.map((ee,de)=>h.jsx("option",{value:de+1,children:ee},ee))})]}),h.jsxs("div",{className:"premios-filter-group",children:[h.jsx("label",{children:"Ano"}),h.jsx("select",{value:p.ano||"",onChange:ee=>C("ano",ee.target.value?Number(ee.target.value):void 0),children:Array.from({length:5},(ee,de)=>a.getFullYear()-de).map(ee=>h.jsx("option",{value:ee,children:ee},ee))})]}),h.jsxs("div",{className:"premios-filter-group",children:[h.jsx("label",{children:"Status"}),h.jsxs("select",{value:p.status||"",onChange:ee=>C("status",ee.target.value?ee.target.value:void 0),children:[h.jsx("option",{value:"",children:"Todos"}),cS.map(ee=>h.jsx("option",{value:ee,children:ee},ee))]})]})]})]}),h.jsxs("div",{className:"premios-content",children:[h.jsx("div",{className:"premios-table-wrapper",children:Q?h.jsx("div",{className:"premios-loading",children:"Carregando prmios..."}):e.length===0?h.jsx("div",{className:"premios-empty",children:h.jsx("p",{children:"Nenhum prmio encontrado."})}):h.jsxs("table",{className:"premios-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Colaborador"}),h.jsx("th",{children:"Setor"}),h.jsx("th",{children:"Valor"}),h.jsx("th",{children:"Data"}),h.jsx("th",{children:"Status"}),h.jsx("th",{children:"Aes"})]})}),h.jsx("tbody",{children:e.map(ee=>h.jsxs("tr",{children:[h.jsx("td",{children:h.jsxs("div",{className:"premios-colaborador",children:[h.jsx("strong",{children:ee.colaboradorNome}),h.jsx("span",{children:ee.cargo})]})}),h.jsx("td",{children:ee.setor}),h.jsx("td",{children:re(ee.valor)}),h.jsx("td",{children:pe(ee.dataPremio)}),h.jsx("td",{children:h.jsx("span",{className:`premios-status-badge ${X(ee.status)}`,children:ee.status})}),h.jsx("td",{children:h.jsxs("div",{className:"premios-actions",children:[h.jsx("button",{className:"premios-action-btn",title:"Editar",onClick:()=>{O(ee),w(!0)},children:h.jsx(Cc,{})}),h.jsx("button",{className:"premios-action-btn danger",title:"Excluir",onClick:()=>k(ee.id),children:h.jsx(Dc,{})}),ee.status!=="Aprovado"&&h.jsx("button",{className:"premios-action-btn success",title:"Aprovar",onClick:()=>V(ee.id,"Aprovado"),children:h.jsx(qa,{})}),ee.status!=="Em reviso"&&h.jsx("button",{className:"premios-action-btn warning",title:"Enviar para reviso",onClick:()=>V(ee.id,"Em reviso"),children:h.jsx(Ti,{})})]})})]},ee.id))})]})}),h.jsxs("div",{className:"premios-historico",children:[h.jsx("h3",{children:"Histrico por colaborador"}),h.jsx("select",{value:c,onChange:ee=>d(ee.target.value),children:ht.map(ee=>h.jsx("option",{value:ee.id,children:ee.nome},ee.id))}),h.jsx("div",{className:"premios-historico-list",children:s.length===0?h.jsx("p",{children:"Nenhum registro para este colaborador."}):s.map(ee=>h.jsxs("div",{className:"premios-historico-item",children:[h.jsxs("div",{children:[h.jsx("strong",{children:re(ee.valor)}),h.jsx("span",{children:pe(ee.dataPremio)})]}),h.jsx("span",{className:`premios-status-badge ${X(ee.status)}`,children:ee.status})]},ee.id))}),ge&&h.jsxs("div",{className:"premios-report-summary",children:[h.jsx("h4",{children:"ltimo relatrio gerado"}),h.jsxs("p",{children:[c1[ge.mes-1]," / ",ge.ano," "," ",ge.totalRegistros," registros"]}),h.jsxs("strong",{children:["Total Pago: ",re(ge.totalPago)]})]})]})]}),b&&h.jsx(r4,{premio:x,onClose:()=>{w(!1),O(null)},onSuccess:async()=>{w(!1),O(null),await R(),c&&await N(c),p.ano&&p.mes&&await I(p.ano,p.mes)}})]})})},r4=({premio:a,onClose:e,onSuccess:n})=>{const s=a?null:pi.length>0?pi[0]:null,[o,c]=L.useState({colaboradorId:a?.colaboradorId||s?.id||"",colaboradorNome:a?.colaboradorNome||s?.nome||"",cpf:a?.cpf||s?.cpf||"",cargo:a?.cargo||s?.cargo||"",setor:a?.setor||s?.setor||"",valor:a?.valor||0,dataPremio:a?.dataPremio?new Date(a.dataPremio).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],motivo:a?.motivo||"",status:a?.status||"Pendente",observacoes:a?.observacoes||""}),[d,p]=L.useState(a?.colaboradorId||s?.id||""),[v,g]=L.useState(!1),T=x=>{p(x);const O=pi.find(Q=>Q.id===x);O&&c(Q=>({...Q,colaboradorId:O.id,colaboradorNome:O.nome,cpf:O.cpf,cargo:O.cargo,setor:O.setor}))},b=x=>{const{name:O,value:Q}=x.target;c(z=>({...z,[O]:O==="valor"?Number(Q):Q}))},w=async x=>{x.preventDefault(),g(!0);try{const O={colaboradorId:o.colaboradorId||i4(),colaboradorNome:o.colaboradorNome,cpf:o.cpf,cargo:o.cargo,setor:o.setor,valor:o.valor,dataPremio:new Date(o.dataPremio),motivo:o.motivo,status:o.status,observacoes:o.observacoes};a?await di.update(a.id,O):await di.create(O),n()}catch(O){console.error("Erro ao salvar prmio:",O),alert("No foi possvel salvar o prmio.")}finally{g(!1)}};return h.jsx("div",{className:"premios-modal-overlay",onClick:e,children:h.jsxs("div",{className:"premios-modal",onClick:x=>x.stopPropagation(),children:[h.jsxs("div",{className:"premios-modal-header",children:[h.jsx("h2",{children:a?"Editar prmio":"Novo prmio de produtividade"}),h.jsx("button",{onClick:e,children:""})]}),h.jsxs("form",{className:"premios-modal-form",onSubmit:w,children:[h.jsxs("div",{className:"premios-modal-section",children:[h.jsxs("div",{className:"premios-modal-row",children:[h.jsxs("div",{className:"premios-modal-group",children:[h.jsx("label",{children:"Colaborador (mock)"}),h.jsxs("select",{value:d,onChange:x=>T(x.target.value),children:[h.jsx("option",{value:"",children:"Novo colaborador"}),pi.map(x=>h.jsxs("option",{value:x.id,children:[x.nome,"  ",x.cargo]},x.id))]})]}),h.jsxs("div",{className:"premios-modal-group",children:[h.jsx("label",{children:"Nome *"}),h.jsx("input",{type:"text",name:"colaboradorNome",value:o.colaboradorNome,onChange:b,required:!0})]})]}),h.jsxs("div",{className:"premios-modal-row",children:[h.jsxs("div",{className:"premios-modal-group",children:[h.jsx("label",{children:"CPF *"}),h.jsx("input",{type:"text",name:"cpf",value:o.cpf,onChange:b,required:!0,placeholder:"000.000.000-00"})]}),h.jsxs("div",{className:"premios-modal-group",children:[h.jsx("label",{children:"Cargo *"}),h.jsx("input",{type:"text",name:"cargo",value:o.cargo,onChange:b,required:!0})]}),h.jsxs("div",{className:"premios-modal-group",children:[h.jsx("label",{children:"Setor *"}),h.jsx("input",{type:"text",name:"setor",value:o.setor,onChange:b,required:!0})]})]})]}),h.jsxs("div",{className:"premios-modal-section",children:[h.jsxs("div",{className:"premios-modal-row",children:[h.jsxs("div",{className:"premios-modal-group",children:[h.jsx("label",{children:"Valor (R$) *"}),h.jsx("input",{type:"number",name:"valor",min:"0",step:"0.01",value:o.valor,onChange:b,required:!0})]}),h.jsxs("div",{className:"premios-modal-group",children:[h.jsx("label",{children:"Data *"}),h.jsx("input",{type:"date",name:"dataPremio",value:o.dataPremio,onChange:b,required:!0})]}),h.jsxs("div",{className:"premios-modal-group",children:[h.jsx("label",{children:"Status *"}),h.jsx("select",{name:"status",value:o.status,onChange:b,children:cS.map(x=>h.jsx("option",{value:x,children:x},x))})]})]}),h.jsxs("div",{className:"premios-modal-group",children:[h.jsx("label",{children:"Motivo *"}),h.jsx("textarea",{name:"motivo",value:o.motivo,onChange:b,rows:3,required:!0,placeholder:"Descreva o motivo do prmio..."})]}),h.jsxs("div",{className:"premios-modal-group",children:[h.jsx("label",{children:"Observaes"}),h.jsx("textarea",{name:"observacoes",value:o.observacoes,onChange:b,rows:3,placeholder:"Observaes adicionais..."})]})]}),h.jsxs("div",{className:"premios-modal-actions",children:[h.jsx("button",{type:"button",className:"premios-secondary-btn",onClick:e,children:"Cancelar"}),h.jsx("button",{type:"submit",className:"premios-primary-btn",disabled:v,children:v?"Salvando...":a?"Atualizar":"Cadastrar"})]})]})]})})},ja=[{id:"1",numero:"BM-2024-001",cliente:"Construtora ABC Ltda",mesReferencia:"Outubro",anoReferencia:2024,tipoServico:"Instalao",status:"Emitido",valor:45e3,dataEmissao:new Date("2024-10-15"),dataVencimento:new Date("2024-11-15"),observacoes:"Instalao completa do sistema eltrico",anexos:[],criadoPor:"user1",criadoEm:new Date("2024-10-15"),atualizadoEm:new Date("2024-10-15")},{id:"2",numero:"BM-2024-002",cliente:"Empresa XYZ S.A.",mesReferencia:"Outubro",anoReferencia:2024,tipoServico:"Manuteno",status:"Pendente",valor:12500,dataEmissao:new Date("2024-10-20"),dataVencimento:new Date("2024-11-20"),observacoes:"Manuteno preventiva mensal",anexos:[],criadoPor:"user1",criadoEm:new Date("2024-10-20"),atualizadoEm:new Date("2024-10-20")},{id:"3",numero:"BM-2024-003",cliente:"Construtora ABC Ltda",mesReferencia:"Setembro",anoReferencia:2024,tipoServico:"Vistoria",status:"Aguardando assinatura",valor:8500,dataEmissao:new Date("2024-09-28"),dataVencimento:new Date("2024-10-28"),observacoes:"Vistoria tcnica completa",anexos:[],criadoPor:"user1",criadoEm:new Date("2024-09-28"),atualizadoEm:new Date("2024-09-28")},{id:"4",numero:"BM-2024-004",cliente:"Construtora DEF",mesReferencia:"Outubro",anoReferencia:2024,tipoServico:"Instalao",status:"Emitido",valor:32e3,dataEmissao:new Date("2024-10-10"),dataVencimento:new Date("2024-11-10"),observacoes:"",anexos:[],criadoPor:"user1",criadoEm:new Date("2024-10-10"),atualizadoEm:new Date("2024-10-10")},{id:"5",numero:"BM-2024-005",cliente:"Empresa XYZ S.A.",mesReferencia:"Outubro",anoReferencia:2024,tipoServico:"Manuteno",status:"Aguardando assinatura",valor:15e3,dataEmissao:new Date("2024-10-25"),dataVencimento:new Date("2024-11-25"),observacoes:"Manuteno corretiva",anexos:[],criadoPor:"user1",criadoEm:new Date("2024-10-25"),atualizadoEm:new Date("2024-10-25")}],gc={async getAll(a){await new Promise(n=>setTimeout(n,300));let e=[...ja];return a&&(a.mes&&(e=e.filter(n=>n.mesReferencia===a.mes)),a.ano&&(e=e.filter(n=>n.anoReferencia===a.ano)),a.cliente&&(e=e.filter(n=>n.cliente.toLowerCase().includes(a.cliente.toLowerCase()))),a.tipoServico&&(e=e.filter(n=>n.tipoServico===a.tipoServico)),a.status&&(e=e.filter(n=>n.status===a.status))),e.sort((n,s)=>s.criadoEm.getTime()-n.criadoEm.getTime())},async getById(a){return await new Promise(e=>setTimeout(e,200)),ja.find(e=>e.id===a)||null},async create(a){await new Promise(n=>setTimeout(n,500));const e={id:Date.now().toString(),numero:`BM-${a.anoReferencia}-${String(ja.length+1).padStart(3,"0")}`,cliente:a.cliente,mesReferencia:a.mesReferencia,anoReferencia:a.anoReferencia,tipoServico:a.tipoServico,status:a.status,valor:a.valor,dataEmissao:a.dataEmissao,dataVencimento:a.dataVencimento,observacoes:a.observacoes,anexos:[],criadoPor:"current-user",criadoEm:new Date,atualizadoEm:new Date};return ja.push(e),e},async update(a,e){await new Promise(d=>setTimeout(d,500));const n=ja.findIndex(d=>d.id===a);if(n===-1)throw new Error("Boletim no encontrado");const{anexos:s,...o}=e,c={...ja[n],...o,atualizadoEm:new Date};return ja[n]=c,c},async delete(a){await new Promise(n=>setTimeout(n,300));const e=ja.findIndex(n=>n.id===a);e!==-1&&ja.splice(e,1)},async getStats(a,e){await new Promise(d=>setTimeout(d,200));let n=[...ja];a&&(n=n.filter(d=>d.anoReferencia===a)),e&&(n=n.filter(d=>d.mesReferencia===e));const s=n.filter(d=>d.status==="Emitido").reduce((d,p)=>d+p.valor,0),o=n.filter(d=>d.status==="Pendente"||d.status==="Aguardando assinatura").reduce((d,p)=>d+p.valor,0),c=n.filter(d=>d.status==="Aguardando assinatura").length;return{totalEmitidoMes:s,saldoPendente:o,totalBoletins:n.length,aguardandoAssinatura:c}}},o4=()=>{const[a,e]=L.useState([]),[n,s]=L.useState(!0),[o,c]=L.useState(!1),[d,p]=L.useState(null),[v,g]=L.useState({}),[T,b]=L.useState(!1),[w,x]=L.useState({totalEmitidoMes:0,saldoPendente:0,totalBoletins:0,aguardandoAssinatura:0}),O=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],Q=Array.from({length:5},(C,V)=>new Date().getFullYear()-V),z=["Instalao","Manuteno","Vistoria","Outro"],$=["Emitido","Pendente","Aguardando assinatura"];L.useEffect(()=>{ne(),se()},[v]);const ne=async()=>{try{s(!0);const C=await gc.getAll(v);e(C)}catch(C){console.error("Erro ao carregar boletins:",C)}finally{s(!1)}},se=async()=>{try{const C=new Date,V=await gc.getStats(C.getFullYear(),O[C.getMonth()]);x(V)}catch(C){console.error("Erro ao carregar estatsticas:",C)}},_e=(C,V)=>{g(k=>({...k,[C]:V||void 0}))},ge=()=>{g({})},we=async C=>{if(window.confirm("Tem certeza que deseja excluir este boletim?"))try{await gc.delete(C),ne(),se()}catch(V){console.error("Erro ao excluir boletim:",V),alert("Erro ao excluir boletim")}},R=C=>{switch(C){case"Emitido":return h.jsx(qa,{className:"status-icon status-emitido"});case"Pendente":return h.jsx(Ei,{className:"status-icon status-pendente"});case"Aguardando assinatura":return h.jsx(Ti,{className:"status-icon status-aguardando"})}},N=C=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(C),I=C=>new Intl.DateTimeFormat("pt-BR").format(C);return h.jsx(Yo,{children:h.jsxs("div",{className:"boletins-medicao",children:[h.jsxs("div",{className:"page-header",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"page-title",children:"Boletins de Medio"}),h.jsx("p",{className:"page-subtitle",children:"Controle e gesto de boletins de medio"})]}),h.jsxs("button",{className:"btn-primary",onClick:()=>{p(null),c(!0)},children:[h.jsx(Ic,{}),"Novo Boletim"]})]}),h.jsxs("div",{className:"stats-cards",children:[h.jsxs("div",{className:"stat-card",children:[h.jsx("div",{className:"stat-icon stat-icon-green",children:h.jsx(Hn,{})}),h.jsxs("div",{className:"stat-content",children:[h.jsx("h3",{className:"stat-label",children:"Total Emitido no Ms"}),h.jsx("p",{className:"stat-value stat-value-success",children:N(w.totalEmitidoMes)})]})]}),h.jsxs("div",{className:"stat-card",children:[h.jsx("div",{className:"stat-icon stat-icon-orange",children:h.jsx(Ei,{})}),h.jsxs("div",{className:"stat-content",children:[h.jsx("h3",{className:"stat-label",children:"Saldo Pendente"}),h.jsx("p",{className:"stat-value stat-value-warning",children:N(w.saldoPendente)})]})]}),h.jsxs("div",{className:"stat-card",children:[h.jsx("div",{className:"stat-icon stat-icon-blue",children:h.jsx(Hn,{})}),h.jsxs("div",{className:"stat-content",children:[h.jsx("h3",{className:"stat-label",children:"Total de Boletins"}),h.jsx("p",{className:"stat-value",children:w.totalBoletins})]})]}),h.jsxs("div",{className:"stat-card",children:[h.jsx("div",{className:"stat-icon stat-icon-purple",children:h.jsx(Ti,{})}),h.jsxs("div",{className:"stat-content",children:[h.jsx("h3",{className:"stat-label",children:"Aguardando Assinatura"}),h.jsx("p",{className:"stat-value stat-value-purple",children:w.aguardandoAssinatura})]})]})]}),h.jsxs("div",{className:"filters-section",children:[h.jsxs("div",{className:"filters-header",children:[h.jsxs("button",{className:"btn-filter",onClick:()=>b(!T),children:[h.jsx(zd,{}),"Filtros"]}),h.jsxs("div",{className:"search-box",children:[h.jsx(qd,{className:"search-icon"}),h.jsx("input",{type:"text",placeholder:"Pesquisar por cliente...",value:v.cliente||"",onChange:C=>_e("cliente",C.target.value)})]})]}),T&&h.jsxs("div",{className:"filters-panel",children:[h.jsxs("div",{className:"filter-group",children:[h.jsx("label",{children:"Ms"}),h.jsxs("select",{value:v.mes||"",onChange:C=>_e("mes",C.target.value),children:[h.jsx("option",{value:"",children:"Todos os meses"}),O.map(C=>h.jsx("option",{value:C,children:C},C))]})]}),h.jsxs("div",{className:"filter-group",children:[h.jsx("label",{children:"Ano"}),h.jsxs("select",{value:v.ano||"",onChange:C=>_e("ano",C.target.value?Number(C.target.value):void 0),children:[h.jsx("option",{value:"",children:"Todos os anos"}),Q.map(C=>h.jsx("option",{value:C,children:C},C))]})]}),h.jsxs("div",{className:"filter-group",children:[h.jsx("label",{children:"Tipo de Servio"}),h.jsxs("select",{value:v.tipoServico||"",onChange:C=>_e("tipoServico",C.target.value),children:[h.jsx("option",{value:"",children:"Todos os tipos"}),z.map(C=>h.jsx("option",{value:C,children:C},C))]})]}),h.jsxs("div",{className:"filter-group",children:[h.jsx("label",{children:"Status"}),h.jsxs("select",{value:v.status||"",onChange:C=>_e("status",C.target.value),children:[h.jsx("option",{value:"",children:"Todos os status"}),$.map(C=>h.jsx("option",{value:C,children:C},C))]})]}),h.jsx("button",{className:"btn-clear-filters",onClick:ge,children:"Limpar Filtros"})]})]}),h.jsx("div",{className:"table-container",children:n?h.jsx("div",{className:"loading",children:"Carregando..."}):a.length===0?h.jsxs("div",{className:"empty-state",children:[h.jsx(Hn,{className:"empty-icon"}),h.jsx("p",{children:"Nenhum boletim encontrado"})]}):h.jsxs("table",{className:"boletins-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Nmero"}),h.jsx("th",{children:"Cliente"}),h.jsx("th",{children:"Ms/Ano"}),h.jsx("th",{children:"Tipo de Servio"}),h.jsx("th",{children:"Valor"}),h.jsx("th",{children:"Status"}),h.jsx("th",{children:"Data Emisso"}),h.jsx("th",{children:"Aes"})]})}),h.jsx("tbody",{children:a.map(C=>h.jsxs("tr",{children:[h.jsx("td",{className:"font-mono",children:C.numero}),h.jsx("td",{children:C.cliente}),h.jsxs("td",{children:[C.mesReferencia,"/",C.anoReferencia]}),h.jsx("td",{children:C.tipoServico}),h.jsx("td",{className:"font-semibold",children:N(C.valor)}),h.jsx("td",{children:h.jsxs("div",{className:"status-badge",children:[R(C.status),h.jsx("span",{children:C.status})]})}),h.jsx("td",{children:C.dataEmissao?I(C.dataEmissao):"-"}),h.jsx("td",{children:h.jsxs("div",{className:"action-buttons",children:[h.jsx("button",{className:"btn-icon",onClick:()=>{p(C),c(!0)},title:"Editar",children:h.jsx(Cc,{})}),h.jsx("button",{className:"btn-icon btn-icon-danger",onClick:()=>we(C.id),title:"Excluir",children:h.jsx(Dc,{})})]})})]},C.id))})]})}),o&&h.jsx(l4,{boletim:d,onClose:()=>{c(!1),p(null)},onSave:()=>{c(!1),p(null),ne(),se()}})]})})},l4=({boletim:a,onClose:e,onSave:n})=>{const[s,o]=L.useState({cliente:a?.cliente||"",mesReferencia:a?.mesReferencia||"",anoReferencia:a?.anoReferencia||new Date().getFullYear(),tipoServico:a?.tipoServico||"Instalao",status:a?.status||"Pendente",valor:a?.valor||0,dataEmissao:a?.dataEmissao?new Date(a.dataEmissao).toISOString().split("T")[0]:"",dataVencimento:a?.dataVencimento?new Date(a.dataVencimento).toISOString().split("T")[0]:"",observacoes:a?.observacoes||"",anexos:[]}),[c,d]=L.useState(!1),p=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],v=Array.from({length:5},(x,O)=>new Date().getFullYear()-O),g=["Instalao","Manuteno","Vistoria","Outro"],T=["Emitido","Pendente","Aguardando assinatura"],b=async x=>{x.preventDefault(),d(!0);try{const O={...s,dataEmissao:s.dataEmissao?new Date(s.dataEmissao):void 0,dataVencimento:s.dataVencimento?new Date(s.dataVencimento):void 0};a?await gc.update(a.id,O):await gc.create(O),n()}catch(O){console.error("Erro ao salvar boletim:",O),alert("Erro ao salvar boletim")}finally{d(!1)}},w=x=>{x.target.files&&o(O=>({...O,anexos:Array.from(x.target.files||[])}))};return h.jsx("div",{className:"modal-overlay",onClick:e,children:h.jsxs("div",{className:"modal-content",onClick:x=>x.stopPropagation(),children:[h.jsxs("div",{className:"modal-header",children:[h.jsx("h2",{children:a?"Editar Boletim":"Novo Boletim de Medio"}),h.jsx("button",{className:"btn-close",onClick:e,children:h.jsx(_r,{})})]}),h.jsxs("form",{onSubmit:b,className:"modal-form",children:[h.jsxs("div",{className:"form-row",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Cliente *"}),h.jsx("input",{type:"text",required:!0,value:s.cliente,onChange:x=>o(O=>({...O,cliente:x.target.value})),placeholder:"Nome do cliente"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Ms de Referncia *"}),h.jsxs("select",{required:!0,value:s.mesReferencia,onChange:x=>o(O=>({...O,mesReferencia:x.target.value})),children:[h.jsx("option",{value:"",children:"Selecione..."}),p.map(x=>h.jsx("option",{value:x,children:x},x))]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Ano de Referncia *"}),h.jsx("select",{required:!0,value:s.anoReferencia,onChange:x=>o(O=>({...O,anoReferencia:Number(x.target.value)})),children:v.map(x=>h.jsx("option",{value:x,children:x},x))})]})]}),h.jsxs("div",{className:"form-row",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Tipo de Servio *"}),h.jsx("select",{required:!0,value:s.tipoServico,onChange:x=>o(O=>({...O,tipoServico:x.target.value})),children:g.map(x=>h.jsx("option",{value:x,children:x},x))})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Status *"}),h.jsx("select",{required:!0,value:s.status,onChange:x=>o(O=>({...O,status:x.target.value})),children:T.map(x=>h.jsx("option",{value:x,children:x},x))})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Valor (R$) *"}),h.jsx("input",{type:"number",required:!0,step:"0.01",min:"0",value:s.valor,onChange:x=>o(O=>({...O,valor:Number(x.target.value)})),placeholder:"0.00"})]})]}),h.jsxs("div",{className:"form-row",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Data de Emisso"}),h.jsx("input",{type:"date",value:s.dataEmissao,onChange:x=>o(O=>({...O,dataEmissao:x.target.value}))})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Data de Vencimento"}),h.jsx("input",{type:"date",value:s.dataVencimento,onChange:x=>o(O=>({...O,dataVencimento:x.target.value}))})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Observaes"}),h.jsx("textarea",{value:s.observacoes,onChange:x=>o(O=>({...O,observacoes:x.target.value})),rows:4,placeholder:"Observaes adicionais..."})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Anexar Arquivos"}),h.jsxs("div",{className:"file-upload",children:[h.jsx("input",{type:"file",multiple:!0,accept:".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png",onChange:w,id:"file-upload"}),h.jsxs("label",{htmlFor:"file-upload",className:"file-upload-label",children:[h.jsx(Bd,{}),"Selecionar arquivos (PDF, NF, OS, etc.)"]}),s.anexos.length>0&&h.jsx("div",{className:"file-list",children:s.anexos.map((x,O)=>h.jsxs("div",{className:"file-item",children:[h.jsx(Hn,{}),h.jsx("span",{children:x.name}),h.jsx("button",{type:"button",onClick:()=>{o(Q=>({...Q,anexos:Q.anexos.filter((z,$)=>$!==O)}))},children:h.jsx(_r,{})})]},O))})]})]}),h.jsxs("div",{className:"modal-actions",children:[h.jsx("button",{type:"button",className:"btn-secondary",onClick:e,children:"Cancelar"}),h.jsx("button",{type:"submit",className:"btn-primary",disabled:c,children:c?"Salvando...":a?"Atualizar":"Criar"})]})]})]})})},cs=Sr(sa,"documentacoes"),nc=Sr(sa,"treinamentos"),Fp=a=>{const e=new Date;e.setHours(0,0,0,0);const n=new Date(a);n.setHours(0,0,0,0);const s=n.getTime()-e.getTime(),o=Math.ceil(s/(1e3*60*60*24));return o<0?"Vencido":o<=7?"Vencendo":"Vlido"},Dh=a=>{const e=a.data(),n=e.dataValidade?e.dataValidade.toDate():new Date,s=Fp(n);return{id:a.id,colaboradorId:e.colaboradorId,colaboradorNome:e.colaboradorNome,cpf:e.cpf,cargo:e.cargo,setor:e.setor,tipoDocumento:e.tipoDocumento,numeroDocumento:e.numeroDocumento,orgaoEmissor:e.orgaoEmissor,dataEmissao:e.dataEmissao?e.dataEmissao.toDate():void 0,dataValidade:n,status:s,observacoes:e.observacoes,anexos:e.anexos||[],alertaEnviado:e.alertaEnviado||!1,dataAlerta:e.dataAlerta?e.dataAlerta.toDate():void 0,criadoPor:e.criadoPor,criadoEm:e.criadoEm?e.criadoEm.toDate():new Date,atualizadoEm:e.atualizadoEm?e.atualizadoEm.toDate():new Date}},c4=a=>{const e=[];return a?.colaboradorNome&&e.push(at("colaboradorNomeSearch","array-contains",a.colaboradorNome.toLowerCase())),a?.tipoDocumento&&e.push(at("tipoDocumento","==",a.tipoDocumento)),a?.dataVencimentoInicio&&e.push(at("dataValidade",">=",fe.fromDate(a.dataVencimentoInicio))),a?.dataVencimentoFim&&e.push(at("dataValidade","<=",fe.fromDate(a.dataVencimentoFim))),e.push(vi("dataValidade","asc")),aa(cs,...e)},ui={async list(a){const e=c4(a);let s=(await on(e)).docs.map(Dh);if(a?.status&&(s=s.filter(o=>o.status===a.status)),a?.vencidos&&(s=s.filter(o=>o.status==="Vencido")),a?.vencendoEm7Dias&&(s=s.filter(o=>o.status==="Vencendo")),a?.vencendoEm30Dias){const o=new Date,c=new Date(o);c.setDate(c.getDate()+30),s=s.filter(d=>d.dataValidade>=o&&d.dataValidade<=c&&d.status!=="Vencido")}return s},async create(a,e){const n=Fp(a.dataValidade),s={...a,dataEmissao:a.dataEmissao?fe.fromDate(a.dataEmissao):null,dataValidade:fe.fromDate(a.dataValidade),status:n,colaboradorNomeSearch:a.colaboradorNome.toLowerCase().split(" ").filter(c=>c.length>0),anexos:[],alertaEnviado:!1,criadoPor:e,criadoEm:fe.now(),atualizadoEm:fe.now()};return(await sd(cs,s)).id},async update(a,e){const n={atualizadoEm:fe.now()};e.tipoDocumento&&(n.tipoDocumento=e.tipoDocumento),e.numeroDocumento!==void 0&&(n.numeroDocumento=e.numeroDocumento),e.orgaoEmissor!==void 0&&(n.orgaoEmissor=e.orgaoEmissor),e.dataEmissao!==void 0&&(n.dataEmissao=e.dataEmissao?fe.fromDate(e.dataEmissao):null),e.dataValidade&&(n.dataValidade=fe.fromDate(e.dataValidade),n.status=Fp(e.dataValidade)),e.observacoes!==void 0&&(n.observacoes=e.observacoes),e.colaboradorNome&&(n.colaboradorNome=e.colaboradorNome,n.colaboradorNomeSearch=e.colaboradorNome.toLowerCase().split(" ").filter(s=>s.length>0)),e.cpf&&(n.cpf=e.cpf),e.cargo&&(n.cargo=e.cargo),e.setor&&(n.setor=e.setor),await hr($t(cs,a),n)},async delete(a){await id($t(cs,a))},async getStats(){const e=(await on(cs)).docs.map(Dh),n=new Date;n.setHours(0,0,0,0);const s=new Date(n);s.setDate(s.getDate()+7);const o=new Date(n);return o.setDate(o.getDate()+30),{total:e.length,validos:e.filter(c=>c.status==="Vlido"&&c.dataValidade>o).length,vencidos:e.filter(c=>c.status==="Vencido").length,vencendoEm7Dias:e.filter(c=>c.status==="Vencendo"&&c.dataValidade>=n&&c.dataValidade<=s).length,vencendoEm30Dias:e.filter(c=>c.dataValidade>=n&&c.dataValidade<=o&&c.status!=="Vencido").length,pendentes:e.filter(c=>c.status==="Pendente").length}},async getDocumentosVencidos(){return(await on(cs)).docs.map(Dh).filter(n=>n.status==="Vencido")},async getDocumentosVencendo(){return(await on(cs)).docs.map(Dh).filter(n=>n.status==="Vencendo")},async marcarAlertaEnviado(a){await hr($t(cs,a),{alertaEnviado:!0,dataAlerta:fe.now(),atualizadoEm:fe.now()})},async listTreinamentos(){const a=aa(nc,vi("dataInicio","desc"));return(await on(a)).docs.map(n=>{const s=n.data();return{id:n.id,titulo:s.titulo,descricao:s.descricao,dataInicio:s.dataInicio.toDate(),dataFim:s.dataFim.toDate(),colaboradores:s.colaboradores||[],tipoDocumento:s.tipoDocumento,status:s.status,criadoEm:s.criadoEm.toDate(),atualizadoEm:s.atualizadoEm.toDate()}})},async createTreinamento(a){const e=new Date;let n="Agendado";a.dataInicio<=e&&a.dataFim>=e?n="Em andamento":a.dataFim<e&&(n="Concludo");const s={...a,dataInicio:fe.fromDate(a.dataInicio),dataFim:fe.fromDate(a.dataFim),status:n,criadoEm:fe.now(),atualizadoEm:fe.now()};return(await sd(nc,s)).id},async updateTreinamento(a,e){const n={atualizadoEm:fe.now()};e.titulo&&(n.titulo=e.titulo),e.descricao&&(n.descricao=e.descricao),e.dataInicio&&(n.dataInicio=fe.fromDate(e.dataInicio)),e.dataFim&&(n.dataFim=fe.fromDate(e.dataFim)),e.colaboradores&&(n.colaboradores=e.colaboradores),e.tipoDocumento&&(n.tipoDocumento=e.tipoDocumento);const s=$t(nc,a),o=await Op(s);if(o.exists()){const c=o.data(),d=e.dataInicio?e.dataInicio:c.dataInicio.toDate(),p=e.dataFim?e.dataFim:c.dataFim.toDate(),v=new Date;d<=v&&p>=v?n.status="Em andamento":p<v?n.status="Concludo":n.status="Agendado"}await hr($t(nc,a),n)},async deleteTreinamento(a){await id($t(nc,a))}},Fg=["ASO","NR-11","NR-18","NR-33","NR-35","CNH","CPF","RG","CTPS","Reservista","Certificado de Treinamento","Outro"],u4=["Vlido","Vencido","Vencendo","Pendente"],h4=()=>{const{user:a}=Qo(),[e,n]=L.useState([]),[s,o]=L.useState([]),[c,d]=L.useState({total:0,validos:0,vencidos:0,vencendoEm7Dias:0,vencendoEm30Dias:0,pendentes:0}),[p,v]=L.useState({}),[g,T]=L.useState(!1),[b,w]=L.useState(!1),[x,O]=L.useState(null),[Q,z]=L.useState(null),[$,ne]=L.useState(!1),[se,_e]=L.useState(!1),[ge,we]=L.useState("documentos"),R=L.useCallback(async()=>{ne(!0);try{const q=await ui.list(p);n(q)}catch(q){console.error("Erro ao carregar documentos:",q),alert("No foi possvel carregar os documentos.")}finally{ne(!1)}},[p]),N=L.useCallback(async()=>{try{const q=await ui.listTreinamentos();o(q)}catch(q){console.error("Erro ao carregar treinamentos:",q)}},[]),I=L.useCallback(async()=>{try{const q=await ui.getStats();d(q)}catch(q){console.error("Erro ao carregar estatsticas:",q)}},[]);L.useEffect(()=>{R(),I()},[R,I]),L.useEffect(()=>{ge==="treinamentos"&&N()},[ge,N]);const C=(q,le)=>{v(Se=>({...Se,[q]:le}))},V=q=>{O(q||null),T(!0)},k=()=>{T(!1),O(null)},D=q=>{z(q||null),w(!0)},Ke=()=>{w(!1),z(null)},ht=async q=>{try{x?await ui.update(x.id,q):await ui.create(q,a?.uid||""),k(),R(),I()}catch(le){console.error("Erro ao salvar documento:",le),alert("No foi possvel salvar o documento.")}},X=async q=>{if(confirm("Tem certeza que deseja excluir este documento?"))try{await ui.delete(q),R(),I()}catch(le){console.error("Erro ao excluir documento:",le),alert("No foi possvel excluir o documento.")}},re=async q=>{try{Q?await ui.updateTreinamento(Q.id,q):await ui.createTreinamento(q),Ke(),N()}catch(le){console.error("Erro ao salvar treinamento:",le),alert("No foi possvel salvar o treinamento.")}},pe=async q=>{if(confirm("Tem certeza que deseja excluir este treinamento?"))try{await ui.deleteTreinamento(q),N()}catch(le){console.error("Erro ao excluir treinamento:",le),alert("No foi possvel excluir o treinamento.")}},ee=q=>new Intl.DateTimeFormat("pt-BR").format(q),de=q=>{switch(q){case"Vlido":return"status-valid";case"Vencido":return"status-expired";case"Vencendo":return"status-expiring";case"Pendente":return"status-pending";default:return""}},M=q=>{switch(q){case"Vlido":return h.jsx(qa,{className:"status-icon valid"});case"Vencido":return h.jsx(Ti,{className:"status-icon expired"});case"Vencendo":return h.jsx(Ei,{className:"status-icon expiring"});case"Pendente":return h.jsx(Ei,{className:"status-icon pending"});default:return null}},Z=L.useMemo(()=>e,[e]);return h.jsx(Yo,{children:h.jsxs("div",{className:"documentacoes-container",children:[h.jsxs("div",{className:"documentacoes-header",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"documentacoes-title",children:"Documentaes e Integraes"}),h.jsx("p",{className:"documentacoes-subtitle",children:"Gesto de documentos obrigatrios e controle de validades"})]}),h.jsxs("div",{className:"documentacoes-header-actions",children:[ge==="documentos"&&h.jsxs("button",{className:"documentacoes-btn-primary",onClick:()=>V(),children:[h.jsx(Ic,{}),"Novo Documento"]}),ge==="treinamentos"&&h.jsxs("button",{className:"documentacoes-btn-primary",onClick:()=>D(),children:[h.jsx(Ic,{}),"Novo Treinamento"]})]})]}),h.jsxs("div",{className:"documentacoes-tabs",children:[h.jsxs("button",{className:`documentacoes-tab ${ge==="documentos"?"active":""}`,onClick:()=>we("documentos"),children:[h.jsx(Hn,{}),"Documentos"]}),h.jsxs("button",{className:`documentacoes-tab ${ge==="treinamentos"?"active":""}`,onClick:()=>we("treinamentos"),children:[h.jsx(zp,{}),"Treinamentos"]})]}),ge==="documentos"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"documentacoes-stats",children:[h.jsxs("div",{className:"documentacoes-stat-card",children:[h.jsx("div",{className:"documentacoes-stat-icon total",children:h.jsx(Hn,{})}),h.jsxs("div",{className:"documentacoes-stat-content",children:[h.jsx("h3",{children:"Total"}),h.jsx("p",{className:"documentacoes-stat-value",children:c.total})]})]}),h.jsxs("div",{className:"documentacoes-stat-card",children:[h.jsx("div",{className:"documentacoes-stat-icon valid",children:h.jsx(qa,{})}),h.jsxs("div",{className:"documentacoes-stat-content",children:[h.jsx("h3",{children:"Vlidos"}),h.jsx("p",{className:"documentacoes-stat-value",children:c.validos})]})]}),h.jsxs("div",{className:"documentacoes-stat-card",children:[h.jsx("div",{className:"documentacoes-stat-icon expired",children:h.jsx(Ti,{})}),h.jsxs("div",{className:"documentacoes-stat-content",children:[h.jsx("h3",{children:"Vencidos"}),h.jsx("p",{className:"documentacoes-stat-value",children:c.vencidos})]})]}),h.jsxs("div",{className:"documentacoes-stat-card",children:[h.jsx("div",{className:"documentacoes-stat-icon expiring",children:h.jsx(Ei,{})}),h.jsxs("div",{className:"documentacoes-stat-content",children:[h.jsx("h3",{children:"Vencendo (7 dias)"}),h.jsx("p",{className:"documentacoes-stat-value",children:c.vencendoEm7Dias})]})]}),h.jsxs("div",{className:"documentacoes-stat-card",children:[h.jsx("div",{className:"documentacoes-stat-icon warning",children:h.jsx(rS,{})}),h.jsxs("div",{className:"documentacoes-stat-content",children:[h.jsx("h3",{children:"Vencendo (30 dias)"}),h.jsx("p",{className:"documentacoes-stat-value",children:c.vencendoEm30Dias})]})]})]}),h.jsxs("div",{className:"documentacoes-filters",children:[h.jsxs("div",{className:"documentacoes-search",children:[h.jsx(qd,{className:"documentacoes-search-icon"}),h.jsx("input",{type:"text",placeholder:"Buscar por colaborador...",value:p.colaboradorNome||"",onChange:q=>C("colaboradorNome",q.target.value)})]}),h.jsxs("button",{className:"documentacoes-filter-toggle",onClick:()=>_e(!se),children:[h.jsx(zd,{}),"Filtros"]})]}),se&&h.jsxs("div",{className:"documentacoes-filters-panel",children:[h.jsxs("div",{className:"documentacoes-filter-group",children:[h.jsx("label",{children:"Tipo de Documento"}),h.jsxs("select",{value:p.tipoDocumento||"",onChange:q=>C("tipoDocumento",q.target.value||void 0),children:[h.jsx("option",{value:"",children:"Todos"}),Fg.map(q=>h.jsx("option",{value:q,children:q},q))]})]}),h.jsxs("div",{className:"documentacoes-filter-group",children:[h.jsx("label",{children:"Status"}),h.jsxs("select",{value:p.status||"",onChange:q=>C("status",q.target.value||void 0),children:[h.jsx("option",{value:"",children:"Todos"}),u4.map(q=>h.jsx("option",{value:q,children:q},q))]})]}),h.jsx("div",{className:"documentacoes-filter-group",children:h.jsxs("label",{children:[h.jsx("input",{type:"checkbox",checked:p.vencidos||!1,onChange:q=>C("vencidos",q.target.checked)}),"Apenas Vencidos"]})}),h.jsx("div",{className:"documentacoes-filter-group",children:h.jsxs("label",{children:[h.jsx("input",{type:"checkbox",checked:p.vencendoEm7Dias||!1,onChange:q=>C("vencendoEm7Dias",q.target.checked)}),"Vencendo em 7 dias"]})}),h.jsx("div",{className:"documentacoes-filter-group",children:h.jsxs("label",{children:[h.jsx("input",{type:"checkbox",checked:p.vencendoEm30Dias||!1,onChange:q=>C("vencendoEm30Dias",q.target.checked)}),"Vencendo em 30 dias"]})})]}),h.jsx("div",{className:"documentacoes-table-container",children:h.jsxs("table",{className:"documentacoes-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Colaborador"}),h.jsx("th",{children:"Tipo"}),h.jsx("th",{children:"Nmero"}),h.jsx("th",{children:"Validade"}),h.jsx("th",{children:"Status"}),h.jsx("th",{children:"Anexos"}),h.jsx("th",{children:"Aes"})]})}),h.jsx("tbody",{children:$?h.jsx("tr",{children:h.jsx("td",{colSpan:7,className:"documentacoes-loading",children:"Carregando..."})}):Z.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:7,className:"documentacoes-empty",children:"Nenhum documento encontrado"})}):Z.map(q=>h.jsxs("tr",{children:[h.jsx("td",{children:h.jsxs("div",{className:"documentacoes-colaborador",children:[h.jsx(dr,{className:"documentacoes-user-icon"}),h.jsxs("div",{children:[h.jsx("p",{className:"documentacoes-colaborador-name",children:q.colaboradorNome}),h.jsxs("p",{className:"documentacoes-colaborador-info",children:[q.cargo," - ",q.setor]})]})]})}),h.jsx("td",{children:q.tipoDocumento}),h.jsx("td",{children:q.numeroDocumento||"-"}),h.jsx("td",{children:ee(q.dataValidade)}),h.jsx("td",{children:h.jsxs("span",{className:`documentacoes-status-badge ${de(q.status)}`,children:[M(q.status),q.status]})}),h.jsx("td",{children:q.anexos.length>0?h.jsxs("span",{className:"documentacoes-anexos-count",children:[h.jsx(Bd,{}),q.anexos.length]}):"-"}),h.jsx("td",{children:h.jsxs("div",{className:"documentacoes-actions",children:[h.jsx("button",{className:"documentacoes-action-btn edit",onClick:()=>V(q),title:"Editar",children:h.jsx(Cc,{})}),h.jsx("button",{className:"documentacoes-action-btn delete",onClick:()=>X(q.id),title:"Excluir",children:h.jsx(Dc,{})})]})})]},q.id))})]})})]}),ge==="treinamentos"&&h.jsx("div",{className:"documentacoes-treinamentos-grid",children:s.length===0?h.jsxs("div",{className:"documentacoes-empty-state",children:[h.jsx(zp,{className:"documentacoes-empty-icon"}),h.jsx("p",{children:"Nenhum treinamento cadastrado"})]}):s.map(q=>h.jsxs("div",{className:"documentacoes-treinamento-card",children:[h.jsxs("div",{className:"documentacoes-treinamento-header",children:[h.jsx("h3",{children:q.titulo}),h.jsx("span",{className:`documentacoes-treinamento-status ${q.status.toLowerCase()}`,children:q.status})]}),h.jsx("p",{className:"documentacoes-treinamento-desc",children:q.descricao}),h.jsxs("div",{className:"documentacoes-treinamento-info",children:[h.jsxs("div",{children:[h.jsx("strong",{children:"Tipo:"})," ",q.tipoDocumento]}),h.jsxs("div",{children:[h.jsx("strong",{children:"Incio:"})," ",ee(q.dataInicio)]}),h.jsxs("div",{children:[h.jsx("strong",{children:"Fim:"})," ",ee(q.dataFim)]}),h.jsxs("div",{children:[h.jsx("strong",{children:"Participantes:"})," ",q.colaboradores.length]})]}),h.jsxs("div",{className:"documentacoes-treinamento-actions",children:[h.jsxs("button",{className:"documentacoes-action-btn edit",onClick:()=>D(q),children:[h.jsx(Cc,{}),"Editar"]}),h.jsxs("button",{className:"documentacoes-action-btn delete",onClick:()=>pe(q.id),children:[h.jsx(Dc,{}),"Excluir"]})]})]},q.id))}),g&&h.jsx(d4,{documento:x,onClose:k,onSave:ht}),b&&h.jsx(f4,{treinamento:Q,onClose:Ke,onSave:re})]})})},d4=({documento:a,onClose:e,onSave:n})=>{const[s,o]=L.useState({colaboradorId:a?.colaboradorId||"",colaboradorNome:a?.colaboradorNome||"",cpf:a?.cpf||"",cargo:a?.cargo||"",setor:a?.setor||"",tipoDocumento:a?.tipoDocumento||"ASO",numeroDocumento:a?.numeroDocumento||"",orgaoEmissor:a?.orgaoEmissor||"",dataEmissao:a?.dataEmissao,dataValidade:a?.dataValidade||new Date,observacoes:a?.observacoes||"",anexos:[]}),c=T=>{const{name:b,value:w}=T.target;o(x=>({...x,[b]:w}))},d=(T,b)=>{o(w=>({...w,[T]:b?new Date(b):void 0}))},p=T=>{const b=pi.find(w=>w.id===T);b&&o(w=>({...w,colaboradorId:b.id,colaboradorNome:b.nome,cpf:b.cpf,cargo:b.cargo,setor:b.setor}))},v=T=>{T.target.files&&o(b=>({...b,anexos:Array.from(T.target.files||[])}))},g=T=>{T.preventDefault(),n(s)};return h.jsx("div",{className:"documentacoes-modal-overlay",onClick:e,children:h.jsxs("div",{className:"documentacoes-modal-content",onClick:T=>T.stopPropagation(),children:[h.jsxs("div",{className:"documentacoes-modal-header",children:[h.jsx("h2",{children:a?"Editar Documento":"Novo Documento"}),h.jsx("button",{className:"documentacoes-modal-close",onClick:e,children:h.jsx(_r,{})})]}),h.jsxs("form",{onSubmit:g,className:"documentacoes-modal-form",children:[h.jsxs("div",{className:"documentacoes-form-group",children:[h.jsx("label",{children:"Colaborador *"}),h.jsxs("select",{value:s.colaboradorId,onChange:T=>p(T.target.value),required:!0,children:[h.jsx("option",{value:"",children:"Selecione..."}),pi.map(T=>h.jsx("option",{value:T.id,children:T.nome},T.id))]})]}),h.jsxs("div",{className:"documentacoes-form-row",children:[h.jsxs("div",{className:"documentacoes-form-group",children:[h.jsx("label",{children:"Tipo de Documento *"}),h.jsx("select",{name:"tipoDocumento",value:s.tipoDocumento,onChange:c,required:!0,children:Fg.map(T=>h.jsx("option",{value:T,children:T},T))})]}),h.jsxs("div",{className:"documentacoes-form-group",children:[h.jsx("label",{children:"Nmero do Documento"}),h.jsx("input",{type:"text",name:"numeroDocumento",value:s.numeroDocumento,onChange:c})]})]}),h.jsxs("div",{className:"documentacoes-form-row",children:[h.jsxs("div",{className:"documentacoes-form-group",children:[h.jsx("label",{children:"rgo Emissor"}),h.jsx("input",{type:"text",name:"orgaoEmissor",value:s.orgaoEmissor,onChange:c})]}),h.jsxs("div",{className:"documentacoes-form-group",children:[h.jsx("label",{children:"Data de Emisso"}),h.jsx("input",{type:"date",value:s.dataEmissao?s.dataEmissao.toISOString().split("T")[0]:"",onChange:T=>d("dataEmissao",T.target.value)})]})]}),h.jsxs("div",{className:"documentacoes-form-group",children:[h.jsx("label",{children:"Data de Validade *"}),h.jsx("input",{type:"date",value:s.dataValidade.toISOString().split("T")[0],onChange:T=>d("dataValidade",T.target.value),required:!0})]}),h.jsxs("div",{className:"documentacoes-form-group",children:[h.jsx("label",{children:"Observaes"}),h.jsx("textarea",{name:"observacoes",value:s.observacoes,onChange:c,rows:3})]}),h.jsxs("div",{className:"documentacoes-form-group",children:[h.jsx("label",{children:"Anexar Arquivos"}),h.jsx("input",{type:"file",multiple:!0,accept:".pdf,.jpg,.jpeg,.png",onChange:v}),s.anexos&&s.anexos.length>0&&h.jsxs("p",{className:"documentacoes-files-count",children:[s.anexos.length," arquivo(s) selecionado(s)"]})]}),h.jsxs("div",{className:"documentacoes-modal-actions",children:[h.jsx("button",{type:"button",className:"documentacoes-btn-secondary",onClick:e,children:"Cancelar"}),h.jsx("button",{type:"submit",className:"documentacoes-btn-primary",children:"Salvar"})]})]})]})})},f4=({treinamento:a,onClose:e,onSave:n})=>{const[s,o]=L.useState({titulo:a?.titulo||"",descricao:a?.descricao||"",dataInicio:a?.dataInicio||new Date,dataFim:a?.dataFim||new Date,colaboradores:a?.colaboradores||[],tipoDocumento:a?.tipoDocumento||"ASO"}),c=g=>{const{name:T,value:b}=g.target;o(w=>({...w,[T]:b}))},d=(g,T)=>{o(b=>({...b,[g]:new Date(T)}))},p=g=>{const T=Array.from(g.target.selectedOptions,b=>b.value);o(b=>({...b,colaboradores:T}))},v=g=>{g.preventDefault(),n(s)};return h.jsx("div",{className:"documentacoes-modal-overlay",onClick:e,children:h.jsxs("div",{className:"documentacoes-modal-content",onClick:g=>g.stopPropagation(),children:[h.jsxs("div",{className:"documentacoes-modal-header",children:[h.jsx("h2",{children:a?"Editar Treinamento":"Novo Treinamento"}),h.jsx("button",{className:"documentacoes-modal-close",onClick:e,children:h.jsx(_r,{})})]}),h.jsxs("form",{onSubmit:v,className:"documentacoes-modal-form",children:[h.jsxs("div",{className:"documentacoes-form-group",children:[h.jsx("label",{children:"Ttulo *"}),h.jsx("input",{type:"text",name:"titulo",value:s.titulo,onChange:c,required:!0})]}),h.jsxs("div",{className:"documentacoes-form-group",children:[h.jsx("label",{children:"Descrio"}),h.jsx("textarea",{name:"descricao",value:s.descricao,onChange:c,rows:3})]}),h.jsxs("div",{className:"documentacoes-form-row",children:[h.jsxs("div",{className:"documentacoes-form-group",children:[h.jsx("label",{children:"Data de Incio *"}),h.jsx("input",{type:"date",value:s.dataInicio.toISOString().split("T")[0],onChange:g=>d("dataInicio",g.target.value),required:!0})]}),h.jsxs("div",{className:"documentacoes-form-group",children:[h.jsx("label",{children:"Data de Fim *"}),h.jsx("input",{type:"date",value:s.dataFim.toISOString().split("T")[0],onChange:g=>d("dataFim",g.target.value),required:!0})]})]}),h.jsxs("div",{className:"documentacoes-form-group",children:[h.jsx("label",{children:"Tipo de Documento *"}),h.jsx("select",{name:"tipoDocumento",value:s.tipoDocumento,onChange:c,required:!0,children:Fg.map(g=>h.jsx("option",{value:g,children:g},g))})]}),h.jsxs("div",{className:"documentacoes-form-group",children:[h.jsx("label",{children:"Colaboradores *"}),h.jsx("select",{multiple:!0,value:s.colaboradores,onChange:p,required:!0,size:5,children:pi.map(g=>h.jsx("option",{value:g.id,children:g.nome},g.id))}),h.jsx("p",{className:"documentacoes-form-hint",children:"Mantenha Ctrl (Cmd no Mac) pressionado para selecionar mltiplos"})]}),h.jsxs("div",{className:"documentacoes-modal-actions",children:[h.jsx("button",{type:"button",className:"documentacoes-btn-secondary",onClick:e,children:"Cancelar"}),h.jsx("button",{type:"submit",className:"documentacoes-btn-primary",children:"Salvar"})]})]})]})})},cc=Sr(sa,"lancamentosDiarios"),u1=a=>{const e=a.data();return{id:a.id,tipoMovimentacao:e.tipoMovimentacao,descricao:e.descricao,valor:e.valor,dataLancamento:e.dataLancamento?e.dataLancamento.toDate():new Date,status:e.status,colaboradorId:e.colaboradorId,colaboradorNome:e.colaboradorNome,observacoes:e.observacoes,anexos:e.anexos||[],criadoPor:e.criadoPor,criadoEm:e.criadoEm?e.criadoEm.toDate():new Date,atualizadoEm:e.atualizadoEm?e.atualizadoEm.toDate():new Date}},h1=a=>{const e=[];if(a?.dataInicio&&e.push(at("dataLancamento",">=",fe.fromDate(a.dataInicio))),a?.dataFim){const n=new Date(a.dataFim);n.setHours(23,59,59,999),e.push(at("dataLancamento","<=",fe.fromDate(n)))}return a?.colaboradorId&&e.push(at("colaboradorId","==",a.colaboradorId)),a?.colaboradorNome&&e.push(at("colaboradorNomeSearch","array-contains",a.colaboradorNome.toLowerCase())),a?.tipoMovimentacao&&e.push(at("tipoMovimentacao","==",a.tipoMovimentacao)),a?.status&&e.push(at("status","==",a.status)),e.push(vi("dataLancamento","desc")),aa(cc,...e)},vc={async list(a){const e=h1(a);return(await on(e)).docs.map(u1)},async create(a,e,n){const s={...a,valor:Number(a.valor),dataLancamento:fe.fromDate(a.dataLancamento),colaboradorNomeSearch:a.colaboradorNome.toLowerCase().split(" ").filter(Boolean),criadoPor:e,criadoPorNome:n,anexos:[],criadoEm:fe.now(),atualizadoEm:fe.now()};return(await sd(cc,s)).id},async update(a,e){const n=$t(cc,a),s={...e,atualizadoEm:fe.now()};e.dataLancamento&&(s.dataLancamento=fe.fromDate(e.dataLancamento)),e.colaboradorNome&&(s.colaboradorNomeSearch=e.colaboradorNome.toLowerCase().split(" ").filter(Boolean)),e.valor!==void 0&&(s.valor=Number(e.valor)),await hr(n,s)},async updateStatus(a,e){const n=$t(cc,a);await hr(n,{status:e,atualizadoEm:fe.now()})},async delete(a){const e=$t(cc,a);await id(e)},async getStats(a,e){const n={};a&&(n.dataInicio=a),e&&(n.dataFim=e);const s=h1(n),c=(await on(s)).docs.map(u1),d=c.filter(g=>g.status==="Recebido").reduce((g,T)=>g+T.valor,0),p=c.filter(g=>g.status==="Pendente").reduce((g,T)=>g+T.valor,0),v={Servio:0,Pagamento:0,Recebimento:0,Outro:0};return c.forEach(g=>{v[g.tipoMovimentacao]+=g.valor}),{totalRecebido:d,totalPendente:p,totalLancamentos:c.length,totalPorTipo:v}}},uS=["Servio","Pagamento","Recebimento","Outro"],hS=["Recebido","Pendente"],m4=()=>{const{user:a}=Qo(),e=new Date,[n,s]=L.useState([]),[o,c]=L.useState({dataInicio:new Date(e.getFullYear(),e.getMonth(),1),dataFim:e}),[d,p]=L.useState(!1),[v,g]=L.useState(null),[T,b]=L.useState(!0),[w,x]=L.useState(!1),O=L.useCallback(async()=>{try{b(!0);const R=await vc.list(o);s(R)}catch(R){console.error("Erro ao carregar lanamentos:",R),alert("No foi possvel carregar os lanamentos.")}finally{b(!1)}},[o]);L.useEffect(()=>{O()},[O]);const Q=(R,N)=>{c(I=>({...I,[R]:N===""||N===null?void 0:N}))},z=async R=>{if(window.confirm("Deseja remover este lanamento?"))try{await vc.delete(R),await O()}catch(N){console.error("Erro ao excluir lanamento:",N),alert("No foi possvel remover o lanamento.")}},$=async(R,N)=>{try{await vc.updateStatus(R,N),await O()}catch(I){console.error("Erro ao atualizar status:",I),alert("Falha ao atualizar status.")}},ne=R=>R==="Recebido"?"recebido":"pendente",se=R=>({Servio:"tipo-servico",Pagamento:"tipo-pagamento",Recebimento:"tipo-recebimento",Outro:"tipo-outro"})[R],_e=R=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(R),ge=R=>new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(R),we=R=>new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(R);return h.jsx(Yo,{children:h.jsxs("div",{className:"lancamentos-container",children:[h.jsxs("div",{className:"lancamentos-header",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"lancamentos-title",children:"Caderno Virtual"}),h.jsx("p",{className:"lancamentos-subtitle",children:"Registro de lanamentos dirios e movimentaes"})]}),h.jsxs("button",{className:"lancamentos-primary-btn",onClick:()=>{g(null),p(!0)},children:[h.jsx(Ic,{}),"Novo Lanamento"]})]}),h.jsxs("div",{className:"lancamentos-filtros",children:[h.jsxs("div",{className:"lancamentos-filtros-header",children:[h.jsxs("button",{className:"lancamentos-filter-btn",onClick:()=>x(!w),children:[h.jsx(zd,{}),"Filtros"]}),h.jsxs("div",{className:"lancamentos-search",children:[h.jsx(qd,{}),h.jsx("input",{type:"text",placeholder:"Buscar por colaborador...",value:o.colaboradorNome||"",onChange:R=>Q("colaboradorNome",R.target.value)})]})]}),w&&h.jsxs("div",{className:"lancamentos-filtros-panel",children:[h.jsxs("div",{className:"lancamentos-filter-group",children:[h.jsx("label",{children:"Data Incio"}),h.jsx("input",{type:"date",value:o.dataInicio?o.dataInicio.toISOString().split("T")[0]:"",onChange:R=>Q("dataInicio",R.target.value?new Date(R.target.value):void 0)})]}),h.jsxs("div",{className:"lancamentos-filter-group",children:[h.jsx("label",{children:"Data Fim"}),h.jsx("input",{type:"date",value:o.dataFim?o.dataFim.toISOString().split("T")[0]:"",onChange:R=>Q("dataFim",R.target.value?new Date(R.target.value):void 0)})]}),h.jsxs("div",{className:"lancamentos-filter-group",children:[h.jsx("label",{children:"Tipo de Movimentao"}),h.jsxs("select",{value:o.tipoMovimentacao||"",onChange:R=>Q("tipoMovimentacao",R.target.value?R.target.value:void 0),children:[h.jsx("option",{value:"",children:"Todos"}),uS.map(R=>h.jsx("option",{value:R,children:R},R))]})]}),h.jsxs("div",{className:"lancamentos-filter-group",children:[h.jsx("label",{children:"Status"}),h.jsxs("select",{value:o.status||"",onChange:R=>Q("status",R.target.value?R.target.value:void 0),children:[h.jsx("option",{value:"",children:"Todos"}),hS.map(R=>h.jsx("option",{value:R,children:R},R))]})]})]})]}),h.jsx("div",{className:"lancamentos-table-container",children:T?h.jsx("div",{className:"lancamentos-loading",children:"Carregando lanamentos..."}):n.length===0?h.jsxs("div",{className:"lancamentos-empty",children:[h.jsx(Hn,{className:"lancamentos-empty-icon"}),h.jsx("p",{children:"Nenhum lanamento encontrado."})]}):h.jsxs("table",{className:"lancamentos-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Data/Hora"}),h.jsx("th",{children:"Tipo"}),h.jsx("th",{children:"Descrio"}),h.jsx("th",{children:"Colaborador"}),h.jsx("th",{children:"Valor"}),h.jsx("th",{children:"Status"}),h.jsx("th",{children:"Anexos"}),h.jsx("th",{children:"Aes"})]})}),h.jsx("tbody",{children:n.map(R=>h.jsxs("tr",{children:[h.jsx("td",{children:h.jsxs("div",{className:"lancamentos-datetime",children:[h.jsx("strong",{children:ge(R.dataLancamento)}),h.jsx("span",{children:we(R.dataLancamento)})]})}),h.jsx("td",{children:h.jsx("span",{className:`lancamentos-tipo-badge ${se(R.tipoMovimentacao)}`,children:R.tipoMovimentacao})}),h.jsx("td",{children:h.jsx("div",{className:"lancamentos-descricao",children:R.descricao})}),h.jsx("td",{children:R.colaboradorNome}),h.jsx("td",{className:"lancamentos-valor",children:_e(R.valor)}),h.jsx("td",{children:h.jsx("span",{className:`lancamentos-status-badge ${ne(R.status)}`,children:R.status})}),h.jsx("td",{children:R.anexos.length>0?h.jsxs("div",{className:"lancamentos-anexos-count",children:[h.jsx(Bd,{}),h.jsx("span",{children:R.anexos.length})]}):h.jsx("span",{className:"lancamentos-sem-anexo",children:"-"})}),h.jsx("td",{children:h.jsxs("div",{className:"lancamentos-actions",children:[h.jsx("button",{className:"lancamentos-action-btn",title:"Editar",onClick:()=>{g(R),p(!0)},children:h.jsx(Cc,{})}),h.jsx("button",{className:"lancamentos-action-btn danger",title:"Excluir",onClick:()=>z(R.id),children:h.jsx(Dc,{})}),R.status==="Pendente"&&h.jsx("button",{className:"lancamentos-action-btn success",title:"Marcar como recebido",onClick:()=>$(R.id,"Recebido"),children:h.jsx(qa,{})}),R.status==="Recebido"&&h.jsx("button",{className:"lancamentos-action-btn warning",title:"Marcar como pendente",onClick:()=>$(R.id,"Pendente"),children:h.jsx(Ei,{})})]})})]},R.id))})]})}),d&&h.jsx(p4,{lancamento:v,onClose:()=>{p(!1),g(null)},onSuccess:async()=>{p(!1),g(null),await O()},userId:a?.uid||"",userName:a?.name||""})]})})},p4=({lancamento:a,onClose:e,onSuccess:n,userId:s,userName:o})=>{const[c,d]=L.useState({tipoMovimentacao:a?.tipoMovimentacao||"Servio",descricao:a?.descricao||"",valor:a?.valor||0,dataLancamento:a?.dataLancamento?new Date(a.dataLancamento).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],status:a?.status||"Pendente",colaboradorId:a?.colaboradorId||s,colaboradorNome:a?.colaboradorNome||o,observacoes:a?.observacoes||"",anexos:[]}),[p,v]=L.useState(!1),g=x=>{const{name:O,value:Q}=x.target;d(z=>({...z,[O]:O==="valor"?Number(Q):Q}))},T=x=>{x.target.files&&d(O=>({...O,anexos:Array.from(x.target.files||[])}))},b=x=>{d(O=>({...O,anexos:O.anexos.filter((Q,z)=>z!==x)}))},w=async x=>{x.preventDefault(),v(!0);try{const O={tipoMovimentacao:c.tipoMovimentacao,descricao:c.descricao,valor:c.valor,dataLancamento:new Date(c.dataLancamento),status:c.status,colaboradorId:c.colaboradorId,colaboradorNome:c.colaboradorNome,observacoes:c.observacoes,anexos:c.anexos};a?await vc.update(a.id,O):await vc.create(O,s,o),n()}catch(O){console.error("Erro ao salvar lanamento:",O),alert("No foi possvel salvar o lanamento.")}finally{v(!1)}};return h.jsx("div",{className:"lancamentos-modal-overlay",onClick:e,children:h.jsxs("div",{className:"lancamentos-modal",onClick:x=>x.stopPropagation(),children:[h.jsxs("div",{className:"lancamentos-modal-header",children:[h.jsx("h2",{children:a?"Editar Lanamento":"Novo Lanamento Dirio"}),h.jsx("button",{className:"lancamentos-modal-close",onClick:e,children:h.jsx(_r,{})})]}),h.jsxs("form",{className:"lancamentos-modal-form",onSubmit:w,children:[h.jsxs("div",{className:"lancamentos-modal-row",children:[h.jsxs("div",{className:"lancamentos-modal-group",children:[h.jsx("label",{children:"Tipo de Movimentao *"}),h.jsx("select",{name:"tipoMovimentacao",value:c.tipoMovimentacao,onChange:g,required:!0,children:uS.map(x=>h.jsx("option",{value:x,children:x},x))})]}),h.jsxs("div",{className:"lancamentos-modal-group",children:[h.jsx("label",{children:"Data *"}),h.jsx("input",{type:"date",name:"dataLancamento",value:c.dataLancamento,onChange:g,required:!0})]}),h.jsxs("div",{className:"lancamentos-modal-group",children:[h.jsx("label",{children:"Status *"}),h.jsx("select",{name:"status",value:c.status,onChange:g,required:!0,children:hS.map(x=>h.jsx("option",{value:x,children:x},x))})]})]}),h.jsxs("div",{className:"lancamentos-modal-row",children:[h.jsxs("div",{className:"lancamentos-modal-group",children:[h.jsx("label",{children:"Colaborador *"}),h.jsx("input",{type:"text",name:"colaboradorNome",value:c.colaboradorNome,onChange:g,required:!0,placeholder:"Nome do colaborador"})]}),h.jsxs("div",{className:"lancamentos-modal-group",children:[h.jsx("label",{children:"Valor (R$) *"}),h.jsx("input",{type:"number",name:"valor",min:"0",step:"0.01",value:c.valor,onChange:g,required:!0})]})]}),h.jsxs("div",{className:"lancamentos-modal-group",children:[h.jsx("label",{children:"Descrio *"}),h.jsx("textarea",{name:"descricao",value:c.descricao,onChange:g,rows:3,required:!0,placeholder:"Descreva a movimentao..."})]}),h.jsxs("div",{className:"lancamentos-modal-group",children:[h.jsx("label",{children:"Observaes"}),h.jsx("textarea",{name:"observacoes",value:c.observacoes,onChange:g,rows:3,placeholder:"Observaes adicionais..."})]}),h.jsxs("div",{className:"lancamentos-modal-group",children:[h.jsx("label",{children:"Anexar Comprovantes"}),h.jsxs("div",{className:"lancamentos-file-upload",children:[h.jsx("input",{type:"file",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:T,id:"lancamento-file-upload"}),h.jsxs("label",{htmlFor:"lancamento-file-upload",className:"lancamentos-file-upload-label",children:[h.jsx(Bd,{}),"Selecionar arquivos (PDF, OS, Boletos, Comprovantes)"]}),c.anexos.length>0&&h.jsx("div",{className:"lancamentos-file-list",children:c.anexos.map((x,O)=>h.jsxs("div",{className:"lancamentos-file-item",children:[h.jsx(Hn,{}),h.jsx("span",{children:x.name}),h.jsx("button",{type:"button",onClick:()=>b(O),className:"lancamentos-file-remove",children:h.jsx(_r,{})})]},O))})]})]}),h.jsxs("div",{className:"lancamentos-modal-actions",children:[h.jsx("button",{type:"button",className:"lancamentos-secondary-btn",onClick:e,children:"Cancelar"}),h.jsx("button",{type:"submit",className:"lancamentos-primary-btn",disabled:p,children:p?"Salvando...":a?"Atualizar":"Cadastrar"})]})]})]})})},g4=Sr(sa,"premiosProdutividade"),v4=Sr(sa,"boletinsMedicao"),y4=Sr(sa,"lancamentosDiarios"),lp={async gerarRelatorioConsolidado(a,e){const n=new Date(e,a-1,1),s=new Date(e,a,0,23,59,59,999),[o,c,d]=await Promise.all([this.getPremiosPorPeriodo(n,s),this.getBoletinsPorPeriodo(n,s),this.getRecebimentosPorPeriodo(n,s)]),p={quantidade:o.length,valorTotal:o.reduce((w,x)=>w+x.valor,0),aprovados:o.filter(w=>w.status==="Aprovado").length,pendentes:o.filter(w=>w.status==="Pendente").length,emRevisao:o.filter(w=>w.status==="Em reviso").length},v={quantidade:c.length,valorTotal:c.reduce((w,x)=>w+x.valor,0),emitidos:c.filter(w=>w.status==="Emitido").length,pendentes:c.filter(w=>w.status==="Pendente").length,aguardandoAssinatura:c.filter(w=>w.status==="Aguardando assinatura").length},g={quantidade:d.filter(w=>w.tipoMovimentacao==="Recebimento").length,valorTotal:d.filter(w=>w.tipoMovimentacao==="Recebimento").reduce((w,x)=>w+x.valor,0),recebidos:d.filter(w=>w.tipoMovimentacao==="Recebimento"&&w.status==="Recebido").length,pendentes:d.filter(w=>w.tipoMovimentacao==="Recebimento"&&w.status==="Pendente").length},T={total:0,vencidas:0,vencendoEm7Dias:0,vencendoEm30Dias:0,emDia:0},b={totalPremiosPagos:p.valorTotal,totalBoletinsEmitidos:v.valorTotal,totalDocumentacoesVencidas:0,totalRecebimentos:g.valorTotal,totalGeral:p.valorTotal+v.valorTotal+g.valorTotal};return{id:`relatorio-${e}-${a}`,mes:a,ano:e,dataGeracao:new Date,geradoPor:"current-user",geradoPorNome:"Usurio",resumo:b,premios:p,boletins:v,documentacoes:T,recebimentos:g}},async getPremiosPorPeriodo(a,e){const n=aa(g4,at("dataPremio",">=",fe.fromDate(a)),at("dataPremio","<=",fe.fromDate(e)),vi("dataPremio","desc"));return(await on(n)).docs.map(o=>{const c=o.data();return{valor:c.valor||0,status:c.status||"Pendente"}})},async getBoletinsPorPeriodo(a,e){const n=aa(v4,at("dataEmissao",">=",fe.fromDate(a)),at("dataEmissao","<=",fe.fromDate(e)),vi("dataEmissao","desc"));return(await on(n)).docs.map(o=>{const c=o.data();return{valor:c.valor||0,status:c.status||"Pendente"}})},async getRecebimentosPorPeriodo(a,e){const n=aa(y4,at("dataLancamento",">=",fe.fromDate(a)),at("dataLancamento","<=",fe.fromDate(e)),vi("dataLancamento","desc"));return(await on(n)).docs.map(o=>{const c=o.data();return{valor:c.valor||0,status:c.status||"Pendente",tipoMovimentacao:c.tipoMovimentacao||"Outro"}})},async exportarRelatorioPDF(a){const e=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],n=o=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(o),s=`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="UTF-8">
          <title>Relatrio Consolidado - ${e[a.mes-1]}/${a.ano}</title>
          <style>
            body { font-family: Arial, sans-serif; padding: 20px; }
            h1 { color: #667eea; }
            table { width: 100%; border-collapse: collapse; margin: 20px 0; }
            th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
            th { background-color: #667eea; color: white; }
            .summary { background-color: #f7fafc; padding: 15px; border-radius: 8px; margin: 20px 0; }
            .total { font-weight: bold; font-size: 18px; color: #667eea; }
          </style>
        </head>
        <body>
          <h1>Relatrio Consolidado Mensal</h1>
          <p><strong>Perodo:</strong> ${e[a.mes-1]}/${a.ano}</p>
          <p><strong>Data de Gerao:</strong> ${new Date(a.dataGeracao).toLocaleDateString("pt-BR")}</p>
          <p><strong>Gerado por:</strong> ${a.geradoPorNome}</p>
          
          <div class="summary">
            <h2>Resumo Geral</h2>
            <p>Total de Prmios Pagos: ${n(a.resumo.totalPremiosPagos)}</p>
            <p>Total de Boletins Emitidos: ${n(a.resumo.totalBoletinsEmitidos)}</p>
            <p>Total de Recebimentos: ${n(a.resumo.totalRecebimentos)}</p>
            <p class="total">Total Geral: ${n(a.resumo.totalGeral)}</p>
          </div>
  
          <h2>Prmios de Produtividade</h2>
          <table>
            <tr>
              <th>Quantidade</th>
              <th>Valor Total</th>
              <th>Aprovados</th>
              <th>Pendentes</th>
              <th>Em Reviso</th>
            </tr>
            <tr>
              <td>${a.premios.quantidade}</td>
              <td>${n(a.premios.valorTotal)}</td>
              <td>${a.premios.aprovados}</td>
              <td>${a.premios.pendentes}</td>
              <td>${a.premios.emRevisao}</td>
            </tr>
          </table>
  
          <h2>Boletins de Medio</h2>
          <table>
            <tr>
              <th>Quantidade</th>
              <th>Valor Total</th>
              <th>Emitidos</th>
              <th>Pendentes</th>
              <th>Aguardando Assinatura</th>
            </tr>
            <tr>
              <td>${a.boletins.quantidade}</td>
              <td>${n(a.boletins.valorTotal)}</td>
              <td>${a.boletins.emitidos}</td>
              <td>${a.boletins.pendentes}</td>
              <td>${a.boletins.aguardandoAssinatura}</td>
            </tr>
          </table>
  
          <h2>Recebimentos</h2>
          <table>
            <tr>
              <th>Quantidade</th>
              <th>Valor Total</th>
              <th>Recebidos</th>
              <th>Pendentes</th>
            </tr>
            <tr>
              <td>${a.recebimentos.quantidade}</td>
              <td>${n(a.recebimentos.valorTotal)}</td>
              <td>${a.recebimentos.recebidos}</td>
              <td>${a.recebimentos.pendentes}</td>
            </tr>
          </table>
        </body>
        </html>
      `;return new Blob([s],{type:"text/html"})},async exportarRelatorioExcel(a){const e=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],n=c=>c.toFixed(2).replace(".",","),o=[["Relatrio Consolidado Mensal"],[`Perodo: ${e[a.mes-1]}/${a.ano}`],[`Data de Gerao: ${new Date(a.dataGeracao).toLocaleDateString("pt-BR")}`],[`Gerado por: ${a.geradoPorNome}`],[],["RESUMO GERAL"],["Total de Prmios Pagos",n(a.resumo.totalPremiosPagos)],["Total de Boletins Emitidos",n(a.resumo.totalBoletinsEmitidos)],["Total de Recebimentos",n(a.resumo.totalRecebimentos)],["TOTAL GERAL",n(a.resumo.totalGeral)],[],["PRMIOS DE PRODUTIVIDADE"],["Quantidade","Valor Total","Aprovados","Pendentes","Em Reviso"],[a.premios.quantidade.toString(),n(a.premios.valorTotal),a.premios.aprovados.toString(),a.premios.pendentes.toString(),a.premios.emRevisao.toString()],[],["BOLETINS DE MEDIO"],["Quantidade","Valor Total","Emitidos","Pendentes","Aguardando Assinatura"],[a.boletins.quantidade.toString(),n(a.boletins.valorTotal),a.boletins.emitidos.toString(),a.boletins.pendentes.toString(),a.boletins.aguardandoAssinatura.toString()],[],["RECEBIMENTOS"],["Quantidade","Valor Total","Recebidos","Pendentes"],[a.recebimentos.quantidade.toString(),n(a.recebimentos.valorTotal),a.recebimentos.recebidos.toString(),a.recebimentos.pendentes.toString()]].map(c=>c.map(d=>`"${String(d).replace(/"/g,'""')}"`).join(";")).join(`
`);return new Blob([o],{type:"text/csv;charset=utf-8;"})}},cp=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],_4=()=>{const a=new Date,[e,n]=L.useState(a.getMonth()+1),[s,o]=L.useState(a.getFullYear()),[c,d]=L.useState(null),[p,v]=L.useState(!1),[g,T]=L.useState(!1),[b,w]=L.useState(!1),x=async()=>{try{v(!0);const $=await lp.gerarRelatorioConsolidado(e,s);d($)}catch($){console.error("Erro ao gerar relatrio:",$),alert("No foi possvel gerar o relatrio.")}finally{v(!1)}},O=async()=>{if(c)try{T(!0);const $=await lp.exportarRelatorioPDF(c),ne=URL.createObjectURL($),se=document.createElement("a");se.href=ne,se.download=`relatorio_consolidado_${cp[e-1]}_${s}.html`,se.click(),URL.revokeObjectURL(ne)}catch($){console.error("Erro ao exportar PDF:",$),alert("No foi possvel exportar o PDF.")}finally{T(!1)}},Q=async()=>{if(c)try{w(!0);const $=await lp.exportarRelatorioExcel(c),ne=URL.createObjectURL($),se=document.createElement("a");se.href=ne,se.download=`relatorio_consolidado_${cp[e-1]}_${s}.csv`,se.click(),URL.revokeObjectURL(ne)}catch($){console.error("Erro ao exportar Excel:",$),alert("No foi possvel exportar o Excel.")}finally{w(!1)}},z=$=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format($);return h.jsx(Yo,{children:h.jsxs("div",{className:"relatorios-container",children:[h.jsx("div",{className:"relatorios-header",children:h.jsxs("div",{children:[h.jsx("h1",{className:"relatorios-title",children:"Relatrios e Controle Geral"}),h.jsx("p",{className:"relatorios-subtitle",children:"Gere relatrios consolidados mensais com todos os dados do sistema"})]})}),h.jsxs("div",{className:"relatorios-filters-card",children:[h.jsxs("div",{className:"relatorios-filters-header",children:[h.jsx(zp,{className:"relatorios-filter-icon"}),h.jsx("h2",{children:"Filtros do Relatrio"})]}),h.jsxs("div",{className:"relatorios-filters-content",children:[h.jsxs("div",{className:"relatorios-filter-group",children:[h.jsx("label",{children:"Ms"}),h.jsx("select",{value:e,onChange:$=>n(Number($.target.value)),children:cp.map(($,ne)=>h.jsx("option",{value:ne+1,children:$},$))})]}),h.jsxs("div",{className:"relatorios-filter-group",children:[h.jsx("label",{children:"Ano"}),h.jsx("select",{value:s,onChange:$=>o(Number($.target.value)),children:Array.from({length:5},($,ne)=>a.getFullYear()-ne).map($=>h.jsx("option",{value:$,children:$},$))})]}),h.jsxs("button",{className:"relatorios-generate-btn",onClick:x,disabled:p,children:[h.jsx(r1,{}),p?"Gerando...":"Gerar Relatrio"]})]})]}),c&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"relatorios-summary-cards",children:[h.jsxs("div",{className:"relatorios-summary-card",children:[h.jsx("div",{className:"relatorios-summary-icon verde",children:h.jsx(Fh,{})}),h.jsxs("div",{className:"relatorios-summary-content",children:[h.jsx("h3",{children:"Prmios Pagos"}),h.jsx("p",{className:"relatorios-summary-value",children:z(c.resumo.totalPremiosPagos)})]})]}),h.jsxs("div",{className:"relatorios-summary-card",children:[h.jsx("div",{className:"relatorios-summary-icon azul",children:h.jsx(Hn,{})}),h.jsxs("div",{className:"relatorios-summary-content",children:[h.jsx("h3",{children:"Boletins Emitidos"}),h.jsx("p",{className:"relatorios-summary-value",children:z(c.resumo.totalBoletinsEmitidos)})]})]}),h.jsxs("div",{className:"relatorios-summary-card",children:[h.jsx("div",{className:"relatorios-summary-icon laranja",children:h.jsx(Hn,{})}),h.jsxs("div",{className:"relatorios-summary-content",children:[h.jsx("h3",{children:"Documentaes Vencidas"}),h.jsx("p",{className:"relatorios-summary-value",children:c.documentacoes.vencidas})]})]}),h.jsxs("div",{className:"relatorios-summary-card",children:[h.jsx("div",{className:"relatorios-summary-icon verde",children:h.jsx(Fh,{})}),h.jsxs("div",{className:"relatorios-summary-content",children:[h.jsx("h3",{children:"Recebimentos"}),h.jsx("p",{className:"relatorios-summary-value",children:z(c.resumo.totalRecebimentos)})]})]}),h.jsxs("div",{className:"relatorios-summary-card total",children:[h.jsx("div",{className:"relatorios-summary-icon roxo",children:h.jsx(Fh,{})}),h.jsxs("div",{className:"relatorios-summary-content",children:[h.jsx("h3",{children:"Total Geral"}),h.jsx("p",{className:"relatorios-summary-value total-value",children:z(c.resumo.totalGeral)})]})]})]}),h.jsxs("div",{className:"relatorios-details",children:[h.jsxs("div",{className:"relatorios-detail-section",children:[h.jsx("h3",{children:"Prmios de Produtividade"}),h.jsxs("div",{className:"relatorios-detail-grid",children:[h.jsxs("div",{className:"relatorios-detail-item",children:[h.jsx("span",{className:"relatorios-detail-label",children:"Quantidade"}),h.jsx("span",{className:"relatorios-detail-value",children:c.premios.quantidade})]}),h.jsxs("div",{className:"relatorios-detail-item",children:[h.jsx("span",{className:"relatorios-detail-label",children:"Valor Total"}),h.jsx("span",{className:"relatorios-detail-value",children:z(c.premios.valorTotal)})]}),h.jsxs("div",{className:"relatorios-detail-item",children:[h.jsx("span",{className:"relatorios-detail-label",children:"Aprovados"}),h.jsx("span",{className:"relatorios-detail-value",children:c.premios.aprovados})]}),h.jsxs("div",{className:"relatorios-detail-item",children:[h.jsx("span",{className:"relatorios-detail-label",children:"Pendentes"}),h.jsx("span",{className:"relatorios-detail-value",children:c.premios.pendentes})]}),h.jsxs("div",{className:"relatorios-detail-item",children:[h.jsx("span",{className:"relatorios-detail-label",children:"Em Reviso"}),h.jsx("span",{className:"relatorios-detail-value",children:c.premios.emRevisao})]})]})]}),h.jsxs("div",{className:"relatorios-detail-section",children:[h.jsx("h3",{children:"Boletins de Medio"}),h.jsxs("div",{className:"relatorios-detail-grid",children:[h.jsxs("div",{className:"relatorios-detail-item",children:[h.jsx("span",{className:"relatorios-detail-label",children:"Quantidade"}),h.jsx("span",{className:"relatorios-detail-value",children:c.boletins.quantidade})]}),h.jsxs("div",{className:"relatorios-detail-item",children:[h.jsx("span",{className:"relatorios-detail-label",children:"Valor Total"}),h.jsx("span",{className:"relatorios-detail-value",children:z(c.boletins.valorTotal)})]}),h.jsxs("div",{className:"relatorios-detail-item",children:[h.jsx("span",{className:"relatorios-detail-label",children:"Emitidos"}),h.jsx("span",{className:"relatorios-detail-value",children:c.boletins.emitidos})]}),h.jsxs("div",{className:"relatorios-detail-item",children:[h.jsx("span",{className:"relatorios-detail-label",children:"Pendentes"}),h.jsx("span",{className:"relatorios-detail-value",children:c.boletins.pendentes})]}),h.jsxs("div",{className:"relatorios-detail-item",children:[h.jsx("span",{className:"relatorios-detail-label",children:"Aguardando Assinatura"}),h.jsx("span",{className:"relatorios-detail-value",children:c.boletins.aguardandoAssinatura})]})]})]}),h.jsxs("div",{className:"relatorios-detail-section",children:[h.jsx("h3",{children:"Documentaes"}),h.jsxs("div",{className:"relatorios-detail-grid",children:[h.jsxs("div",{className:"relatorios-detail-item",children:[h.jsx("span",{className:"relatorios-detail-label",children:"Total"}),h.jsx("span",{className:"relatorios-detail-value",children:c.documentacoes.total})]}),h.jsxs("div",{className:"relatorios-detail-item",children:[h.jsx("span",{className:"relatorios-detail-label",children:"Vencidas"}),h.jsx("span",{className:"relatorios-detail-value error",children:c.documentacoes.vencidas})]}),h.jsxs("div",{className:"relatorios-detail-item",children:[h.jsx("span",{className:"relatorios-detail-label",children:"Vencendo em 7 dias"}),h.jsx("span",{className:"relatorios-detail-value warning",children:c.documentacoes.vencendoEm7Dias})]}),h.jsxs("div",{className:"relatorios-detail-item",children:[h.jsx("span",{className:"relatorios-detail-label",children:"Vencendo em 30 dias"}),h.jsx("span",{className:"relatorios-detail-value warning",children:c.documentacoes.vencendoEm30Dias})]}),h.jsxs("div",{className:"relatorios-detail-item",children:[h.jsx("span",{className:"relatorios-detail-label",children:"Em Dia"}),h.jsx("span",{className:"relatorios-detail-value success",children:c.documentacoes.emDia})]})]})]}),h.jsxs("div",{className:"relatorios-detail-section",children:[h.jsx("h3",{children:"Recebimentos"}),h.jsxs("div",{className:"relatorios-detail-grid",children:[h.jsxs("div",{className:"relatorios-detail-item",children:[h.jsx("span",{className:"relatorios-detail-label",children:"Quantidade"}),h.jsx("span",{className:"relatorios-detail-value",children:c.recebimentos.quantidade})]}),h.jsxs("div",{className:"relatorios-detail-item",children:[h.jsx("span",{className:"relatorios-detail-label",children:"Valor Total"}),h.jsx("span",{className:"relatorios-detail-value",children:z(c.recebimentos.valorTotal)})]}),h.jsxs("div",{className:"relatorios-detail-item",children:[h.jsx("span",{className:"relatorios-detail-label",children:"Recebidos"}),h.jsx("span",{className:"relatorios-detail-value success",children:c.recebimentos.recebidos})]}),h.jsxs("div",{className:"relatorios-detail-item",children:[h.jsx("span",{className:"relatorios-detail-label",children:"Pendentes"}),h.jsx("span",{className:"relatorios-detail-value warning",children:c.recebimentos.pendentes})]})]})]})]}),h.jsxs("div",{className:"relatorios-export-actions",children:[h.jsxs("button",{className:"relatorios-export-btn pdf",onClick:O,disabled:g,children:[h.jsx(Bp,{}),g?"Exportando...":"Exportar PDF"]}),h.jsxs("button",{className:"relatorios-export-btn excel",onClick:Q,disabled:b,children:[h.jsx(Bp,{}),b?"Exportando...":"Exportar Excel"]})]})]}),!c&&!p&&h.jsxs("div",{className:"relatorios-empty",children:[h.jsx(r1,{className:"relatorios-empty-icon"}),h.jsx("p",{children:"Selecione o perodo e gere um relatrio consolidado"})]})]})})};function E4(){return h.jsx(Aj,{children:h.jsxs(nj,{children:[h.jsx(Oa,{path:Ma.home,element:h.jsx(l1,{})}),h.jsx(Oa,{path:Ma.login,element:h.jsx(Wj,{})}),h.jsx(Oa,{path:Ma.register,element:h.jsx(e4,{})}),h.jsx(Oa,{path:Ma.dashboard,element:h.jsx(Mj,{children:h.jsx(l1,{})})}),h.jsx(Oa,{path:Ma.premiosProdutividade,element:h.jsx(s4,{})}),h.jsx(Oa,{path:Ma.boletinsMedicao,element:h.jsx(o4,{})}),h.jsx(Oa,{path:Ma.documentacoes,element:h.jsx(h4,{})}),h.jsx(Oa,{path:Ma.cadernoVirtual,element:h.jsx(m4,{})}),h.jsx(Oa,{path:Ma.relatorios,element:h.jsx(_4,{})})]})})}function T4(){return h.jsx(uD,{children:h.jsx(E4,{})})}Zw.createRoot(document.getElementById("root")).render(h.jsx(L.StrictMode,{children:h.jsx(T4,{})}));
